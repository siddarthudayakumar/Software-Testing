<!--
RSS generated by JIRA (6.3.4#6332-sha1:51bc225ef474afe3128b2f66878477f322397b16) at Tue Mar 08 08:01:13 UTC 2016

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary add field=key&field=summary to the URL of your request.
For example:
https://issues.apache.org/jira/sr/jira.issueviews:searchrequest-xml/temp/SearchRequest.xml?jqlQuery=project+%3D+SPARK&amp;tempMax=100&amp;field=key&amp;field=summary
-->
<!-- If you wish to do custom client-side styling of RSS, uncomment this:
<?xml-stylesheet href="https://issues.apache.org/jira/styles/jiraxml2html.xsl" type="text/xsl"?>
-->
<rss version="0.92">
    <channel>
        <title>ASF JIRA</title>
        <link>https://issues.apache.org/jira/secure/IssueNavigator.jspa?reset=true&amp;jqlQuery=project+%3D+SPARK</link>
        <description>An XML representation of a search request</description>
                <language>en-uk</language>
                        <issue start="0" end="100" total="13439"/>
                <build-info>
            <version>6.3.4</version>
            <build-number>6332</build-number>
            <build-date>15-08-2014</build-date>
        </build-info>
<item>
            <title>[SPARK-13740] add null check for _verify_type in types.py</title>
                <link>https://issues.apache.org/jira/browse/SPARK-13740</link>
                <project id="12315420" key="SPARK">Spark</project>
                    <description></description>
                <environment></environment>
        <key id="12947919">SPARK-13740</key>
            <summary>add null check for _verify_type in types.py</summary>
                <type id="4" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/improvement.png">Improvement</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.png">Major</priority>
                        <status id="3" iconUrl="https://issues.apache.org/jira/images/icons/statuses/inprogress.png" description="This issue is being actively worked on at the moment by the assignee.">In Progress</status>
                    <statusCategory id="4" key="indeterminate" colorName="yellow"/>
                                    <resolution id="-1">Unresolved</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="cloud_fan">Wenchen Fan</reporter>
                        <labels>
                    </labels>
                <created>Tue, 8 Mar 2016 06:34:15 +0000</created>
                <updated>Tue, 8 Mar 2016 06:36:06 +0000</updated>
                                                                            <component>SQL</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                <comments>
                            <comment id="15184532" author="apachespark" created="Tue, 8 Mar 2016 06:36:04 +0000"  >&lt;p&gt;User &apos;cloud-fan&apos; has created a pull request for this issue:&lt;br/&gt;
&lt;a href=&quot;https://github.com/apache/spark/pull/11574&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://github.com/apache/spark/pull/11574&lt;/a&gt;&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Tue, 8 Mar 2016 06:36:04 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i2ubhb:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                    </customfields>
    </item>

<item>
            <title>[SPARK-13739] Predicate Push Down Through Window Operator</title>
                <link>https://issues.apache.org/jira/browse/SPARK-13739</link>
                <project id="12315420" key="SPARK">Spark</project>
                    <description>&lt;p&gt;Push down the predicate through the Window operator.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12947886">SPARK-13739</key>
            <summary>Predicate Push Down Through Window Operator</summary>
                <type id="4" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/improvement.png">Improvement</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.png">Major</priority>
                        <status id="1" iconUrl="https://issues.apache.org/jira/images/icons/statuses/open.png" description="The issue is open and ready for the assignee to start work on it.">Open</status>
                    <statusCategory id="2" key="new" colorName="blue-gray"/>
                                    <resolution id="-1">Unresolved</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="smilegator">Xiao Li</reporter>
                        <labels>
                    </labels>
                <created>Tue, 8 Mar 2016 02:25:26 +0000</created>
                <updated>Tue, 8 Mar 2016 02:26:09 +0000</updated>
                                            <version>2.0.0</version>
                                                    <component>SQL</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                <comments>
                            <comment id="15184245" author="smilegator" created="Tue, 8 Mar 2016 02:26:09 +0000"  >&lt;p&gt;Thanks! I am working on it. &lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i2ub9z:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                    </customfields>
    </item>

<item>
            <title>[SPARK-13738] Clean up ResolveDataSource</title>
                <link>https://issues.apache.org/jira/browse/SPARK-13738</link>
                <project id="12315420" key="SPARK">Spark</project>
                    <description></description>
                <environment></environment>
        <key id="12947884">SPARK-13738</key>
            <summary>Clean up ResolveDataSource</summary>
                <type id="7" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/subtask_alternate.png">Sub-task</type>
                            <parent id="12946865">SPARK-13664</parent>
                                    <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.png">Major</priority>
                        <status id="3" iconUrl="https://issues.apache.org/jira/images/icons/statuses/inprogress.png" description="This issue is being actively worked on at the moment by the assignee.">In Progress</status>
                    <statusCategory id="4" key="indeterminate" colorName="yellow"/>
                                    <resolution id="-1">Unresolved</resolution>
                                        <assignee username="marmbrus">Michael Armbrust</assignee>
                                    <reporter username="marmbrus">Michael Armbrust</reporter>
                        <labels>
                    </labels>
                <created>Tue, 8 Mar 2016 02:18:18 +0000</created>
                <updated>Tue, 8 Mar 2016 02:26:07 +0000</updated>
                                                                            <component>SQL</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                <comments>
                            <comment id="15184244" author="apachespark" created="Tue, 8 Mar 2016 02:26:04 +0000"  >&lt;p&gt;User &apos;marmbrus&apos; has created a pull request for this issue:&lt;br/&gt;
&lt;a href=&quot;https://github.com/apache/spark/pull/11572&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://github.com/apache/spark/pull/11572&lt;/a&gt;&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Tue, 8 Mar 2016 02:26:04 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i2ub9j:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12310320" key="com.atlassian.jira.plugin.system.customfieldtypes:multiversion">
                        <customfieldname>Target Version/s</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue>12329449</customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                </customfields>
    </item>

<item>
            <title>[SPARK-13737] Add getOrCreate method for HiveContext</title>
                <link>https://issues.apache.org/jira/browse/SPARK-13737</link>
                <project id="12315420" key="SPARK">Spark</project>
                    <description>&lt;p&gt;There is a &quot;getOrCreate&quot; method in SQLContext, which is useful to recoverable streaming application with SQL operation. &lt;br/&gt;
&lt;a href=&quot;https://spark.apache.org/docs/latest/streaming-programming-guide.html#dataframe-and-sql-operations&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://spark.apache.org/docs/latest/streaming-programming-guide.html#dataframe-and-sql-operations&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;But the corresponding method is missing in HiveContext. &lt;/p&gt;</description>
                <environment></environment>
        <key id="12947881">SPARK-13737</key>
            <summary>Add getOrCreate method for HiveContext</summary>
                <type id="2" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/newfeature.png">New Feature</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.png">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="2">Won&apos;t Fix</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="mwws">Mao, Wei</reporter>
                        <labels>
                    </labels>
                <created>Tue, 8 Mar 2016 01:56:34 +0000</created>
                <updated>Tue, 8 Mar 2016 02:36:29 +0000</updated>
                            <resolved>Tue, 8 Mar 2016 02:36:29 +0000</resolved>
                                                                    <component>SQL</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>3</watches>
                                                                <comments>
                            <comment id="15184208" author="smilegator" created="Tue, 8 Mar 2016 01:58:19 +0000"  >&lt;p&gt;I think SQLContext and HiveContext is being combined. Not sure we should wait until the merge is done. &lt;/p&gt;</comment>
                            <comment id="15184209" author="apachespark" created="Tue, 8 Mar 2016 01:59:04 +0000"  >&lt;p&gt;User &apos;mwws&apos; has created a pull request for this issue:&lt;br/&gt;
&lt;a href=&quot;https://github.com/apache/spark/pull/11571&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://github.com/apache/spark/pull/11571&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="15184221" author="mwws" created="Tue, 8 Mar 2016 02:06:49 +0000"  >&lt;p&gt;HiveContext is heavily used by many users now, and many of them still coupled with old spark version. As this change would be trivial but not constructive, I think there is not conflict with the context combination work.&lt;/p&gt;</comment>
                            <comment id="15184263" author="mwws" created="Tue, 8 Mar 2016 02:35:41 +0000"  >&lt;p&gt;According to Reynold, databricks is actually going to deprecate HiveContext in Spark2.0 because it has been one of the most confusing contexts in Spark. And user can change constructor to just create a SQLContext/SparkSession&lt;br/&gt;
See more in &lt;a href=&quot;https://issues.apache.org/jira/browse/SPARK-13485&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/browse/SPARK-13485&lt;/a&gt;&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Tue, 8 Mar 2016 01:58:19 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i2ub8v:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        </customfields>
    </item>

<item>
            <title>[SPARK-13736] Big-Endian plataform issues</title>
                <link>https://issues.apache.org/jira/browse/SPARK-13736</link>
                <project id="12315420" key="SPARK">Spark</project>
                    <description>&lt;p&gt;We are starting to see few issues when building/testing on Big-Endian platform. This serves as an umbrella jira to group all platform specific issues.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12947870">SPARK-13736</key>
            <summary>Big-Endian plataform issues</summary>
                <type id="15" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/epic.png">Epic</type>
                                            <priority id="2" iconUrl="https://issues.apache.org/jira/images/icons/priorities/critical.png">Critical</priority>
                        <status id="1" iconUrl="https://issues.apache.org/jira/images/icons/statuses/open.png" description="The issue is open and ready for the assignee to start work on it.">Open</status>
                    <statusCategory id="2" key="new" colorName="blue-gray"/>
                                    <resolution id="-1">Unresolved</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="luciano resende">Luciano Resende</reporter>
                        <labels>
                    </labels>
                <created>Tue, 8 Mar 2016 01:18:03 +0000</created>
                <updated>Tue, 8 Mar 2016 07:28:53 +0000</updated>
                                            <version>1.6.0</version>
                                                    <component>SQL</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>3</watches>
                                                                                                            <comments>
                            <comment id="15184583" author="srowen" created="Tue, 8 Mar 2016 07:28:53 +0000"  >&lt;p&gt;Let&apos;s not make an umbrella, since it doesn&apos;t cover much, and doesn&apos;t actually cover other big-endian issues in the past. &lt;br/&gt;
These are discrete JIRAs underneath.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                            <subtask id="12921617">SPARK-12319</subtask>
                            <subtask id="12924665">SPARK-12555</subtask>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Tue, 8 Mar 2016 07:28:53 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12311123" key="com.pyxis.greenhopper.jira:gh-epic-color">
                        <customfieldname>Epic Colour</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>ghx-label-3</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12311121" key="com.pyxis.greenhopper.jira:gh-epic-label">
                        <customfieldname>Epic Name</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Big-Endian plataform issues</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12311122" key="com.pyxis.greenhopper.jira:gh-epic-status">
                        <customfieldname>Epic Status</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10660"><![CDATA[To Do]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i2ub6f:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                    </customfields>
    </item>

<item>
            <title>[SPARK-13735] Log for parquet relation reading files is too verbose</title>
                <link>https://issues.apache.org/jira/browse/SPARK-13735</link>
                <project id="12315420" key="SPARK">Spark</project>
                    <description>&lt;p&gt;The INFO level logging contains all files read by Parquet Relation, which is way too verbose if the input contains lots of files&lt;/p&gt;</description>
                <environment></environment>
        <key id="12947857">SPARK-13735</key>
            <summary>Log for parquet relation reading files is too verbose</summary>
                <type id="4" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/improvement.png">Improvement</type>
                                            <priority id="5" iconUrl="https://issues.apache.org/jira/images/icons/priorities/trivial.png">Trivial</priority>
                        <status id="1" iconUrl="https://issues.apache.org/jira/images/icons/statuses/open.png" description="The issue is open and ready for the assignee to start work on it.">Open</status>
                    <statusCategory id="2" key="new" colorName="blue-gray"/>
                                    <resolution id="-1">Unresolved</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="zwang">Zhong Wang</reporter>
                        <labels>
                    </labels>
                <created>Tue, 8 Mar 2016 00:31:04 +0000</created>
                <updated>Tue, 8 Mar 2016 00:31:04 +0000</updated>
                                            <version>1.6.0</version>
                                                    <component>SQL</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                        <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i2ub3j:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                    </customfields>
    </item>

<item>
            <title>[SPARK-13734] SparkR histogram</title>
                <link>https://issues.apache.org/jira/browse/SPARK-13734</link>
                <project id="12315420" key="SPARK">Spark</project>
                    <description></description>
                <environment></environment>
        <key id="12947847">SPARK-13734</key>
            <summary>SparkR histogram</summary>
                <type id="2" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/newfeature.png">New Feature</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.png">Minor</priority>
                        <status id="3" iconUrl="https://issues.apache.org/jira/images/icons/statuses/inprogress.png" description="This issue is being actively worked on at the moment by the assignee.">In Progress</status>
                    <statusCategory id="4" key="indeterminate" colorName="yellow"/>
                                    <resolution id="-1">Unresolved</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="olarayej">Oscar D. Lara Yejas</reporter>
                        <labels>
                    </labels>
                <created>Tue, 8 Mar 2016 00:04:25 +0000</created>
                <updated>Tue, 8 Mar 2016 07:29:48 +0000</updated>
                                                                            <component>SparkR</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>4</watches>
                                                                <comments>
                            <comment id="15184057" author="olarayej" created="Tue, 8 Mar 2016 00:04:37 +0000"  >&lt;p&gt;I&apos;m working on this one.&lt;/p&gt;</comment>
                            <comment id="15184106" author="apachespark" created="Tue, 8 Mar 2016 00:50:03 +0000"  >&lt;p&gt;User &apos;olarayej&apos; has created a pull request for this issue:&lt;br/&gt;
&lt;a href=&quot;https://github.com/apache/spark/pull/11569&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://github.com/apache/spark/pull/11569&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="15184584" author="srowen" created="Tue, 8 Mar 2016 07:29:48 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=olarayej&quot; class=&quot;user-hover&quot; rel=&quot;olarayej&quot;&gt;Oscar D. Lara Yejas&lt;/a&gt; this isn&apos;t sufficient for a JIRA. Please fill out title and description properly.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Tue, 8 Mar 2016 00:50:03 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i2ub1b:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                    </customfields>
    </item>

<item>
            <title>[SPARK-13733] Support initial weight distribution in personalized PageRank</title>
                <link>https://issues.apache.org/jira/browse/SPARK-13733</link>
                <project id="12315420" key="SPARK">Spark</project>
                    <description>&lt;p&gt;It would be nice to support personalized PageRank with an initial weight distribution besides a single vertex. It should be easy to modify the current implementation to add this support.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12947832">SPARK-13733</key>
            <summary>Support initial weight distribution in personalized PageRank</summary>
                <type id="2" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/newfeature.png">New Feature</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.png">Major</priority>
                        <status id="1" iconUrl="https://issues.apache.org/jira/images/icons/statuses/open.png" description="The issue is open and ready for the assignee to start work on it.">Open</status>
                    <statusCategory id="2" key="new" colorName="blue-gray"/>
                                    <resolution id="-1">Unresolved</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="mengxr">Xiangrui Meng</reporter>
                        <labels>
                    </labels>
                <created>Mon, 7 Mar 2016 23:10:48 +0000</created>
                <updated>Mon, 7 Mar 2016 23:10:48 +0000</updated>
                                                                            <component>GraphX</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                        <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i2uaxz:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                    </customfields>
    </item>

<item>
            <title>[SPARK-13732] Remove projectList from Windows</title>
                <link>https://issues.apache.org/jira/browse/SPARK-13732</link>
                <project id="12315420" key="SPARK">Spark</project>
                    <description>&lt;p&gt;projectList is useless. Remove it from the class Window. It simplifies the codes in Analyzer and Optimizer. &lt;/p&gt;</description>
                <environment></environment>
        <key id="12947818">SPARK-13732</key>
            <summary>Remove projectList from Windows</summary>
                <type id="4" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/improvement.png">Improvement</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.png">Major</priority>
                        <status id="3" iconUrl="https://issues.apache.org/jira/images/icons/statuses/inprogress.png" description="This issue is being actively worked on at the moment by the assignee.">In Progress</status>
                    <statusCategory id="4" key="indeterminate" colorName="yellow"/>
                                    <resolution id="-1">Unresolved</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="smilegator">Xiao Li</reporter>
                        <labels>
                    </labels>
                <created>Mon, 7 Mar 2016 22:29:39 +0000</created>
                <updated>Mon, 7 Mar 2016 22:34:11 +0000</updated>
                                            <version>2.0.0</version>
                                                    <component>SQL</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                <comments>
                            <comment id="15183885" author="apachespark" created="Mon, 7 Mar 2016 22:34:07 +0000"  >&lt;p&gt;User &apos;gatorsmile&apos; has created a pull request for this issue:&lt;br/&gt;
&lt;a href=&quot;https://github.com/apache/spark/pull/11565&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://github.com/apache/spark/pull/11565&lt;/a&gt;&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Mon, 7 Mar 2016 22:34:07 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i2uauv:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                    </customfields>
    </item>

<item>
            <title>[SPARK-13731] expression evaluation for NaN in select statement</title>
                <link>https://issues.apache.org/jira/browse/SPARK-13731</link>
                <project id="12315420" key="SPARK">Spark</project>
                    <description>&lt;p&gt;We are expecting that arithmetic expression a/b should be:&lt;br/&gt;
1. returning NaN if a=0 and b=0&lt;br/&gt;
2. returning Infinity if a=1 and b=0&lt;/p&gt;

&lt;p&gt;Is the expectation reasonable? &lt;br/&gt;
The following is a simple test case snippet that reads from storage and evaluates arithmetic expressions in select.&lt;br/&gt;
It is assuming org.apache.spark.sql.hive.execution.SQLQuerySuite: &lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
  test(&lt;span class=&quot;code-quote&quot;&gt;&quot;Expression should be evaluated to Nan/Infinity in Select&quot;&lt;/span&gt;) {
    withTable(&lt;span class=&quot;code-quote&quot;&gt;&quot;testNan&quot;&lt;/span&gt;) {
      withTempTable(&lt;span class=&quot;code-quote&quot;&gt;&quot;src&quot;&lt;/span&gt;) {
        Seq((1d, 0d), (0d, 0d)).toDF().registerTempTable(&lt;span class=&quot;code-quote&quot;&gt;&quot;src&quot;&lt;/span&gt;)
        sql(&lt;span class=&quot;code-quote&quot;&gt;&quot;CREATE TABLE testNan(a &lt;span class=&quot;code-object&quot;&gt;double&lt;/span&gt;, b &lt;span class=&quot;code-object&quot;&gt;double&lt;/span&gt;) STORED AS PARQUET AS SELECT * FROM src&quot;&lt;/span&gt;)
      }

      checkAnswer(sql(
        &quot;&quot;&quot;
          |SELECT a/b FROM testNan
        &quot;&quot;&quot;.stripMargin),
        Seq(
          Row(&lt;span class=&quot;code-object&quot;&gt;Double&lt;/span&gt;.PositiveInfinity),
          Row(&lt;span class=&quot;code-object&quot;&gt;Double&lt;/span&gt;.NaN)
        )
      )
    }
  }


== Physical Plan ==
Project [(a#28 / b#29) AS _c0#30]
+- Scan ParquetRelation: &lt;span class=&quot;code-keyword&quot;&gt;default&lt;/span&gt;.testnan[a#28,b#29] InputPaths: file:/&lt;span class=&quot;code-keyword&quot;&gt;private&lt;/span&gt;/&lt;span class=&quot;code-keyword&quot;&gt;var&lt;/span&gt;/folders/dy/19y6pfm92pj9s40mbs8xd9hm0000gp/T/warehouse--5b617080-e909-4812-90e8-63d2dd0aef5a/testnan
== Results ==
!== Correct Answer - 2 ==   == Spark Answer - 2 ==
![Infinity]                 [&lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt;]
![NaN]                      [&lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt;]
      
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</description>
                <environment></environment>
        <key id="12947810">SPARK-13731</key>
            <summary>expression evaluation for NaN in select statement</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/bug.png">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.png">Major</priority>
                        <status id="1" iconUrl="https://issues.apache.org/jira/images/icons/statuses/open.png" description="The issue is open and ready for the assignee to start work on it.">Open</status>
                    <statusCategory id="2" key="new" colorName="blue-gray"/>
                                    <resolution id="-1">Unresolved</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="ianlcsd">Ian</reporter>
                        <labels>
                    </labels>
                <created>Mon, 7 Mar 2016 22:06:24 +0000</created>
                <updated>Tue, 8 Mar 2016 02:35:21 +0000</updated>
                                            <version>1.6.0</version>
                                                    <component>SQL</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                <comments>
                            <comment id="15183869" author="ianlcsd" created="Mon, 7 Mar 2016 22:29:15 +0000"  >&lt;p&gt;The expression in select essentially defines a transformation from data residing on storage or even another RDD. We are seeing that the transformation result is now null for both NaN and Infinity.&lt;/p&gt;

&lt;p&gt;We saw &lt;a href=&quot;https://issues.apache.org/jira/browse/SPARK-9076&quot; title=&quot;Improve NaN value handling&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SPARK-9076&quot;&gt;&lt;del&gt;SPARK-9076&lt;/del&gt;&lt;/a&gt;, which seemed addressing only how NaN value in RDD can be handled(equality, ordering, ...), &lt;br/&gt;
but our concerned case is more on the another aspect and more fundamental about the expressions that might produce NaN. &lt;/p&gt;


</comment>
                            <comment id="15184034" author="ianlcsd" created="Mon, 7 Mar 2016 23:41:14 +0000"  >&lt;p&gt;The test case we provided is using simple arithmetic expression like divisions for double, &lt;br/&gt;
but in fact, many other math functions are having the same behaviors that returns null for NaN/Infinity. &lt;br/&gt;
For instance, log() and corr(). &lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
SELECT log(a/b), corr(a, b) FROM testNan group by a, b order by a, b
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i2uat3:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                    </customfields>
    </item>

<item>
            <title>[SPARK-13730] Nulls in dataframes getting converted to 0 with spark 2.0 SNAPSHOT</title>
                <link>https://issues.apache.org/jira/browse/SPARK-13730</link>
                <project id="12315420" key="SPARK">Spark</project>
                    <description>&lt;p&gt;Basically I&apos;m putting nulls into a non-nullable LongType column and doing a transformation operation on that column, the result is a column with nulls converted to 0. &lt;/p&gt;

&lt;p&gt;I haven&apos;t tested this on 1.6.1 or in Scala.&lt;/p&gt;

&lt;p&gt;Heres an example &lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
from pyspark.sql &lt;span class=&quot;code-keyword&quot;&gt;import&lt;/span&gt; types
from pyspark.sql &lt;span class=&quot;code-keyword&quot;&gt;import&lt;/span&gt; DataFrame, types, functions as F

sql_schema = types.StructType([
  types.StructField(&lt;span class=&quot;code-quote&quot;&gt;&quot;a&quot;&lt;/span&gt;, types.LongType(), True),
  types.StructField(&lt;span class=&quot;code-quote&quot;&gt;&quot;b&quot;&lt;/span&gt;, types.StringType(),  True),
])

df = sqlCtx.createDataFrame([
    (1, &lt;span class=&quot;code-quote&quot;&gt;&quot;one&quot;&lt;/span&gt;),
    (None, &lt;span class=&quot;code-quote&quot;&gt;&quot;two&quot;&lt;/span&gt;),
], sql_schema)

# Everything is fine here
df.collect() # [Row(a=1, b=u&apos;one&apos;), Row(a=None, b=u&apos;two&apos;)]

def assert_not_null(val):
    &lt;span class=&quot;code-keyword&quot;&gt;return&lt;/span&gt; val

udf = F.udf(assert_not_null, types.LongType())

df = df.withColumnRenamed(&apos;a&apos;, &lt;span class=&quot;code-quote&quot;&gt;&quot;_tmp_col&quot;&lt;/span&gt;)
df = df.withColumn(&apos;a&apos;, udf(df._tmp_col))
df = df.drop(&lt;span class=&quot;code-quote&quot;&gt;&quot;_tmp_col&quot;&lt;/span&gt;)

# None gets converted to 0
df.collect() # [Row(b=u&apos;one&apos;, a=1), Row(b=u&apos;two&apos;, a=0)]
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</description>
                <environment></environment>
        <key id="12947776">SPARK-13730</key>
            <summary>Nulls in dataframes getting converted to 0 with spark 2.0 SNAPSHOT</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/bug.png">Bug</type>
                                            <priority id="2" iconUrl="https://issues.apache.org/jira/images/icons/priorities/critical.png">Critical</priority>
                        <status id="1" iconUrl="https://issues.apache.org/jira/images/icons/statuses/open.png" description="The issue is open and ready for the assignee to start work on it.">Open</status>
                    <statusCategory id="2" key="new" colorName="blue-gray"/>
                                    <resolution id="-1">Unresolved</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="franklynDsouza">Franklyn Dsouza</reporter>
                        <labels>
                    </labels>
                <created>Mon, 7 Mar 2016 19:58:48 +0000</created>
                <updated>Mon, 7 Mar 2016 20:04:21 +0000</updated>
                                            <version>2.0.0</version>
                                                    <component>PySpark</component>
                    <component>SQL</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                        <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i2ualj:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12310320" key="com.atlassian.jira.plugin.system.customfieldtypes:multiversion">
                        <customfieldname>Target Version/s</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue>12329449</customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                </customfields>
    </item>

<item>
            <title>[SPARK-13729] Reimplement the planning tests on SimpleTextRelation</title>
                <link>https://issues.apache.org/jira/browse/SPARK-13729</link>
                <project id="12315420" key="SPARK">Spark</project>
                    <description></description>
                <environment></environment>
        <key id="12947763">SPARK-13729</key>
            <summary>Reimplement the planning tests on SimpleTextRelation</summary>
                <type id="7" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/subtask_alternate.png">Sub-task</type>
                            <parent id="12946865">SPARK-13664</parent>
                                    <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.png">Major</priority>
                        <status id="1" iconUrl="https://issues.apache.org/jira/images/icons/statuses/open.png" description="The issue is open and ready for the assignee to start work on it.">Open</status>
                    <statusCategory id="2" key="new" colorName="blue-gray"/>
                                    <resolution id="-1">Unresolved</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="marmbrus">Michael Armbrust</reporter>
                        <labels>
                    </labels>
                <created>Mon, 7 Mar 2016 19:14:55 +0000</created>
                <updated>Mon, 7 Mar 2016 19:14:55 +0000</updated>
                                                                            <component>SQL</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                        <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i2uain:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12310320" key="com.atlassian.jira.plugin.system.customfieldtypes:multiversion">
                        <customfieldname>Target Version/s</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue>12329449</customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                </customfields>
    </item>

<item>
            <title>[SPARK-13728] Fix ORC PPD</title>
                <link>https://issues.apache.org/jira/browse/SPARK-13728</link>
                <project id="12315420" key="SPARK">Spark</project>
                    <description>&lt;p&gt;Fix the ignored test &quot;Enable ORC PPD&quot; in OrcQuerySuite.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12947760">SPARK-13728</key>
            <summary>Fix ORC PPD</summary>
                <type id="7" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/subtask_alternate.png">Sub-task</type>
                            <parent id="12946865">SPARK-13664</parent>
                                    <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.png">Major</priority>
                        <status id="1" iconUrl="https://issues.apache.org/jira/images/icons/statuses/open.png" description="The issue is open and ready for the assignee to start work on it.">Open</status>
                    <statusCategory id="2" key="new" colorName="blue-gray"/>
                                    <resolution id="-1">Unresolved</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="marmbrus">Michael Armbrust</reporter>
                        <labels>
                    </labels>
                <created>Mon, 7 Mar 2016 19:04:10 +0000</created>
                <updated>Mon, 7 Mar 2016 19:04:10 +0000</updated>
                                                                            <component>SQL</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                        <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i2uahz:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12310320" key="com.atlassian.jira.plugin.system.customfieldtypes:multiversion">
                        <customfieldname>Target Version/s</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue>12329449</customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                </customfields>
    </item>

<item>
            <title>[SPARK-13727] SparkConf.contains does not consider deprecated keys</title>
                <link>https://issues.apache.org/jira/browse/SPARK-13727</link>
                <project id="12315420" key="SPARK">Spark</project>
                    <description>&lt;p&gt;This makes it kinda inconsistent with other SparkConf APIs. For example:&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
scala&amp;gt; &lt;span class=&quot;code-keyword&quot;&gt;import&lt;/span&gt; org.apache.spark.SparkConf
&lt;span class=&quot;code-keyword&quot;&gt;import&lt;/span&gt; org.apache.spark.SparkConf

scala&amp;gt; val conf = &lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; SparkConf().set(&lt;span class=&quot;code-quote&quot;&gt;&quot;spark.io.compression.lz4.block.size&quot;&lt;/span&gt;, &lt;span class=&quot;code-quote&quot;&gt;&quot;12345&quot;&lt;/span&gt;)
16/03/07 10:55:17 WARN spark.SparkConf: The configuration key &apos;spark.io.compression.lz4.block.size&apos; has been deprecated as of Spark 1.4 and and may be removed in the &lt;span class=&quot;code-keyword&quot;&gt;future&lt;/span&gt;. Please use the &lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; key &apos;spark.io.compression.lz4.blockSize&apos; instead.
conf: org.apache.spark.SparkConf = org.apache.spark.SparkConf@221e8982

scala&amp;gt; conf.get(&lt;span class=&quot;code-quote&quot;&gt;&quot;spark.io.compression.lz4.blockSize&quot;&lt;/span&gt;)
res0: &lt;span class=&quot;code-object&quot;&gt;String&lt;/span&gt; = 12345

scala&amp;gt; conf.contains(&lt;span class=&quot;code-quote&quot;&gt;&quot;spark.io.compression.lz4.blockSize&quot;&lt;/span&gt;)
res1: &lt;span class=&quot;code-object&quot;&gt;Boolean&lt;/span&gt; = &lt;span class=&quot;code-keyword&quot;&gt;false&lt;/span&gt;
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</description>
                <environment></environment>
        <key id="12947759">SPARK-13727</key>
            <summary>SparkConf.contains does not consider deprecated keys</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/bug.png">Bug</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.png">Minor</priority>
                        <status id="3" iconUrl="https://issues.apache.org/jira/images/icons/statuses/inprogress.png" description="This issue is being actively worked on at the moment by the assignee.">In Progress</status>
                    <statusCategory id="4" key="indeterminate" colorName="yellow"/>
                                    <resolution id="-1">Unresolved</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="vanzin">Marcelo Vanzin</reporter>
                        <labels>
                    </labels>
                <created>Mon, 7 Mar 2016 18:56:00 +0000</created>
                <updated>Tue, 8 Mar 2016 00:37:07 +0000</updated>
                                                                            <component>Spark Core</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>3</watches>
                                                                <comments>
                            <comment id="15184095" author="apachespark" created="Tue, 8 Mar 2016 00:37:04 +0000"  >&lt;p&gt;User &apos;bomeng&apos; has created a pull request for this issue:&lt;br/&gt;
&lt;a href=&quot;https://github.com/apache/spark/pull/11568&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://github.com/apache/spark/pull/11568&lt;/a&gt;&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Tue, 8 Mar 2016 00:37:04 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i2uahr:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                    </customfields>
    </item>

<item>
            <title>[SPARK-13726] Spark 1.6.0 stopping working for HiveThriftServer2 and registerTempTable</title>
                <link>https://issues.apache.org/jira/browse/SPARK-13726</link>
                <project id="12315420" key="SPARK">Spark</project>
                    <description>&lt;p&gt;In Spark 1.5.2, DataFrame.registerTempTable works and  hiveContext.table(registerTableName) and HiveThriftServer2 see those tables.&lt;/p&gt;

&lt;p&gt;In Spark 1.6.0, hiveContext.table(registerTableName) and HiveThriftServer2 do not see those tables, even though DataFrame.registerTempTable does not return an error.&lt;/p&gt;

&lt;p&gt;Since this feature used to work in Spark 1.5.2, there is existing code that breaks after upgrading to Spark 1.6.0. so this issue is a blocker and urgent. Therefore, please have it fixed asap.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12947730">SPARK-13726</key>
            <summary>Spark 1.6.0 stopping working for HiveThriftServer2 and registerTempTable</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/bug.png">Bug</type>
                                            <priority id="1" iconUrl="https://issues.apache.org/jira/images/icons/priorities/blocker.png">Blocker</priority>
                        <status id="1" iconUrl="https://issues.apache.org/jira/images/icons/statuses/open.png" description="The issue is open and ready for the assignee to start work on it.">Open</status>
                    <statusCategory id="2" key="new" colorName="blue-gray"/>
                                    <resolution id="-1">Unresolved</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="michaelmnguyen">Michael Nguyen</reporter>
                        <labels>
                    </labels>
                <created>Mon, 7 Mar 2016 17:46:34 +0000</created>
                <updated>Tue, 8 Mar 2016 00:17:00 +0000</updated>
                                            <version>1.6.0</version>
                                                    <component>SQL</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                <comments>
                            <comment id="15183453" author="yhuai" created="Mon, 7 Mar 2016 18:56:03 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=michaelmnguyen&quot; class=&quot;user-hover&quot; rel=&quot;michaelmnguyen&quot;&gt;Michael Nguyen&lt;/a&gt; How was thrift server got started? Through &lt;tt&gt;HiveThriftServer2.startWithContext&lt;/tt&gt; or the shell script?&lt;/p&gt;</comment>
                            <comment id="15183953" author="michaelmnguyen" created="Mon, 7 Mar 2016 23:07:47 +0000"  >&lt;p&gt;Thrift server was started with HiveThriftServer2.startWithContext. However, this issue is not specified to HiveThriftServer2.startWithContext. The preceding cause is that after the table is regisgtered via DataFrame.registerTempTable, hiveContext.table(registerTableName) still fails because it does not see that table as registered.&lt;/p&gt;</comment>
                            <comment id="15183991" author="yhuai" created="Mon, 7 Mar 2016 23:20:47 +0000"  >&lt;p&gt;I took a look at the code. I think this change is caused by Session Management added in 1.6 (&lt;a href=&quot;https://issues.apache.org/jira/browse/SPARK-10810&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/browse/SPARK-10810&lt;/a&gt;). Basically, every jdbc session creates its own session. So, it does not see temp table registered through df.registerTempTable, which is registered in another session. You can set &lt;tt&gt;spark.sql.hive.thriftServer.singleSession&lt;/tt&gt; to &lt;tt&gt;true&lt;/tt&gt; to change the behavior back.&lt;/p&gt;</comment>
                            <comment id="15184062" author="michaelmnguyen" created="Tue, 8 Mar 2016 00:08:42 +0000"  >&lt;p&gt;That works. Thanks, Yin, for the work-around solution. Does setting spark.sql.hive.thriftServer.singleSession to true&lt;/p&gt;

&lt;p&gt;1. Limit Hive to support only one JDBC connection or one query at a time ?  Or&lt;br/&gt;
2. Performance for running multiple queries from multiple JDBC connections at the same time ?&lt;/p&gt;

&lt;p&gt;If so, could you provide a long-term solution that do not have these issues ?&lt;/p&gt;
</comment>
                            <comment id="15184077" author="yhuai" created="Tue, 8 Mar 2016 00:17:00 +0000"  >&lt;p&gt;I think that after setting that conf to true, the behavior should be the same as Spark 1.5. You can still run multiple JDBC connections. For running multiple queries concurrently, as long as you set spark.sql.thriftserver.scheduler.pool for different JDBC connections like before, it should work (see &lt;a href=&quot;http://spark.apache.org/docs/latest/sql-programming-guide.html#scheduling&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://spark.apache.org/docs/latest/sql-programming-guide.html#scheduling&lt;/a&gt;).&lt;/p&gt;

&lt;p&gt;For long term, I think we will keep the current behavior. When you need to share temp tables across sessions, we have to set spark.sql.hive.thriftServer.singleSession to true. &lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="12310000">
                    <name>Duplicate</name>
                                                                <inwardlinks description="is duplicated by">
                                        <issuelink>
            <issuekey id="12947728">SPARK-13725</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Mon, 7 Mar 2016 18:56:03 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                            <customfield id="customfield_12310250" key="com.atlassian.jira.plugin.system.customfieldtypes:multicheckboxes">
                        <customfieldname>Flags</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10431"><![CDATA[Important]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i2uabb:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12310320" key="com.atlassian.jira.plugin.system.customfieldtypes:multiversion">
                        <customfieldname>Target Version/s</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue>12334910</customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                </customfields>
    </item>

<item>
            <title>[SPARK-13725] Spark 1.6.0 stopping working for HiveThriftServer2 and registerTempTable</title>
                <link>https://issues.apache.org/jira/browse/SPARK-13725</link>
                <project id="12315420" key="SPARK">Spark</project>
                    <description>&lt;p&gt;In Spark 1.5.2, DataFrame.registerTempTable API works correctly and HiveThriftServer2 sees and returns temp tables that are registered via that API.&lt;/p&gt;

&lt;p&gt;In Spark 1.6.0, that stopped working.  registerTempTable API does not return an error so it is a false positive, and HiveThriftServer2  does not see such tables. And hiveContext.table(registerTableName) indicates it does not see those tables either.&lt;/p&gt;

&lt;p&gt;Is there a temporary work-around solution in Spark 1.6.0 ? When would it be fixed ?&lt;/p&gt;

&lt;p&gt;Thanks.&lt;/p&gt;</description>
                <environment>&lt;p&gt;Spark 1.6.0 with DataFrame.registerTempTable and HiveThriftServer2&lt;/p&gt;</environment>
        <key id="12947728">SPARK-13725</key>
            <summary>Spark 1.6.0 stopping working for HiveThriftServer2 and registerTempTable</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/bug.png">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.png">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="3">Duplicate</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="michaelmnguyen">Michael Nguyen</reporter>
                        <labels>
                    </labels>
                <created>Mon, 7 Mar 2016 17:32:03 +0000</created>
                <updated>Mon, 7 Mar 2016 23:12:58 +0000</updated>
                            <resolved>Mon, 7 Mar 2016 18:10:11 +0000</resolved>
                                    <version>1.6.0</version>
                                                    <component>SQL</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                <comments>
                            <comment id="15183392" author="srowen" created="Mon, 7 Mar 2016 18:22:28 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=michaelmnguyen&quot; class=&quot;user-hover&quot; rel=&quot;michaelmnguyen&quot;&gt;Michael Nguyen&lt;/a&gt; also please don&apos;t set Blocker&lt;/p&gt;</comment>
                            <comment id="15183964" author="michaelmnguyen" created="Mon, 7 Mar 2016 23:12:58 +0000"  >&lt;p&gt;I typically do not set issues to Blocker. I set this issue to Blocker, because these specified APIs used to work in earlier versions of Spark up to 1.5.2, and there are existing code that relies on that and now fails because of this issue in Spark 1.6.0. &lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="12310000">
                    <name>Duplicate</name>
                                            <outwardlinks description="duplicates">
                                        <issuelink>
            <issuekey id="12947730">SPARK-13726</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                    </issuelinks>
                <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Mon, 7 Mar 2016 18:22:28 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i2uaav:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        </customfields>
    </item>

<item>
            <title>[SPARK-13724] Parameter maxMemoryInMB has gone missing in MlLib 1.6.0 DecisionTree.trainClassifier()</title>
                <link>https://issues.apache.org/jira/browse/SPARK-13724</link>
                <project id="12315420" key="SPARK">Spark</project>
                    <description>&lt;p&gt;DecisionTree.trainClassifier() reports that maxMemoryInMB is too small during training and stops. But when I try to set it, I found that in MLlib of spark 1.6.0 pyspark.mllib.tree.DecisionTree doesn&apos;t have this parameter in the named parameter list anymore. &lt;/p&gt;

&lt;p&gt;(Also not sure if this is the place for this issue, kindly educate!) &lt;/p&gt;</description>
                <environment></environment>
        <key id="12947726">SPARK-13724</key>
            <summary>Parameter maxMemoryInMB has gone missing in MlLib 1.6.0 DecisionTree.trainClassifier()</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/bug.png">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.png">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="8">Not A Problem</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="senthilgandhi">senthil gandhi</reporter>
                        <labels>
                    </labels>
                <created>Mon, 7 Mar 2016 17:22:22 +0000</created>
                <updated>Mon, 7 Mar 2016 19:27:54 +0000</updated>
                            <resolved>Mon, 7 Mar 2016 18:57:34 +0000</resolved>
                                    <version>1.6.0</version>
                                                    <component>PySpark</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                <comments>
                            <comment id="15183457" author="srowen" created="Mon, 7 Mar 2016 18:57:34 +0000"  >&lt;p&gt;I don&apos;t recognize this parameter, and can&apos;t find that this was ever a parameter to DecisionTree.trainClassifier in git&apos;s history. Comment if you have a much more specific pointer to what you think is missing.&lt;/p&gt;</comment>
                            <comment id="15183467" author="senthilgandhi" created="Mon, 7 Mar 2016 19:02:02 +0000"  >&lt;p&gt;&lt;a href=&quot;http://spark.apache.org/docs/latest/mllib-decision-tree.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://spark.apache.org/docs/latest/mllib-decision-tree.html&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;I don&apos;t have the error message handy right now, but look at this document. Search for maxMemoryInMB, it is listed as a configurable parameter. &lt;/p&gt;</comment>
                            <comment id="15183492" author="srowen" created="Mon, 7 Mar 2016 19:14:14 +0000"  >&lt;p&gt;That&apos;s a property of org.apache.spark.mllib.tree.configuration.Strategy, and it&apos;s still present.&lt;/p&gt;</comment>
                            <comment id="15183521" author="senthilgandhi" created="Mon, 7 Mar 2016 19:27:54 +0000"  >&lt;p&gt;This is what I am trying to understand (I don&apos;t use Scala or Java just Python). So If I am using this API from Python, and I get a message asking to increase maxMemoryInMB, there is currently no way to do it, is it? &lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Mon, 7 Mar 2016 18:57:34 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i2uaaf:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        </customfields>
    </item>

<item>
            <title>[SPARK-13723] YARN - Change behavior of --num-executors when spark.dynamicAllocation.enabled true</title>
                <link>https://issues.apache.org/jira/browse/SPARK-13723</link>
                <project id="12315420" key="SPARK">Spark</project>
                    <description>&lt;p&gt;I think we should change the behavior when --num-executors is specified when dynamic allocation is enabled. Currently if --num-executors is specified dynamic allocation is disabled and it just uses a static number of executors.&lt;/p&gt;

&lt;p&gt;I would rather see the default behavior changed in the 2.x line. If dynamic allocation config is on then num-executors goes to max and initial # of executors. I think this would allow users to easily cap their usage and would still allow it to free up executors. It would also allow users doing ML start out with a # of executors and if they are actually caching the data the executors wouldn&apos;t be freed up. So you would get very similar behavior to if dynamic allocation was off.&lt;/p&gt;

&lt;p&gt;Part of the reason for this is when using a static number if generally wastes resources, especially with people doing adhoc things with spark-shell. It also has a big affect when people are doing MapReduce/ETL type work loads.   The problem is that people are used to specifying num-executors so if we turn it on by default in a cluster config its just overridden.&lt;/p&gt;

&lt;p&gt;We should also update the spark-submit --help description for --num-executors&lt;/p&gt;</description>
                <environment></environment>
        <key id="12947724">SPARK-13723</key>
            <summary>YARN - Change behavior of --num-executors when spark.dynamicAllocation.enabled true</summary>
                <type id="4" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/improvement.png">Improvement</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.png">Minor</priority>
                        <status id="1" iconUrl="https://issues.apache.org/jira/images/icons/statuses/open.png" description="The issue is open and ready for the assignee to start work on it.">Open</status>
                    <statusCategory id="2" key="new" colorName="blue-gray"/>
                                    <resolution id="-1">Unresolved</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="tgraves">Thomas Graves</reporter>
                        <labels>
                    </labels>
                <created>Mon, 7 Mar 2016 17:03:52 +0000</created>
                <updated>Tue, 8 Mar 2016 01:33:52 +0000</updated>
                                            <version>2.0.0</version>
                                                    <component>YARN</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>3</watches>
                                                                <comments>
                            <comment id="15183272" author="tgraves" created="Mon, 7 Mar 2016 17:04:08 +0000"  >&lt;p&gt;see some discussion on &lt;a href=&quot;https://github.com/apache/spark/pull/11528&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://github.com/apache/spark/pull/11528&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="15183463" author="srowen" created="Mon, 7 Mar 2016 18:59:27 +0000"  >&lt;p&gt;That makes more sense, but it introduces another behavior change to paper over what is probably a misunderstanding about how these options interact. My preference is still to leave it as is, since it&apos;s documented and warned already (or, that could be improved I guess)&lt;/p&gt;</comment>
                            <comment id="15184177" author="jerryshao" created="Tue, 8 Mar 2016 01:33:52 +0000"  >&lt;p&gt;Yes, I agree with what &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=tgraves&quot; class=&quot;user-hover&quot; rel=&quot;tgraves&quot;&gt;Thomas Graves&lt;/a&gt; described above. Normally the use case is that user want to enable dynamic allocation intentionally but doesn&apos;t change the current executing command (lack of knowledge of it). So in this case dynamic allocation is failed to start, which is not expected.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Mon, 7 Mar 2016 18:59:27 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i2ua9z:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                    </customfields>
    </item>

<item>
            <title>[SPARK-13722] No Push Down for Non-deterministic Predicates through Generate</title>
                <link>https://issues.apache.org/jira/browse/SPARK-13722</link>
                <project id="12315420" key="SPARK">Spark</project>
                    <description>&lt;p&gt;Non-deterministic predicates should not be pushed down through Generate.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12947707">SPARK-13722</key>
            <summary>No Push Down for Non-deterministic Predicates through Generate</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/bug.png">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.png">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="smilegator">Xiao Li</assignee>
                                    <reporter username="smilegator">Xiao Li</reporter>
                        <labels>
                    </labels>
                <created>Mon, 7 Mar 2016 15:51:17 +0000</created>
                <updated>Mon, 7 Mar 2016 20:09:50 +0000</updated>
                            <resolved>Mon, 7 Mar 2016 20:09:43 +0000</resolved>
                                    <version>1.5.0</version>
                    <version>1.6.0</version>
                    <version>2.0.0</version>
                                    <fixVersion>2.0.0</fixVersion>
                                    <component>SQL</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>3</watches>
                                                                <comments>
                            <comment id="15183170" author="apachespark" created="Mon, 7 Mar 2016 15:56:07 +0000"  >&lt;p&gt;User &apos;gatorsmile&apos; has created a pull request for this issue:&lt;br/&gt;
&lt;a href=&quot;https://github.com/apache/spark/pull/11562&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://github.com/apache/spark/pull/11562&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="15183612" author="marmbrus" created="Mon, 7 Mar 2016 20:09:43 +0000"  >&lt;p&gt;Issue resolved by pull request 11562&lt;br/&gt;
&lt;a href=&quot;https://github.com/apache/spark/pull/11562&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://github.com/apache/spark/pull/11562&lt;/a&gt;&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Mon, 7 Mar 2016 15:56:07 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i2ua67:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        </customfields>
    </item>

<item>
            <title>[SPARK-13721] Add support for LATERAL VIEW OUTER explode()</title>
                <link>https://issues.apache.org/jira/browse/SPARK-13721</link>
                <project id="12315420" key="SPARK">Spark</project>
                    <description>&lt;p&gt;Hive supports the &lt;a href=&quot;https://cwiki.apache.org/confluence/display/Hive/LanguageManual+LateralView#LanguageManualLateralView-OuterLateralViews&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;LATERAL VIEW OUTER&lt;/a&gt; syntax to make sure that when an array is empty, the content from the outer table is still returned. &lt;/p&gt;

&lt;p&gt;Within Spark, this is currently only possible within the HiveContext and executing HiveQL statements. It would be nice if the standard explode() DataFrame method allows the same. A possible signature would be: &lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;div class=&quot;error&quot;&gt;&lt;span class=&quot;error&quot;&gt;Unable to find source-code formatter for language: scala.&lt;/span&gt; Available languages are: actionscript, html, java, javascript, none, sql, xhtml, xml&lt;/div&gt;&lt;pre&gt;
explode[A, B](inputColumn: &lt;span class=&quot;code-object&quot;&gt;String&lt;/span&gt;, outputColumn: &lt;span class=&quot;code-object&quot;&gt;String&lt;/span&gt;, &lt;span class=&quot;code-keyword&quot;&gt;outer&lt;/span&gt;: &lt;span class=&quot;code-object&quot;&gt;Boolean&lt;/span&gt; = &lt;span class=&quot;code-keyword&quot;&gt;false&lt;/span&gt;)
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</description>
                <environment></environment>
        <key id="12947678">SPARK-13721</key>
            <summary>Add support for LATERAL VIEW OUTER explode()</summary>
                <type id="4" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/improvement.png">Improvement</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.png">Major</priority>
                        <status id="1" iconUrl="https://issues.apache.org/jira/images/icons/statuses/open.png" description="The issue is open and ready for the assignee to start work on it.">Open</status>
                    <statusCategory id="2" key="new" colorName="blue-gray"/>
                                    <resolution id="-1">Unresolved</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="hellstorm">Ian Hellstrom</reporter>
                        <labels>
                    </labels>
                <created>Mon, 7 Mar 2016 12:13:19 +0000</created>
                <updated>Tue, 8 Mar 2016 02:03:38 +0000</updated>
                                                                            <component>SQL</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                <comments>
                            <comment id="15184213" author="smilegator" created="Tue, 8 Mar 2016 02:03:38 +0000"  >&lt;p&gt;That sounds reasonable. Maybe we can wait until DataFrame and DataSet APIs are combined. &lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Tue, 8 Mar 2016 02:03:38 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i2u9zz:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                    </customfields>
    </item>

<item>
            <title>[SPARK-13720] SQLBuilder.toSQL is broken when there is a sort by after having</title>
                <link>https://issues.apache.org/jira/browse/SPARK-13720</link>
                <project id="12315420" key="SPARK">Spark</project>
                    <description>&lt;p&gt;parse this SQL &quot;SELECT COUNT(value) FROM parquet_t1 GROUP BY key HAVING MAX(key) &amp;gt; 0 SORT BY key&quot; to logical plan and generate SQL string again, the generated SQL string can&apos;t be parsed.&lt;/p&gt;

&lt;p&gt;This is because, we will add extra `SubqueryAlias` while converting logical plan to SQL string(the `RecoverScopingInfo` rule in SQLBuilder). However, we only update qualifiers in the `Project` operator that just above the added `SubqueryAlias`, logically we also need to update qualifiers in all ancestor plans. For example, if there is a Project under a Sort, if we add `SubqueryAlias` under Project, we need update qualifiers for Sort too.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12947676">SPARK-13720</key>
            <summary>SQLBuilder.toSQL is broken when there is a sort by after having</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/bug.png">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.png">Major</priority>
                        <status id="3" iconUrl="https://issues.apache.org/jira/images/icons/statuses/inprogress.png" description="This issue is being actively worked on at the moment by the assignee.">In Progress</status>
                    <statusCategory id="4" key="indeterminate" colorName="yellow"/>
                                    <resolution id="-1">Unresolved</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="cloud_fan">Wenchen Fan</reporter>
                        <labels>
                    </labels>
                <created>Mon, 7 Mar 2016 11:59:53 +0000</created>
                <updated>Mon, 7 Mar 2016 12:30:59 +0000</updated>
                                                                            <component>SQL</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                <comments>
                            <comment id="15182943" author="apachespark" created="Mon, 7 Mar 2016 12:12:07 +0000"  >&lt;p&gt;User &apos;cloud-fan&apos; has created a pull request for this issue:&lt;br/&gt;
&lt;a href=&quot;https://github.com/apache/spark/pull/11555&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://github.com/apache/spark/pull/11555&lt;/a&gt;&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Mon, 7 Mar 2016 12:12:07 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i2u9zj:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                    </customfields>
    </item>

<item>
            <title>[SPARK-13719] Bad JSON record raises &#65279;java.lang.ClassCastException</title>
                <link>https://issues.apache.org/jira/browse/SPARK-13719</link>
                <project id="12315420" key="SPARK">Spark</project>
                    <description>&lt;p&gt;I have defined a JSON schema, using org.apache.spark.sql.types.StructType, that expects this kind of record :&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;{
  &quot;request&quot;: {
    &quot;user&quot;: {
      &quot;id&quot;: 123
    }
  }
}
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;There&apos;s a bad record in my dataset, that defines field &quot;user&quot; as an array, instead of a JSON object :&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;{
  &quot;request&quot;: {
    &quot;user&quot;: []
  }
}
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;The following exception is raised because of that bad record :&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;Exception in thread &quot;main&quot; org.apache.spark.SparkException: Job aborted due to stage failure: Task 7 in stage 0.0 failed 4 times, most recent failure: Lost task 7.3 in stage 0.0 (TID 10, 192.168.1.170): java.lang.ClassCastException: org.apache.spark.sql.types.GenericArrayData cannot be cast to org.apache.spark.sql.catalyst.InternalRow
	at org.apache.spark.sql.catalyst.expressions.BaseGenericInternalRow$class.getStruct(rows.scala:50)
	at org.apache.spark.sql.catalyst.expressions.GenericMutableRow.getStruct(rows.scala:247)
	at org.apache.spark.sql.catalyst.expressions.GeneratedClass$SpecificPredicate.eval(Unknown Source)
	at org.apache.spark.sql.catalyst.expressions.codegen.GeneratePredicate$$anonfun$create$2.apply(GeneratePredicate.scala:67)
	at org.apache.spark.sql.catalyst.expressions.codegen.GeneratePredicate$$anonfun$create$2.apply(GeneratePredicate.scala:67)
	at org.apache.spark.sql.execution.Filter$$anonfun$4$$anonfun$apply$4.apply(basicOperators.scala:117)
	at org.apache.spark.sql.execution.Filter$$anonfun$4$$anonfun$apply$4.apply(basicOperators.scala:115)
	at scala.collection.Iterator$$anon$14.hasNext(Iterator.scala:390)
	at scala.collection.Iterator$$anon$11.hasNext(Iterator.scala:327)
	at org.apache.spark.sql.execution.aggregate.TungstenAggregate$$anonfun$doExecute$1.org$apache$spark$sql$execution$aggregate$TungstenAggregate$$anonfun$$executePartition$1(TungstenAggregate.scala:97)
	at org.apache.spark.sql.execution.aggregate.TungstenAggregate$$anonfun$doExecute$1$$anonfun$2.apply(TungstenAggregate.scala:119)
	at org.apache.spark.sql.execution.aggregate.TungstenAggregate$$anonfun$doExecute$1$$anonfun$2.apply(TungstenAggregate.scala:119)
	at org.apache.spark.rdd.MapPartitionsWithPreparationRDD.compute(MapPartitionsWithPreparationRDD.scala:64)
	at org.apache.spark.rdd.RDD.computeOrReadCheckpoint(RDD.scala:300)
	at org.apache.spark.rdd.RDD.iterator(RDD.scala:264)
	at org.apache.spark.rdd.MapPartitionsRDD.compute(MapPartitionsRDD.scala:38)
	at org.apache.spark.rdd.RDD.computeOrReadCheckpoint(RDD.scala:300)
	at org.apache.spark.rdd.RDD.iterator(RDD.scala:264)
	at org.apache.spark.scheduler.ShuffleMapTask.runTask(ShuffleMapTask.scala:73)
	at org.apache.spark.scheduler.ShuffleMapTask.runTask(ShuffleMapTask.scala:41)
	at org.apache.spark.scheduler.Task.run(Task.scala:88)
	at org.apache.spark.executor.Executor$TaskRunner.run(Executor.scala:214)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)
	at java.lang.Thread.run(Thread.java:745)
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Here&apos;s a code snippet that reproduces the exception :&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;import org.apache.spark.SparkContext
import org.apache.spark.rdd.RDD
import org.apache.spark.sql.{SQLContext, DataFrame}
import org.apache.spark.sql.hive.HiveContext
import org.apache.spark.sql.types.{StringType, StructField, StructType}

object Snippet {

  def main(args : Array[String]): Unit = {
    val sc = new SparkContext()
    implicit val sqlContext = new HiveContext(sc)

    val rdd: RDD[String] = sc.parallelize(Seq(badRecord))
    val df: DataFrame = sqlContext.read.schema(schema).json(rdd)

    import sqlContext.implicits._
    df.select(&quot;request.user.id&quot;)
      .filter($&quot;id&quot;.isNotNull)
      .count()
  }

  val badRecord =
    s&quot;&quot;&quot;{
        |  &quot;request&quot;: {
        |    &quot;user&quot;: []
        |  }
        |}&quot;&quot;&quot;.stripMargin.replaceAll(&quot;\n&quot;, &quot; &quot;) // Convert the multiline string to a signe line string

  val schema =
    StructType(
      StructField(&quot;request&quot;, StructType(
        StructField(&quot;user&quot;, StructType(
          StructField(&quot;id&quot;, StringType) :: Nil
        )) :: Nil
    )) :: Nil)

}
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</description>
                <environment>&lt;p&gt;OS X, Linux&lt;/p&gt;</environment>
        <key id="12947669">SPARK-13719</key>
            <summary>Bad JSON record raises &#65279;java.lang.ClassCastException</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/bug.png">Bug</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.png">Minor</priority>
                        <status id="1" iconUrl="https://issues.apache.org/jira/images/icons/statuses/open.png" description="The issue is open and ready for the assignee to start work on it.">Open</status>
                    <statusCategory id="2" key="new" colorName="blue-gray"/>
                                    <resolution id="-1">Unresolved</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="dmt">dmtran</reporter>
                        <labels>
                    </labels>
                <created>Mon, 7 Mar 2016 11:25:42 +0000</created>
                <updated>Mon, 7 Mar 2016 11:27:24 +0000</updated>
                                            <version>1.5.2</version>
                    <version>1.6.0</version>
                                                    <component>SQL</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                        <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i2u9xz:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                    </customfields>
    </item>

<item>
            <title>[SPARK-13718] Scheduler &quot;creating&quot; straggler node </title>
                <link>https://issues.apache.org/jira/browse/SPARK-13718</link>
                <project id="12315420" key="SPARK">Spark</project>
                    <description>&lt;p&gt;&lt;b&gt;Data:&lt;/b&gt;&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;Assume an even distribution of data across the cluster with a replication factor of 3.&lt;/li&gt;
	&lt;li&gt;In-memory data are partitioned in 128 chunks (384 cores in total, i.e. 3 requests can be executed concurrently(-ish) )&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;&lt;b&gt;Action:&lt;/b&gt;&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;Action is a simple sequence of map/filter/reduce.&lt;/li&gt;
	&lt;li&gt;The action operates upon and returns a small subset of data (following the full map over the data).&lt;/li&gt;
	&lt;li&gt;Data are 1 x cached serialized in memory (Kryo), so calling the action  should not hit the disk under normal conditions.&lt;/li&gt;
	&lt;li&gt;Action network usage is low as it returns a small number of aggregated results and does not require excessive shuffling&lt;/li&gt;
	&lt;li&gt;Under low or moderate load, each action is expected to complete in less than 2 seconds&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;&lt;b&gt;H/W Outlook&lt;/b&gt;&lt;br/&gt;
When the action is called in high numbers, initially the cluster CPU gets close to 100% (which is expected &amp;amp; intended). &lt;br/&gt;
After a while, the cluster utilization reduces significantly with only one (struggler) node having 100% CPU and fully utilized network.&lt;/p&gt;

&lt;p&gt;&lt;b&gt;Diagnosis:&lt;/b&gt;&lt;br/&gt;
1. Attached a profiler to the driver and executors to monitor GC or I/O issues and everything is normal under low or heavy usage. &lt;br/&gt;
2. Cluster network usage is very low&lt;br/&gt;
3. No issues on Spark UI except that tasks begin to  move from LOCAL to ANY&lt;/p&gt;

&lt;p&gt;&lt;b&gt;Cause (Corrected as found details in code):&lt;/b&gt; &lt;br/&gt;
1. Node &apos;H&apos; is doing marginally more work than the rest (being a little slower and at almost 100% CPU)&lt;br/&gt;
2. Scheduler hits the default 3000 millis spark.locality.wait and assigns the task to other nodes &lt;br/&gt;
3. One of the nodes &apos;X&apos; that accepted the task will try to access the data from node &apos;H&apos; HDD. This adds Network I/O to node and also some extra CPU for I/O.&lt;br/&gt;
4. &apos;X&apos; time to complete increases ~5x as it goes over Network &lt;br/&gt;
5. Eventually, every node will have a task that is waiting to fetch that specific partition from node &apos;H&apos; so cluster is basically blocked on a single node&lt;/p&gt;

&lt;p&gt;What I managed to figure out from the code is that this is because if an RDD is cached, it will make use of BlockManager.getRemote() and will not recompute the DAG part that resulted in this RDD and hence always hit the node that has cached the RDD.&lt;/p&gt;

&lt;ul&gt;
	&lt;li&gt;Proposed Fix *&lt;br/&gt;
I have not worked with Scala &amp;amp; Spark source code enough to propose a code fix, but on a high level, when a task hits the &apos;spark.locality.wait&apos; timeout, it could make use of a new configuration e.g. recomputeRddAfterLocalityTimeout instead of always trying to get the cached RDD. This would be very useful if it could also be manually set on the RDD.&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;&lt;b&gt;Workaround&lt;/b&gt;&lt;br/&gt;
Playing with &apos;spark.locality.wait&apos; values, there is a deterministic value depending on partitions and config where the problem ceases to exist.&lt;/p&gt;

&lt;p&gt;&lt;b&gt;PS1&lt;/b&gt; : Don&apos;t have enough Scala skils to follow the issue or propose a fix, but I hope that this has enough information to make sense.&lt;br/&gt;
&lt;b&gt;PS2&lt;/b&gt; : Debugging this issue made me realize that there can be a lot of use-cases that trigger this behaviour&lt;/p&gt;</description>
                <environment>&lt;p&gt;Spark 1.3.1&lt;br/&gt;
MapR-FS&lt;br/&gt;
Single Rack&lt;br/&gt;
Standalone mode scheduling&lt;br/&gt;
8 node cluster&lt;br/&gt;
48 cores &amp;amp; 512 RAM / node&lt;br/&gt;
Data Replication factor of 3&lt;/p&gt;

&lt;p&gt;Each Node has 4 Spark executors configured with 12 cores each and 22GB of RAM.&lt;/p&gt;</environment>
        <key id="12947667">SPARK-13718</key>
            <summary>Scheduler &quot;creating&quot; straggler node </summary>
                <type id="4" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/improvement.png">Improvement</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.png">Minor</priority>
                        <status id="1" iconUrl="https://issues.apache.org/jira/images/icons/statuses/open.png" description="The issue is open and ready for the assignee to start work on it.">Open</status>
                    <statusCategory id="2" key="new" colorName="blue-gray"/>
                                    <resolution id="-1">Unresolved</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="jid1">Ioannis Deligiannis</reporter>
                        <labels>
                    </labels>
                <created>Mon, 7 Mar 2016 10:57:18 +0000</created>
                <updated>Mon, 7 Mar 2016 17:30:51 +0000</updated>
                                            <version>1.3.1</version>
                                                    <component>Scheduler</component>
                    <component>Spark Core</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>3</watches>
                                                                <comments>
                            <comment id="15182873" author="srowen" created="Mon, 7 Mar 2016 11:02:34 +0000"  >&lt;p&gt;It sounds like you&apos;re saying the right value of &lt;tt&gt;spark.locality.wait&lt;/tt&gt; &quot;depends&quot;. Yes it does. At some point it makes more sense to run non-locally than wait for a data-local slot to open up, but the right answer really depends on when such a slot becomes free (pretty much unknowable) and how much non-locality hurts (also pretty much not knowable). Hence it&apos;s a tunable param. Here is seems like you just want a higher value. Is there more to it than that? I&apos;m not sure it&apos;s feasible to make this much smarter.&lt;/p&gt;</comment>
                            <comment id="15182874" author="srowen" created="Mon, 7 Mar 2016 11:03:24 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=jid1&quot; class=&quot;user-hover&quot; rel=&quot;jid1&quot;&gt;Ioannis Deligiannis&lt;/a&gt; this is not a bug. Please read &lt;a href=&quot;https://cwiki.apache.org/confluence/display/SPARK/Contributing+to+Spark&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://cwiki.apache.org/confluence/display/SPARK/Contributing+to+Spark&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="15182901" author="jid1" created="Mon, 7 Mar 2016 11:34:20 +0000"  >&lt;p&gt;Point taken, though I&apos;d rank it higher than minor since it severely effect non-batch applications (Which in client application terms would be considered a bug; not a Spark bug). In any case, do you think this would be better placed on the mailing list?&lt;/p&gt;</comment>
                            <comment id="15182902" author="jid1" created="Mon, 7 Mar 2016 11:36:10 +0000"  >&lt;p&gt;True, tuning &lt;tt&gt;spark.locality.wait&lt;/tt&gt; yields better performance and is application specific. However in essence the issue is that the scheduler tries to assign the task because it does not have an available cores (I believe). &lt;/p&gt;

&lt;p&gt;When the task is assigned to another node and that node tries to access resources on the originally &apos;busy&apos; node, in most cases, it will incur longer wait times. As the data is also available in another N(Replicas-1), it has better (or equal) chances to get better results. &lt;/p&gt;

&lt;p&gt;Just to be clear, the issue is not about whether non-locality is faster or not; it is that newly scheduled tasks hit the same node that could not accept the task to begin with and creating a straggler. &lt;/p&gt;</comment>
                            <comment id="15183316" author="jid1" created="Mon, 7 Mar 2016 17:30:51 +0000"  >&lt;p&gt;More readable description of the problem&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12791786" name="spark_struggler.jpg" size="81323" author="jid1" created="Mon, 7 Mar 2016 17:30:51 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Mon, 7 Mar 2016 11:02:34 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i2u9xj:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                    </customfields>
    </item>

<item>
            <title>[SPARK-13717] Let RandomSampler can sample with Java iterator</title>
                <link>https://issues.apache.org/jira/browse/SPARK-13717</link>
                <project id="12315420" key="SPARK">Spark</project>
                    <description>&lt;p&gt;Currently RandomSampler.sample only accepts Scala iterator. We should also let it accept Java iterator for better compatibility.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12947661">SPARK-13717</key>
            <summary>Let RandomSampler can sample with Java iterator</summary>
                <type id="4" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/improvement.png">Improvement</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.png">Minor</priority>
                        <status id="3" iconUrl="https://issues.apache.org/jira/images/icons/statuses/inprogress.png" description="This issue is being actively worked on at the moment by the assignee.">In Progress</status>
                    <statusCategory id="4" key="indeterminate" colorName="yellow"/>
                                    <resolution id="-1">Unresolved</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="viirya">Liang-Chi Hsieh</reporter>
                        <labels>
                    </labels>
                <created>Mon, 7 Mar 2016 10:11:20 +0000</created>
                <updated>Mon, 7 Mar 2016 10:13:08 +0000</updated>
                                                                            <component>Spark Core</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                <comments>
                            <comment id="15182834" author="apachespark" created="Mon, 7 Mar 2016 10:13:05 +0000"  >&lt;p&gt;User &apos;viirya&apos; has created a pull request for this issue:&lt;br/&gt;
&lt;a href=&quot;https://github.com/apache/spark/pull/11559&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://github.com/apache/spark/pull/11559&lt;/a&gt;&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Mon, 7 Mar 2016 10:13:05 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i2u9w7:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                    </customfields>
    </item>

<item>
            <title>[SPARK-13716] mvn deploy tried to upload test jar of spark-network-common_2.10 twice</title>
                <link>https://issues.apache.org/jira/browse/SPARK-13716</link>
                <project id="12315420" key="SPARK">Spark</project>
                    <description>&lt;p&gt;spark/pom.xml:&lt;br/&gt;
      &amp;lt;plugin&amp;gt;&lt;br/&gt;
        &amp;lt;groupId&amp;gt;org.apache.maven.plugins&amp;lt;/groupId&amp;gt;&lt;br/&gt;
        &amp;lt;artifactId&amp;gt;maven-jar-plugin&amp;lt;/artifactId&amp;gt;&lt;br/&gt;
        &amp;lt;executions&amp;gt;&lt;br/&gt;
          &amp;lt;execution&amp;gt;&lt;br/&gt;
            &amp;lt;id&amp;gt;prepare-test-jar&amp;lt;/id&amp;gt;&lt;br/&gt;
            &amp;lt;phase&amp;gt;prepare-package&amp;lt;/phase&amp;gt;&lt;br/&gt;
            &amp;lt;goals&amp;gt;&lt;br/&gt;
              &amp;lt;goal&amp;gt;test-jar&amp;lt;/goal&amp;gt;&lt;br/&gt;
            &amp;lt;/goals&amp;gt;&lt;br/&gt;
            &amp;lt;configuration&amp;gt;&lt;br/&gt;
              &amp;lt;excludes&amp;gt;&lt;br/&gt;
                &amp;lt;exclude&amp;gt;log4j.properties&amp;lt;/exclude&amp;gt;&lt;br/&gt;
              &amp;lt;/excludes&amp;gt;&lt;br/&gt;
            &amp;lt;/configuration&amp;gt;&lt;br/&gt;
          &amp;lt;/execution&amp;gt;&lt;br/&gt;
        &amp;lt;/executions&amp;gt;&lt;br/&gt;
      &amp;lt;/plugin&amp;gt;&lt;br/&gt;
-----------------------------------------------------------------------&lt;br/&gt;
spark/network/common/pom.xml:&lt;br/&gt;
      &amp;lt;plugin&amp;gt;&lt;br/&gt;
        &amp;lt;groupId&amp;gt;org.apache.maven.plugins&amp;lt;/groupId&amp;gt;&lt;br/&gt;
        &amp;lt;artifactId&amp;gt;maven-jar-plugin&amp;lt;/artifactId&amp;gt;&lt;br/&gt;
        &amp;lt;executions&amp;gt;&lt;br/&gt;
          &amp;lt;execution&amp;gt;&lt;br/&gt;
            &amp;lt;id&amp;gt;test-jar-on-test-compile&amp;lt;/id&amp;gt;&lt;br/&gt;
            &amp;lt;phase&amp;gt;test-compile&amp;lt;/phase&amp;gt;&lt;br/&gt;
            &amp;lt;goals&amp;gt;&lt;br/&gt;
              &amp;lt;goal&amp;gt;test-jar&amp;lt;/goal&amp;gt;&lt;br/&gt;
            &amp;lt;/goals&amp;gt;&lt;br/&gt;
          &amp;lt;/execution&amp;gt;&lt;br/&gt;
        &amp;lt;/executions&amp;gt;&lt;br/&gt;
      &amp;lt;/plugin&amp;gt;&lt;/p&gt;

&lt;p&gt;maven-jar-plugin:test-jar goal is bound to both phase &quot;test-compile&quot; and phase &quot;test-jar&quot;. As a result, when I tried to deploy spark to nexus repository, test.jar of spark-network-common_2.10 was tried to be uploaded twice and failed.&lt;/p&gt;</description>
                <environment>&lt;p&gt;Apache Maven 3.3.3 (7994120775791599e205a5524ec3e0dfe41d4a06; 2015-04-22T19:57:37+08:00)&lt;br/&gt;
Maven home: /usr/local/share/maven&lt;br/&gt;
Java version: 1.7.0_80, vendor: Oracle Corporation&lt;br/&gt;
Java home: /usr/lib/jvm/java-7-oracle/jre&lt;br/&gt;
Default locale: en_US, platform encoding: UTF-8&lt;br/&gt;
OS name: &quot;linux&quot;, version: &quot;3.13.0-58-generic&quot;, arch: &quot;amd64&quot;, family: &quot;unix&quot;&lt;/p&gt;</environment>
        <key id="12947650">SPARK-13716</key>
            <summary>mvn deploy tried to upload test jar of spark-network-common_2.10 twice</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/bug.png">Bug</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.png">Minor</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="6">Invalid</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="victor-wong">Jiasheng Wang</reporter>
                        <labels>
                            <label>mvn</label>
                            <label>pom</label>
                    </labels>
                <created>Mon, 7 Mar 2016 09:32:02 +0000</created>
                <updated>Mon, 7 Mar 2016 09:39:09 +0000</updated>
                            <resolved>Mon, 7 Mar 2016 09:39:09 +0000</resolved>
                                    <version>1.5.2</version>
                                                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                <comments>
                            <comment id="15182795" author="srowen" created="Mon, 7 Mar 2016 09:39:09 +0000"  >&lt;p&gt;I&apos;m not sure what you&apos;re reporting, but sound related to your own build or modifications. Spark&apos;s build deploys successfully.&lt;/p&gt;

&lt;p&gt;Read &lt;a href=&quot;https://cwiki.apache.org/confluence/display/SPARK/Contributing+to+Spark&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://cwiki.apache.org/confluence/display/SPARK/Contributing+to+Spark&lt;/a&gt; please&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Mon, 7 Mar 2016 09:39:09 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i2u9tr:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        </customfields>
    </item>

<item>
            <title>[SPARK-13715] Remove last usages of jblas in tests</title>
                <link>https://issues.apache.org/jira/browse/SPARK-13715</link>
                <project id="12315420" key="SPARK">Spark</project>
                    <description>&lt;p&gt;Only Spark test code uses jblas at this point. For completeness, these relatively few simple calls should be replaced with equivalent calls to breeze classes, or in some cases maybe even just double arrays.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12947648">SPARK-13715</key>
            <summary>Remove last usages of jblas in tests</summary>
                <type id="4" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/improvement.png">Improvement</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.png">Minor</priority>
                        <status id="3" iconUrl="https://issues.apache.org/jira/images/icons/statuses/inprogress.png" description="This issue is being actively worked on at the moment by the assignee.">In Progress</status>
                    <statusCategory id="4" key="indeterminate" colorName="yellow"/>
                                    <resolution id="-1">Unresolved</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="srowen">Sean Owen</reporter>
                        <labels>
                            <label>starter</label>
                    </labels>
                <created>Mon, 7 Mar 2016 09:29:21 +0000</created>
                <updated>Mon, 7 Mar 2016 13:08:06 +0000</updated>
                                            <version>1.6.0</version>
                                                    <component>Tests</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                <comments>
                            <comment id="15182977" author="apachespark" created="Mon, 7 Mar 2016 13:08:03 +0000"  >&lt;p&gt;User &apos;srowen&apos; has created a pull request for this issue:&lt;br/&gt;
&lt;a href=&quot;https://github.com/apache/spark/pull/11560&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://github.com/apache/spark/pull/11560&lt;/a&gt;&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Mon, 7 Mar 2016 13:08:03 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i2u9tb:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12310320" key="com.atlassian.jira.plugin.system.customfieldtypes:multiversion">
                        <customfieldname>Target Version/s</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue>12329449</customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                </customfields>
    </item>

<item>
            <title>[SPARK-13714] Another ConnectedComponents based on Max-Degree Propagation</title>
                <link>https://issues.apache.org/jira/browse/SPARK-13714</link>
                <project id="12315420" key="SPARK">Spark</project>
                    <description>&lt;p&gt;Current ConnectedComponents algorithm was based on Min-VertexId Propagation, which is sensitive to the place of Min-VertexId.&lt;br/&gt;
While this implementation is based on Max-Degree Propagation.&lt;br/&gt;
First, the degree graph is computed. And in the pregel progress, the vertex with the max degree in a CC is the start point of propagation.&lt;br/&gt;
This new method has advantages over the old one:&lt;br/&gt;
1, The convergence is only determined by the structs of CC, and is robust to the place of vertex with Min-ID.&lt;br/&gt;
2, For spherical CCs in which there may be a concept like &apos;center&apos;, it can accelerate the convergence. For example, GraphGenerators.gridGraph(sc, 3, 3), the old CC need 4 supersteps, while the new one only need 2 supersteps.&lt;br/&gt;
3, If we limit the number of iteration, the new method tend to generate more acceptable results.&lt;br/&gt;
4, The output for each CC is the vertex with max degree in it, which may be more meaningful. And because the vertex-ID is nominal in most cases, the vertex with min-ID in a CC is somewhat meanless.&lt;/p&gt;

&lt;p&gt;But there are still two disadvantages:&lt;br/&gt;
1,The message body grows, from (VID) to (VID, Degree). that is (Long) -&amp;gt; (Long, Int)&lt;br/&gt;
2,For graph with simple CCs, it may be slower than old one. Because it need a extra degree computation.&lt;/p&gt;

&lt;p&gt;The api is the same like ConnectedComponents:&lt;/p&gt;

&lt;p&gt;val graph = ...&lt;br/&gt;
val cc = graph.ConnectedComponentsWithDegree(100)&lt;br/&gt;
or&lt;br/&gt;
val cc = ConnectedComponentsWithDegree.run(graph, 100)&lt;/p&gt;</description>
                <environment></environment>
        <key id="12947644">SPARK-13714</key>
            <summary>Another ConnectedComponents based on Max-Degree Propagation</summary>
                <type id="2" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/newfeature.png">New Feature</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.png">Minor</priority>
                        <status id="3" iconUrl="https://issues.apache.org/jira/images/icons/statuses/inprogress.png" description="This issue is being actively worked on at the moment by the assignee.">In Progress</status>
                    <statusCategory id="4" key="indeterminate" colorName="yellow"/>
                                    <resolution id="-1">Unresolved</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="podongfeng">zhengruifeng</reporter>
                        <labels>
                    </labels>
                <created>Mon, 7 Mar 2016 09:26:42 +0000</created>
                <updated>Mon, 7 Mar 2016 09:36:43 +0000</updated>
                                                                            <component>GraphX</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                <comments>
                            <comment id="15182791" author="apachespark" created="Mon, 7 Mar 2016 09:29:04 +0000"  >&lt;p&gt;User &apos;zhengruifeng&apos; has created a pull request for this issue:&lt;br/&gt;
&lt;a href=&quot;https://github.com/apache/spark/pull/11556&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://github.com/apache/spark/pull/11556&lt;/a&gt;&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Mon, 7 Mar 2016 09:29:04 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i2u9sf:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                    </customfields>
    </item>

<item>
            <title>[SPARK-13713] Replace ANTLR3 SQL parser by a ANTLR4 SQL parser</title>
                <link>https://issues.apache.org/jira/browse/SPARK-13713</link>
                <project id="12315420" key="SPARK">Spark</project>
                    <description>&lt;p&gt;Replace the current SQL Parser by a version written in ANTLR4. This has various advantages:&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;Much simpler structure&lt;/li&gt;
	&lt;li&gt;No code blowup&lt;/li&gt;
	&lt;li&gt;Reduction in lines of code&lt;/li&gt;
&lt;/ul&gt;
</description>
                <environment></environment>
        <key id="12947626">SPARK-13713</key>
            <summary>Replace ANTLR3 SQL parser by a ANTLR4 SQL parser</summary>
                <type id="7" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/subtask_alternate.png">Sub-task</type>
                            <parent id="12922293">SPARK-12362</parent>
                                    <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.png">Major</priority>
                        <status id="3" iconUrl="https://issues.apache.org/jira/images/icons/statuses/inprogress.png" description="This issue is being actively worked on at the moment by the assignee.">In Progress</status>
                    <statusCategory id="4" key="indeterminate" colorName="yellow"/>
                                    <resolution id="-1">Unresolved</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="hvanhovell">Herman van Hovell</reporter>
                        <labels>
                    </labels>
                <created>Mon, 7 Mar 2016 07:26:02 +0000</created>
                <updated>Mon, 7 Mar 2016 10:11:46 +0000</updated>
                                                                            <component>SQL</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>3</watches>
                                                                <comments>
                            <comment id="15182803" author="apachespark" created="Mon, 7 Mar 2016 09:41:04 +0000"  >&lt;p&gt;User &apos;hvanhovell&apos; has created a pull request for this issue:&lt;br/&gt;
&lt;a href=&quot;https://github.com/apache/spark/pull/11557&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://github.com/apache/spark/pull/11557&lt;/a&gt;&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Mon, 7 Mar 2016 09:41:04 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i2u9of:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12310320" key="com.atlassian.jira.plugin.system.customfieldtypes:multiversion">
                        <customfieldname>Target Version/s</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue>12329449</customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                </customfields>
    </item>

<item>
            <title>[SPARK-13712] Add OneVsOne to ML</title>
                <link>https://issues.apache.org/jira/browse/SPARK-13712</link>
                <project id="12315420" key="SPARK">Spark</project>
                    <description>&lt;p&gt;Another Meta method for multi-class classification.&lt;/p&gt;

&lt;p&gt;Most classification algorithms were designed for balanced data.&lt;br/&gt;
The OneVsRest method will generate K models on imbalanced data.&lt;br/&gt;
The OneVsOne will train K*(K-1)/2 models on balanced data.&lt;/p&gt;

&lt;p&gt;OneVsOne is less sensitive to the problems of imbalanced datasets, and can usually result in higher precision.&lt;br/&gt;
But it is much more computationally expensive, although each model are trained on a much smaller dataset. (2/K of total)&lt;/p&gt;


&lt;p&gt;The OneVsOne is implemented in the way OneVsRest did:&lt;/p&gt;

&lt;p&gt;val classifier = new LogisticRegression()&lt;br/&gt;
val ovo = new OneVsOne()&lt;br/&gt;
ovo.setClassifier(classifier)&lt;br/&gt;
val ovoModel = ovo.fit(data)&lt;br/&gt;
val predictions = ovoModel.transform(data)&lt;/p&gt;</description>
                <environment></environment>
        <key id="12947621">SPARK-13712</key>
            <summary>Add OneVsOne to ML</summary>
                <type id="2" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/newfeature.png">New Feature</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.png">Minor</priority>
                        <status id="3" iconUrl="https://issues.apache.org/jira/images/icons/statuses/inprogress.png" description="This issue is being actively worked on at the moment by the assignee.">In Progress</status>
                    <statusCategory id="4" key="indeterminate" colorName="yellow"/>
                                    <resolution id="-1">Unresolved</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="podongfeng">zhengruifeng</reporter>
                        <labels>
                    </labels>
                <created>Mon, 7 Mar 2016 06:48:50 +0000</created>
                <updated>Mon, 7 Mar 2016 06:51:05 +0000</updated>
                                                                            <component>ML</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                <comments>
                            <comment id="15182660" author="apachespark" created="Mon, 7 Mar 2016 06:51:03 +0000"  >&lt;p&gt;User &apos;zhengruifeng&apos; has created a pull request for this issue:&lt;br/&gt;
&lt;a href=&quot;https://github.com/apache/spark/pull/11554&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://github.com/apache/spark/pull/11554&lt;/a&gt;&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Mon, 7 Mar 2016 06:51:03 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i2u9nb:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                    </customfields>
    </item>

<item>
            <title>[SPARK-13711] Apache Spark driver stopping JVM when master not available </title>
                <link>https://issues.apache.org/jira/browse/SPARK-13711</link>
                <project id="12315420" key="SPARK">Spark</project>
                    <description>&lt;p&gt;In my application Java spark context is created with an unavailable master URL (you may assume master is down for a maintenance). When creating Java spark context it leads to stopping JVM that runs spark driver with JVM exit code 50.&lt;/p&gt;

&lt;p&gt;When I checked the logs I found SparkUncaughtExceptionHandler calling the System.exit. My program should run forever. &lt;/p&gt;

&lt;p&gt;package test.mains;&lt;/p&gt;

&lt;p&gt;import org.apache.spark.SparkConf;&lt;br/&gt;
import org.apache.spark.api.java.JavaSparkContext;&lt;/p&gt;

&lt;p&gt;public class CheckJavaSparkContext {&lt;/p&gt;

&lt;p&gt;    public static void main(String[] args) {&lt;/p&gt;

&lt;p&gt;        SparkConf conf = new SparkConf();&lt;br/&gt;
        conf.setAppName(&quot;test&quot;);&lt;br/&gt;
        conf.setMaster(&quot;spark://sunshinee:7077&quot;);&lt;/p&gt;

&lt;p&gt;        try &lt;/p&gt;
{
            new JavaSparkContext(conf);
        }
&lt;p&gt; catch (Throwable e) &lt;/p&gt;
{
            System.out.println(&quot;Caught an exception : &quot; + e.getMessage());           
        }

&lt;p&gt;        System.out.println(&quot;Waiting to complete...&quot;);&lt;br/&gt;
        while (true) {&lt;br/&gt;
        }&lt;br/&gt;
    }&lt;/p&gt;

&lt;p&gt;}&lt;/p&gt;

&lt;p&gt;Output log&lt;/p&gt;

&lt;p&gt;Using Spark&apos;s default log4j profile: org/apache/spark/log4j-defaults.properties&lt;br/&gt;
SLF4J: Class path contains multiple SLF4J bindings.&lt;br/&gt;
SLF4J: Found binding in &lt;span class=&quot;error&quot;&gt;&amp;#91;jar:file:/data/downloads/spark-1.6.0-bin-hadoop2.6/lib/spark-assembly-1.6.0-hadoop2.6.0.jar!/org/slf4j/impl/StaticLoggerBinder.class&amp;#93;&lt;/span&gt;&lt;br/&gt;
SLF4J: Found binding in &lt;span class=&quot;error&quot;&gt;&amp;#91;jar:file:/data/downloads/spark-1.6.0-bin-hadoop2.6/lib/spark-examples-1.6.0-hadoop2.6.0.jar!/org/slf4j/impl/StaticLoggerBinder.class&amp;#93;&lt;/span&gt;&lt;br/&gt;
SLF4J: See &lt;a href=&quot;http://www.slf4j.org/codes.html#multiple_bindings&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://www.slf4j.org/codes.html#multiple_bindings&lt;/a&gt; for an explanation.&lt;br/&gt;
SLF4J: Actual binding is of type &lt;span class=&quot;error&quot;&gt;&amp;#91;org.slf4j.impl.Log4jLoggerFactory&amp;#93;&lt;/span&gt;&lt;br/&gt;
16/03/04 18:01:15 INFO SparkContext: Running Spark version 1.6.0&lt;br/&gt;
16/03/04 18:01:17 WARN NativeCodeLoader: Unable to load native-hadoop library for your platform... using builtin-java classes where applicable&lt;br/&gt;
16/03/04 18:01:17 WARN Utils: Your hostname, pesamara-mobl-vm1 resolves to a loopback address: 127.0.0.1; using 10.30.9.107 instead (on interface eth0)&lt;br/&gt;
16/03/04 18:01:17 WARN Utils: Set SPARK_LOCAL_IP if you need to bind to another address&lt;br/&gt;
16/03/04 18:01:18 INFO SecurityManager: Changing view acls to: ps40233&lt;br/&gt;
16/03/04 18:01:18 INFO SecurityManager: Changing modify acls to: ps40233&lt;br/&gt;
16/03/04 18:01:18 INFO SecurityManager: SecurityManager: authentication disabled; ui acls disabled; users with view permissions: Set(ps40233); users with modify permissions: Set(ps40233)&lt;br/&gt;
16/03/04 18:01:19 INFO Utils: Successfully started service &apos;sparkDriver&apos; on port 55309.&lt;br/&gt;
16/03/04 18:01:21 INFO Slf4jLogger: Slf4jLogger started&lt;br/&gt;
16/03/04 18:01:21 INFO Remoting: Starting remoting&lt;br/&gt;
16/03/04 18:01:22 INFO Remoting: Remoting started; listening on addresses :&lt;span class=&quot;error&quot;&gt;&amp;#91;akka.tcp://sparkDriverActorSystem@10.30.9.107:52128&amp;#93;&lt;/span&gt;&lt;br/&gt;
16/03/04 18:01:22 INFO Utils: Successfully started service &apos;sparkDriverActorSystem&apos; on port 52128.&lt;br/&gt;
16/03/04 18:01:22 INFO SparkEnv: Registering MapOutputTracker&lt;br/&gt;
16/03/04 18:01:22 INFO SparkEnv: Registering BlockManagerMaster&lt;br/&gt;
16/03/04 18:01:22 INFO DiskBlockManager: Created local directory at /tmp/blockmgr-87c20178-357d-4252-a46a-62a755568a98&lt;br/&gt;
16/03/04 18:01:22 INFO MemoryStore: MemoryStore started with capacity 457.7 MB&lt;br/&gt;
16/03/04 18:01:22 INFO SparkEnv: Registering OutputCommitCoordinator&lt;br/&gt;
16/03/04 18:01:23 INFO Utils: Successfully started service &apos;SparkUI&apos; on port 4040.&lt;br/&gt;
16/03/04 18:01:23 INFO SparkUI: Started SparkUI at &lt;a href=&quot;http://10.30.9.107:4040&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://10.30.9.107:4040&lt;/a&gt;&lt;br/&gt;
16/03/04 18:01:24 INFO AppClient$ClientEndpoint: Connecting to master spark://sunshinee:7077...&lt;br/&gt;
16/03/04 18:01:24 WARN AppClient$ClientEndpoint: Failed to connect to master sunshinee:7077&lt;br/&gt;
java.io.IOException: Failed to connect to sunshinee:7077&lt;br/&gt;
        at org.apache.spark.network.client.TransportClientFactory.createClient(TransportClientFactory.java:216) at org.apache.spark.network.client.TransportClientFactory.createClient(TransportClientFactory.java:216)&lt;br/&gt;
        at org.apache.spark.network.client.TransportClientFactory.createClient(TransportClientFactory.java:216)&lt;br/&gt;
        at org.apache.spark.network.client.TransportClientFactory.createClient(TransportClientFactory.java:167)&lt;br/&gt;
        at org.apache.spark.rpc.netty.NettyRpcEnv.createClient(NettyRpcEnv.scala:200)&lt;br/&gt;
        at org.apache.spark.rpc.netty.Outbox$$anon$1.call(Outbox.scala:187)&lt;br/&gt;
        at org.apache.spark.rpc.netty.Outbox$$anon$1.call(Outbox.scala:183)&lt;br/&gt;
        at java.util.concurrent.FutureTask.run(FutureTask.java:266)&lt;br/&gt;
        at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)&lt;br/&gt;
        at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)&lt;br/&gt;
        at java.lang.Thread.run(Thread.java:745)&lt;br/&gt;
Caused by: java.nio.channels.UnresolvedAddressException&lt;br/&gt;
        at sun.nio.ch.Net.checkAddress(Net.java:123)&lt;br/&gt;
        at sun.nio.ch.SocketChannelImpl.connect(SocketChannelImpl.java:621)&lt;br/&gt;
        at io.netty.channel.socket.nio.NioSocketChannel.doConnect(NioSocketChannel.java:209)&lt;br/&gt;
        at io.netty.channel.nio.AbstractNioChannel$AbstractNioUnsafe.connect(AbstractNioChannel.java:207)&lt;br/&gt;
        at io.netty.channel.DefaultChannelPipeline$HeadContext.connect(DefaultChannelPipeline.java:1097)&lt;br/&gt;
        at io.netty.channel.AbstractChannelHandlerContext.invokeConnect(AbstractChannelHandlerContext.java:471)&lt;br/&gt;
        at io.netty.channel.AbstractChannelHandlerContext.connect(AbstractChannelHandlerContext.java:456)&lt;br/&gt;
        at io.netty.channel.ChannelOutboundHandlerAdapter.connect(ChannelOutboundHandlerAdapter.java:47)&lt;br/&gt;
        at io.netty.channel.AbstractChannelHandlerContext.invokeConnect(AbstractChannelHandlerContext.java:471)&lt;br/&gt;
        at io.netty.channel.AbstractChannelHandlerContext.connect(AbstractChannelHandlerContext.java:456)&lt;br/&gt;
        at io.netty.channel.ChannelDuplexHandler.connect(ChannelDuplexHandler.java:50)&lt;br/&gt;
        at io.netty.channel.AbstractChannelHandlerContext.invokeConnect(AbstractChannelHandlerContext.java:471)&lt;br/&gt;
        at io.netty.channel.AbstractChannelHandlerContext.connect(AbstractChannelHandlerContext.java:456)&lt;br/&gt;
        at io.netty.channel.AbstractChannelHandlerContext.connect(AbstractChannelHandlerContext.java:438)&lt;br/&gt;
        at io.netty.channel.DefaultChannelPipeline.connect(DefaultChannelPipeline.java:908)&lt;br/&gt;
        at io.netty.channel.AbstractChannel.connect(AbstractChannel.java:203)&lt;br/&gt;
        at io.netty.bootstrap.Bootstrap$2.run(Bootstrap.java:166)&lt;br/&gt;
        at io.netty.util.concurrent.SingleThreadEventExecutor.runAllTasks(SingleThreadEventExecutor.java:357)&lt;br/&gt;
        at io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:357)&lt;br/&gt;
        at io.netty.util.concurrent.SingleThreadEventExecutor$2.run(SingleThreadEventExecutor.java:111)&lt;br/&gt;
        ... 1 more&lt;br/&gt;
16/03/04 18:01:44 INFO AppClient$ClientEndpoint: Connecting to master spark://sunshinee:7077...&lt;br/&gt;
16/03/04 18:01:44 WARN AppClient$ClientEndpoint: Failed to connect to master sunshinee:7077&lt;br/&gt;
java.io.IOException: Failed to connect to sunshinee:7077&lt;br/&gt;
        at org.apache.spark.network.client.TransportClientFactory.createClient(TransportClientFactory.java:216)&lt;br/&gt;
        at org.apache.spark.network.client.TransportClientFactory.createClient(TransportClientFactory.java:167)&lt;br/&gt;
        at org.apache.spark.rpc.netty.NettyRpcEnv.createClient(NettyRpcEnv.scala:200)&lt;br/&gt;
        at org.apache.spark.rpc.netty.Outbox$$anon$1.call(Outbox.scala:187)&lt;br/&gt;
        at org.apache.spark.rpc.netty.Outbox$$anon$1.call(Outbox.scala:183)&lt;br/&gt;
        at java.util.concurrent.FutureTask.run(FutureTask.java:266)&lt;br/&gt;
        at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)&lt;br/&gt;
        at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)&lt;br/&gt;
        at java.lang.Thread.run(Thread.java:745)&lt;br/&gt;
Caused by: java.nio.channels.UnresolvedAddressException&lt;br/&gt;
        at sun.nio.ch.Net.checkAddress(Net.java:123)&lt;br/&gt;
        at sun.nio.ch.SocketChannelImpl.connect(SocketChannelImpl.java:621)&lt;br/&gt;
        at io.netty.channel.socket.nio.NioSocketChannel.doConnect(NioSocketChannel.java:209)&lt;br/&gt;
        at io.netty.channel.nio.AbstractNioChannel$AbstractNioUnsafe.connect(AbstractNioChannel.java:207)&lt;br/&gt;
        at io.netty.channel.DefaultChannelPipeline$HeadContext.connect(DefaultChannelPipeline.java:1097)&lt;br/&gt;
        at io.netty.channel.AbstractChannelHandlerContext.invokeConnect(AbstractChannelHandlerContext.java:471)&lt;br/&gt;
        at io.netty.channel.AbstractChannelHandlerContext.connect(AbstractChannelHandlerContext.java:456)&lt;br/&gt;
        at io.netty.channel.ChannelOutboundHandlerAdapter.connect(ChannelOutboundHandlerAdapter.java:47)&lt;br/&gt;
        at io.netty.channel.AbstractChannelHandlerContext.invokeConnect(AbstractChannelHandlerContext.java:471)&lt;br/&gt;
        at io.netty.channel.AbstractChannelHandlerContext.connect(AbstractChannelHandlerContext.java:456)&lt;br/&gt;
        at io.netty.channel.ChannelDuplexHandler.connect(ChannelDuplexHandler.java:50)&lt;br/&gt;
        at io.netty.channel.AbstractChannelHandlerContext.invokeConnect(AbstractChannelHandlerContext.java:471)&lt;br/&gt;
        at io.netty.channel.AbstractChannelHandlerContext.connect(AbstractChannelHandlerContext.java:456)&lt;br/&gt;
        at io.netty.channel.AbstractChannelHandlerContext.connect(AbstractChannelHandlerContext.java:438)&lt;br/&gt;
        at io.netty.channel.DefaultChannelPipeline.connect(DefaultChannelPipeline.java:908)&lt;br/&gt;
        at io.netty.channel.AbstractChannel.connect(AbstractChannel.java:203)&lt;br/&gt;
        at io.netty.bootstrap.Bootstrap$2.run(Bootstrap.java:166)&lt;br/&gt;
        at io.netty.util.concurrent.SingleThreadEventExecutor.runAllTasks(SingleThreadEventExecutor.java:357)&lt;br/&gt;
        at io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:357)&lt;br/&gt;
        at io.netty.util.concurrent.SingleThreadEventExecutor$2.run(SingleThreadEventExecutor.java:111)&lt;br/&gt;
        ... 1 more&lt;br/&gt;
16/03/04 18:02:04 INFO AppClient$ClientEndpoint: Connecting to master spark://sunshinee:7077...&lt;br/&gt;
16/03/04 18:02:04 INFO AppClient$ClientEndpoint: Connecting to master spark://sunshinee:7077...&lt;br/&gt;
16/03/04 18:02:04 WARN AppClient$ClientEndpoint: Failed to connect to master sunshinee:7077&lt;br/&gt;
java.io.IOException: Failed to connect to sunshinee:7077&lt;br/&gt;
        at org.apache.spark.network.client.TransportClientFactory.createClient(TransportClientFactory.java:216)&lt;br/&gt;
        at org.apache.spark.network.client.TransportClientFactory.createClient(TransportClientFactory.java:167)&lt;br/&gt;
        at org.apache.spark.rpc.netty.NettyRpcEnv.createClient(NettyRpcEnv.scala:200)&lt;br/&gt;
        at org.apache.spark.rpc.netty.Outbox$$anon$1.call(Outbox.scala:187)&lt;br/&gt;
        at org.apache.spark.rpc.netty.Outbox$$anon$1.call(Outbox.scala:183)&lt;br/&gt;
        at java.util.concurrent.FutureTask.run(FutureTask.java:266)&lt;br/&gt;
        at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)&lt;br/&gt;
        at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)&lt;br/&gt;
        at java.lang.Thread.run(Thread.java:745)&lt;br/&gt;
Caused by: java.nio.channels.UnresolvedAddressException&lt;br/&gt;
        at sun.nio.ch.Net.checkAddress(Net.java:123)&lt;br/&gt;
        at sun.nio.ch.SocketChannelImpl.connect(SocketChannelImpl.java:621)&lt;br/&gt;
        at io.netty.channel.socket.nio.NioSocketChannel.doConnect(NioSocketChannel.java:209)&lt;br/&gt;
        at io.netty.channel.nio.AbstractNioChannel$AbstractNioUnsafe.connect(AbstractNioChannel.java:207)&lt;br/&gt;
        at io.netty.channel.DefaultChannelPipeline$HeadContext.connect(DefaultChannelPipeline.java:1097)&lt;br/&gt;
        at io.netty.channel.AbstractChannelHandlerContext.invokeConnect(AbstractChannelHandlerContext.java:471)&lt;br/&gt;
        at io.netty.channel.AbstractChannelHandlerContext.connect(AbstractChannelHandlerContext.java:456)&lt;br/&gt;
        at io.netty.channel.ChannelOutboundHandlerAdapter.connect(ChannelOutboundHandlerAdapter.java:47)&lt;br/&gt;
        at io.netty.channel.AbstractChannelHandlerContext.invokeConnect(AbstractChannelHandlerContext.java:471)&lt;br/&gt;
        at io.netty.channel.AbstractChannelHandlerContext.connect(AbstractChannelHandlerContext.java:456)&lt;br/&gt;
        at io.netty.channel.ChannelDuplexHandler.connect(ChannelDuplexHandler.java:50)&lt;br/&gt;
        at io.netty.channel.AbstractChannelHandlerContext.invokeConnect(AbstractChannelHandlerContext.java:471)&lt;br/&gt;
        at io.netty.channel.AbstractChannelHandlerContext.connect(AbstractChannelHandlerContext.java:456)&lt;br/&gt;
        at io.netty.channel.AbstractChannelHandlerContext.connect(AbstractChannelHandlerContext.java:438)&lt;br/&gt;
        at io.netty.channel.DefaultChannelPipeline.connect(DefaultChannelPipeline.java:908)&lt;br/&gt;
        at io.netty.channel.AbstractChannel.connect(AbstractChannel.java:203)&lt;br/&gt;
        at io.netty.bootstrap.Bootstrap$2.run(Bootstrap.java:166)&lt;br/&gt;
        at io.netty.util.concurrent.SingleThreadEventExecutor.runAllTasks(SingleThreadEventExecutor.java:357)&lt;br/&gt;
        at io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:357)&lt;br/&gt;
        at io.netty.util.concurrent.SingleThreadEventExecutor$2.run(SingleThreadEventExecutor.java:111)&lt;br/&gt;
        ... 1 more&lt;br/&gt;
16/03/04 18:02:24 INFO AppClient$ClientEndpoint: Connecting to master spark://sunshinee:7077...&lt;br/&gt;
16/03/04 18:02:24 INFO AppClient$ClientEndpoint: Connecting to master spark://sunshinee:7077...&lt;br/&gt;
16/03/04 18:02:24 WARN SparkDeploySchedulerBackend: Application ID is not initialized yet.&lt;br/&gt;
16/03/04 18:02:24 ERROR SparkDeploySchedulerBackend: Application has been killed. Reason: All masters are unresponsive! Giving up.&lt;br/&gt;
16/03/04 18:02:24 WARN AppClient$ClientEndpoint: Failed to connect to master sunshinee:7077&lt;br/&gt;
java.io.IOException: Failed to connect to sunshinee:7077&lt;br/&gt;
        at org.apache.spark.network.client.TransportClientFactory.createClient(TransportClientFactory.java:216)&lt;br/&gt;
        at org.apache.spark.network.client.TransportClientFactory.createClient(TransportClientFactory.java:167)&lt;br/&gt;
        at org.apache.spark.rpc.netty.NettyRpcEnv.createClient(NettyRpcEnv.scala:200)&lt;br/&gt;
        at org.apache.spark.rpc.netty.Outbox$$anon$1.call(Outbox.scala:187)&lt;br/&gt;
        at org.apache.spark.rpc.netty.Outbox$$anon$1.call(Outbox.scala:183)&lt;br/&gt;
        at java.util.concurrent.FutureTask.run(FutureTask.java:266)&lt;br/&gt;
        at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)&lt;br/&gt;
        at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)&lt;br/&gt;
        at java.lang.Thread.run(Thread.java:745)&lt;br/&gt;
Caused by: java.nio.channels.UnresolvedAddressException&lt;br/&gt;
        at sun.nio.ch.Net.checkAddress(Net.java:123)&lt;br/&gt;
        at sun.nio.ch.SocketChannelImpl.connect(SocketChannelImpl.java:621)&lt;br/&gt;
        at io.netty.channel.socket.nio.NioSocketChannel.doConnect(NioSocketChannel.java:209)&lt;br/&gt;
        at io.netty.channel.nio.AbstractNioChannel$AbstractNioUnsafe.connect(AbstractNioChannel.java:207)&lt;br/&gt;
        at io.netty.channel.DefaultChannelPipeline$HeadContext.connect(DefaultChannelPipeline.java:1097)&lt;br/&gt;
        at io.netty.channel.AbstractChannelHandlerContext.invokeConnect(AbstractChannelHandlerContext.java:471)&lt;br/&gt;
        at io.netty.channel.AbstractChannelHandlerContext.connect(AbstractChannelHandlerContext.java:456)&lt;br/&gt;
        at io.netty.channel.ChannelOutboundHandlerAdapter.connect(ChannelOutboundHandlerAdapter.java:47)&lt;br/&gt;
        at io.netty.channel.AbstractChannelHandlerContext.invokeConnect(AbstractChannelHandlerContext.java:471)&lt;br/&gt;
        at io.netty.channel.AbstractChannelHandlerContext.connect(AbstractChannelHandlerContext.java:456)&lt;br/&gt;
        at io.netty.channel.ChannelDuplexHandler.connect(ChannelDuplexHandler.java:50)&lt;br/&gt;
        at io.netty.channel.AbstractChannelHandlerContext.invokeConnect(AbstractChannelHandlerContext.java:471)&lt;br/&gt;
        at io.netty.channel.AbstractChannelHandlerContext.connect(AbstractChannelHandlerContext.java:456)&lt;br/&gt;
        at io.netty.channel.AbstractChannelHandlerContext.connect(AbstractChannelHandlerContext.java:438)&lt;br/&gt;
        at io.netty.channel.DefaultChannelPipeline.connect(DefaultChannelPipeline.java:908)&lt;br/&gt;
        at io.netty.channel.AbstractChannel.connect(AbstractChannel.java:203)&lt;br/&gt;
        at io.netty.bootstrap.Bootstrap$2.run(Bootstrap.java:166)&lt;br/&gt;
        at io.netty.util.concurrent.SingleThreadEventExecutor.runAllTasks(SingleThreadEventExecutor.java:357)&lt;br/&gt;
        at io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:357)&lt;br/&gt;
        at io.netty.util.concurrent.SingleThreadEventExecutor$2.run(SingleThreadEventExecutor.java:111)&lt;br/&gt;
        ... 1 more&lt;br/&gt;
16/03/04 18:02:24 INFO Utils: Successfully started service &apos;org.apache.spark.network.netty.NettyBlockTransferService&apos; on port 44298.&lt;br/&gt;
16/03/04 18:02:24 INFO NettyBlockTransferService: Server created on 44298&lt;br/&gt;
16/03/04 18:02:24 INFO BlockManagerMaster: Trying to register BlockManager&lt;br/&gt;
16/03/04 18:02:24 INFO BlockManagerMasterEndpoint: Registering block manager 10.30.9.107:44298 with 457.7 MB RAM, BlockManagerId(driver, 10.30.9.107, 44298)&lt;br/&gt;
16/03/04 18:02:24 INFO BlockManagerMaster: Registered BlockManager&lt;br/&gt;
16/03/04 18:02:24 INFO SparkUI: Stopped Spark web UI at &lt;a href=&quot;http://10.30.9.107:4040&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://10.30.9.107:4040&lt;/a&gt;&lt;br/&gt;
16/03/04 18:02:24 INFO SparkDeploySchedulerBackend: Shutting down all executors&lt;br/&gt;
16/03/04 18:02:24 INFO SparkDeploySchedulerBackend: Asking each executor to shut down&lt;br/&gt;
16/03/04 18:02:24 WARN AppClient$ClientEndpoint: Drop UnregisterApplication(null) because has not yet connected to master&lt;br/&gt;
16/03/04 18:02:24 ERROR SparkUncaughtExceptionHandler: Uncaught exception in thread Thread&lt;span class=&quot;error&quot;&gt;&amp;#91;appclient-registration-retry-thread,5,main&amp;#93;&lt;/span&gt;&lt;br/&gt;
java.lang.InterruptedException&lt;br/&gt;
        at java.util.concurrent.locks.AbstractQueuedSynchronizer.doAcquireSharedNanos(AbstractQueuedSynchronizer.java:1039)&lt;br/&gt;
        at java.util.concurrent.locks.AbstractQueuedSynchronizer.tryAcquireSharedNanos(AbstractQueuedSynchronizer.java:1328)&lt;br/&gt;
        at scala.concurrent.impl.Promise$DefaultPromise.tryAwait(Promise.scala:208)&lt;br/&gt;
        at scala.concurrent.impl.Promise$DefaultPromise.ready(Promise.scala:218)&lt;br/&gt;
        at scala.concurrent.impl.Promise$DefaultPromise.result(Promise.scala:223)&lt;br/&gt;
        at scala.concurrent.Await$$anonfun$result$1.apply(package.scala:107)&lt;br/&gt;
        at scala.concurrent.BlockContext$DefaultBlockContext$.blockOn(BlockContext.scala:53)&lt;br/&gt;
        at scala.concurrent.Await$.result(package.scala:107)&lt;br/&gt;
        at org.apache.spark.rpc.RpcTimeout.awaitResult(RpcTimeout.scala:75)&lt;br/&gt;
        at org.apache.spark.deploy.client.AppClient.stop(AppClient.scala:290)&lt;br/&gt;
        at org.apache.spark.scheduler.cluster.SparkDeploySchedulerBackend.org$apache$spark$scheduler$cluster$SparkDeploySchedulerBackend$$stop(SparkDeploySchedulerBackend.scala:198)&lt;br/&gt;
        at org.apache.spark.scheduler.cluster.SparkDeploySchedulerBackend.stop(SparkDeploySchedulerBackend.scala:101)&lt;br/&gt;
        at org.apache.spark.scheduler.TaskSchedulerImpl.stop(TaskSchedulerImpl.scala:446)&lt;br/&gt;
        at org.apache.spark.scheduler.DAGScheduler.stop(DAGScheduler.scala:1582)&lt;br/&gt;
        at org.apache.spark.SparkContext$$anonfun$stop$7.apply$mcV$sp(SparkContext.scala:1731)&lt;br/&gt;
        at org.apache.spark.util.Utils$.tryLogNonFatalError(Utils.scala:1229)&lt;br/&gt;
        at org.apache.spark.SparkContext.stop(SparkContext.scala:1730)&lt;br/&gt;
        at org.apache.spark.scheduler.cluster.SparkDeploySchedulerBackend.dead(SparkDeploySchedulerBackend.scala:127)&lt;br/&gt;
        at org.apache.spark.deploy.client.AppClient$ClientEndpoint.markDead(AppClient.scala:264)&lt;br/&gt;
        at org.apache.spark.deploy.client.AppClient$ClientEndpoint$$anon$2$$anonfun$run$1.apply$mcV$sp(AppClient.scala:134)&lt;br/&gt;
        at org.apache.spark.util.Utils$.tryOrExit(Utils.scala:1163)&lt;br/&gt;
        at org.apache.spark.deploy.client.AppClient$ClientEndpoint$$anon$2.run(AppClient.scala:129)&lt;br/&gt;
        at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)&lt;br/&gt;
        at java.util.concurrent.FutureTask.runAndReset(FutureTask.java:308)&lt;br/&gt;
        at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.access$301(ScheduledThreadPoolExecutor.java:180)&lt;br/&gt;
        at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:294)&lt;br/&gt;
        at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)&lt;br/&gt;
        at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)&lt;br/&gt;
        at java.lang.Thread.run(Thread.java:745)&lt;br/&gt;
16/03/04 18:02:24 INFO DiskBlockManager: Shutdown hook called&lt;br/&gt;
16/03/04 18:02:24 INFO ShutdownHookManager: Shutdown hook called&lt;br/&gt;
16/03/04 18:02:24 INFO ShutdownHookManager: Deleting directory /tmp/spark-ea68a0fa-4f0d-4dbb-8407-cce90ef78a52&lt;br/&gt;
16/03/04 18:02:24 INFO ShutdownHookManager: Deleting directory /tmp/spark-ea68a0fa-4f0d-4dbb-8407-cce90ef78a52/userFiles-db548748-a55c-4406-adcb-c09e63b118bd&lt;br/&gt;
Java Result: 50 &lt;/p&gt;</description>
                <environment></environment>
        <key id="12947620">SPARK-13711</key>
            <summary>Apache Spark driver stopping JVM when master not available </summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/bug.png">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.png">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="zsxwing">Shixiong Zhu</assignee>
                                    <reporter username="erangac">Era</reporter>
                        <labels>
                    </labels>
                <created>Mon, 7 Mar 2016 06:16:49 +0000</created>
                <updated>Tue, 8 Mar 2016 04:59:03 +0000</updated>
                            <resolved>Tue, 8 Mar 2016 04:59:03 +0000</resolved>
                                    <version>1.4.1</version>
                    <version>1.6.0</version>
                                    <fixVersion>1.6.2</fixVersion>
                    <fixVersion>2.0.0</fixVersion>
                                    <component>Spark Core</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>4</watches>
                                                                <comments>
                            <comment id="15182674" author="zsxwing" created="Mon, 7 Mar 2016 07:11:42 +0000"  >&lt;p&gt;This is the correct behavior. Driver needs to talk with Master to request and launch executors.&lt;/p&gt;</comment>
                            <comment id="15182681" author="zsxwing" created="Mon, 7 Mar 2016 07:17:53 +0000"  >&lt;p&gt;Sorry, I misread the description. Did you run in the client mode? I think SparkUncaughtExceptionHandler should not be set for driver.&lt;/p&gt;</comment>
                            <comment id="15182729" author="erangac" created="Mon, 7 Mar 2016 08:09:25 +0000"  >&lt;p&gt;This is my Java based driver program. I am not using SparkUncaughtExceptionHandler but Java Spark context use it internally. &lt;/p&gt;</comment>
                            <comment id="15184016" author="apachespark" created="Mon, 7 Mar 2016 23:32:04 +0000"  >&lt;p&gt;User &apos;zsxwing&apos; has created a pull request for this issue:&lt;br/&gt;
&lt;a href=&quot;https://github.com/apache/spark/pull/11566&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://github.com/apache/spark/pull/11566&lt;/a&gt;&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Mon, 7 Mar 2016 07:11:42 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i2u9n3:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        </customfields>
    </item>

<item>
            <title>[SPARK-13710] Spark shell shows ERROR when launching on Windows</title>
                <link>https://issues.apache.org/jira/browse/SPARK-13710</link>
                <project id="12315420" key="SPARK">Spark</project>
                    <description>&lt;p&gt;On Windows, when we launch &lt;tt&gt;bin\spark-shell.cmd&lt;/tt&gt;, it shows ERROR message and stacktrace.&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;C:\Users\tsudukim\Documents\workspace\spark-dev3&amp;gt;bin\spark-shell
[ERROR] Terminal initialization failed; falling back to unsupported
java.lang.NoClassDefFoundError: Could not initialize class scala.tools.fusesource_embedded.jansi.internal.Kernel32
        at scala.tools.fusesource_embedded.jansi.internal.WindowsSupport.getConsoleMode(WindowsSupport.java:50)
        at scala.tools.jline_embedded.WindowsTerminal.getConsoleMode(WindowsTerminal.java:204)
        at scala.tools.jline_embedded.WindowsTerminal.init(WindowsTerminal.java:82)
        at scala.tools.jline_embedded.TerminalFactory.create(TerminalFactory.java:101)
        at scala.tools.jline_embedded.TerminalFactory.get(TerminalFactory.java:158)
        at scala.tools.jline_embedded.console.ConsoleReader.&amp;lt;init&amp;gt;(ConsoleReader.java:229)
        at scala.tools.jline_embedded.console.ConsoleReader.&amp;lt;init&amp;gt;(ConsoleReader.java:221)
        at scala.tools.jline_embedded.console.ConsoleReader.&amp;lt;init&amp;gt;(ConsoleReader.java:209)
        at scala.tools.nsc.interpreter.jline_embedded.JLineConsoleReader.&amp;lt;init&amp;gt;(JLineReader.scala:61)
        at scala.tools.nsc.interpreter.jline_embedded.InteractiveReader.&amp;lt;init&amp;gt;(JLineReader.scala:33)
        at sun.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)
        at sun.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:62)
        at sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)
        at java.lang.reflect.Constructor.newInstance(Constructor.java:422)
        at scala.tools.nsc.interpreter.ILoop$$anonfun$scala$tools$nsc$interpreter$ILoop$$instantiate$1$1.apply(ILoop.scala:865)
        at scala.tools.nsc.interpreter.ILoop$$anonfun$scala$tools$nsc$interpreter$ILoop$$instantiate$1$1.apply(ILoop.scala:862)
        at scala.tools.nsc.interpreter.ILoop.scala$tools$nsc$interpreter$ILoop$$mkReader$1(ILoop.scala:871)
        at scala.tools.nsc.interpreter.ILoop$$anonfun$15$$anonfun$apply$8.apply(ILoop.scala:875)
        at scala.tools.nsc.interpreter.ILoop$$anonfun$15$$anonfun$apply$8.apply(ILoop.scala:875)
        at scala.util.Try$.apply(Try.scala:192)
        at scala.tools.nsc.interpreter.ILoop$$anonfun$15.apply(ILoop.scala:875)
        at scala.tools.nsc.interpreter.ILoop$$anonfun$15.apply(ILoop.scala:875)
        at scala.collection.immutable.Stream$$anonfun$map$1.apply(Stream.scala:418)
        at scala.collection.immutable.Stream$$anonfun$map$1.apply(Stream.scala:418)
        at scala.collection.immutable.Stream$Cons.tail(Stream.scala:1233)
        at scala.collection.immutable.Stream$Cons.tail(Stream.scala:1223)
        at scala.collection.immutable.Stream.collect(Stream.scala:435)
        at scala.tools.nsc.interpreter.ILoop.chooseReader(ILoop.scala:877)
        at scala.tools.nsc.interpreter.ILoop$$anonfun$process$1$$anonfun$apply$mcZ$sp$2.apply(ILoop.scala:916)
        at scala.tools.nsc.interpreter.ILoop$$anonfun$process$1.apply$mcZ$sp(ILoop.scala:916)
        at scala.tools.nsc.interpreter.ILoop$$anonfun$process$1.apply(ILoop.scala:911)
        at scala.tools.nsc.interpreter.ILoop$$anonfun$process$1.apply(ILoop.scala:911)
        at scala.reflect.internal.util.ScalaClassLoader$.savingContextLoader(ScalaClassLoader.scala:97)
        at scala.tools.nsc.interpreter.ILoop.process(ILoop.scala:911)
        at org.apache.spark.repl.Main$.doMain(Main.scala:64)
        at org.apache.spark.repl.Main$.main(Main.scala:47)
        at org.apache.spark.repl.Main.main(Main.scala)
        at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
        at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
        at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
        at java.lang.reflect.Method.invoke(Method.java:497)
        at org.apache.spark.deploy.SparkSubmit$.org$apache$spark$deploy$SparkSubmit$$runMain(SparkSubmit.scala:737)
        at org.apache.spark.deploy.SparkSubmit$.doRunMain$1(SparkSubmit.scala:183)
        at org.apache.spark.deploy.SparkSubmit$.submit(SparkSubmit.scala:208)
        at org.apache.spark.deploy.SparkSubmit$.main(SparkSubmit.scala:122)
        at org.apache.spark.deploy.SparkSubmit.main(SparkSubmit.scala)

Using Spark&apos;s default log4j profile: org/apache/spark/log4j-defaults.properties
Setting default log level to &quot;WARN&quot;.
To adjust logging level use sc.setLogLevel(newLevel).
16/03/07 13:05:32 WARN NativeCodeLoader: Unable to load native-hadoop library for your platform... using builtin-java classes where applicable
Spark context available as sc (master = local[*], app id = local-1457323533704).
SQL context available as sqlContext.
Welcome to
      ____              __
     / __/__  ___ _____/ /__
    _\ \/ _ \/ _ `/ __/  &apos;_/
   /___/ .__/\_,_/_/ /_/\_\   version 2.0.0-SNAPSHOT
      /_/

Using Scala version 2.11.7 (Java HotSpot(TM) 64-Bit Server VM, Java 1.8.0_40)
Type in expressions to have them evaluated.
Type :help for more information.

scala&amp;gt; sc.textFile(&quot;README.md&quot;)
res0: org.apache.spark.rdd.RDD[String] = README.md MapPartitionsRDD[1] at textFile at &amp;lt;console&amp;gt;:25

scala&amp;gt; sc.textFile(&quot;README.md&quot;).count()
res1: Long = 97
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Spark-shell itself seems to work file during my simple operation check.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12947607">SPARK-13710</key>
            <summary>Spark shell shows ERROR when launching on Windows</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/bug.png">Bug</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.png">Minor</priority>
                        <status id="1" iconUrl="https://issues.apache.org/jira/images/icons/statuses/open.png" description="The issue is open and ready for the assignee to start work on it.">Open</status>
                    <statusCategory id="2" key="new" colorName="blue-gray"/>
                                    <resolution id="-1">Unresolved</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="tsudukim">Masayoshi TSUZUKI</reporter>
                        <labels>
                    </labels>
                <created>Mon, 7 Mar 2016 04:19:18 +0000</created>
                <updated>Mon, 7 Mar 2016 04:22:21 +0000</updated>
                                                                            <component>Spark Shell</component>
                    <component>Windows</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                <comments>
                            <comment id="15182565" author="tsudukim" created="Mon, 7 Mar 2016 04:22:21 +0000"  >&lt;p&gt;It shows the similar ERROR message and stacktrace also when exit from spark shell.&lt;/p&gt;

&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;scala&amp;gt; :quit
16/03/07 13:06:31 INFO SparkUI: Stopped Spark web UI at http://192.168.33.129:4040
16/03/07 13:06:31 INFO MapOutputTrackerMasterEndpoint: MapOutputTrackerMasterEndpoint stopped!
16/03/07 13:06:31 INFO MemoryStore: MemoryStore cleared
16/03/07 13:06:31 INFO BlockManager: BlockManager stopped
16/03/07 13:06:31 INFO BlockManagerMaster: BlockManagerMaster stopped
16/03/07 13:06:31 INFO OutputCommitCoordinator$OutputCommitCoordinatorEndpoint: OutputCommitCoordinator stopped!
16/03/07 13:06:31 INFO SparkContext: Successfully stopped SparkContext
[WARN] Task failed
java.lang.NoClassDefFoundError: Could not initialize class scala.tools.fusesource_embedded.jansi.internal.Kernel32
        at scala.tools.fusesource_embedded.jansi.internal.WindowsSupport.setConsoleMode(WindowsSupport.java:60)
        at scala.tools.jline_embedded.WindowsTerminal.setConsoleMode(WindowsTerminal.java:208)
        at scala.tools.jline_embedded.WindowsTerminal.restore(WindowsTerminal.java:95)
        at scala.tools.jline_embedded.TerminalSupport$1.run(TerminalSupport.java:52)
        at scala.tools.jline_embedded.internal.ShutdownHooks.runTasks(ShutdownHooks.java:66)
        at scala.tools.jline_embedded.internal.ShutdownHooks.access$000(ShutdownHooks.java:22)
        at scala.tools.jline_embedded.internal.ShutdownHooks$1.run(ShutdownHooks.java:47)

16/03/07 13:06:31 INFO ShutdownHookManager: Shutdown hook called
16/03/07 13:06:31 INFO ShutdownHookManager: Deleting directory C:\Users\tsudukim\AppData\Local\Temp\spark-d9077a51-fc78-4852-ad45-2b7085d72940\repl-f753505f-69cf-4593-bb21-f5aa2683bcca
16/03/07 13:06:31 ERROR ShutdownHookManager: Exception while deleting Spark temp dir: C:\Users\tsudukim\AppData\Local\Temp\spark-d9077a51-fc78-4852-ad45-2b7085d72940\repl-f753505f-69cf-4593-bb21-f5aa2683bcca
java.io.IOException: Failed to delete: C:\Users\tsudukim\AppData\Local\Temp\spark-d9077a51-fc78-4852-ad45-2b7085d72940\repl-f753505f-69cf-4593-bb21-f5aa2683bcca
        at org.apache.spark.util.Utils$.deleteRecursively(Utils.scala:935)
        at org.apache.spark.util.ShutdownHookManager$$anonfun$1$$anonfun$apply$mcV$sp$3.apply(ShutdownHookManager.scala:64)
        at org.apache.spark.util.ShutdownHookManager$$anonfun$1$$anonfun$apply$mcV$sp$3.apply(ShutdownHookManager.scala:61)
        at scala.collection.IndexedSeqOptimized$class.foreach(IndexedSeqOptimized.scala:33)
        at scala.collection.mutable.ArrayOps$ofRef.foreach(ArrayOps.scala:186)
        at org.apache.spark.util.ShutdownHookManager$$anonfun$1.apply$mcV$sp(ShutdownHookManager.scala:61)
        at org.apache.spark.util.SparkShutdownHook.run(ShutdownHookManager.scala:217)
        at org.apache.spark.util.SparkShutdownHookManager$$anonfun$runAll$1$$anonfun$apply$mcV$sp$1.apply$mcV$sp(ShutdownHookManager.scala:189)
        at org.apache.spark.util.SparkShutdownHookManager$$anonfun$runAll$1$$anonfun$apply$mcV$sp$1.apply(ShutdownHookManager.scala:189)
        at org.apache.spark.util.SparkShutdownHookManager$$anonfun$runAll$1$$anonfun$apply$mcV$sp$1.apply(ShutdownHookManager.scala:189)
        at org.apache.spark.util.Utils$.logUncaughtExceptions(Utils.scala:1788)
        at org.apache.spark.util.SparkShutdownHookManager$$anonfun$runAll$1.apply$mcV$sp(ShutdownHookManager.scala:189)
        at org.apache.spark.util.SparkShutdownHookManager$$anonfun$runAll$1.apply(ShutdownHookManager.scala:189)
        at org.apache.spark.util.SparkShutdownHookManager$$anonfun$runAll$1.apply(ShutdownHookManager.scala:189)
        at scala.util.Try$.apply(Try.scala:192)
        at org.apache.spark.util.SparkShutdownHookManager.runAll(ShutdownHookManager.scala:189)
        at org.apache.spark.util.SparkShutdownHookManager$$anon$2.run(ShutdownHookManager.scala:179)
        at org.apache.hadoop.util.ShutdownHookManager$1.run(ShutdownHookManager.java:54)
16/03/07 13:06:31 INFO ShutdownHookManager: Deleting directory C:\Users\tsudukim\AppData\Local\Temp\spark-d9077a51-fc78-4852-ad45-2b7085d72940
16/03/07 13:06:31 ERROR ShutdownHookManager: Exception while deleting Spark temp dir: C:\Users\tsudukim\AppData\Local\Temp\spark-d9077a51-fc78-4852-ad45-2b7085d72940
java.io.IOException: Failed to delete: C:\Users\tsudukim\AppData\Local\Temp\spark-d9077a51-fc78-4852-ad45-2b7085d72940
        at org.apache.spark.util.Utils$.deleteRecursively(Utils.scala:935)
        at org.apache.spark.util.ShutdownHookManager$$anonfun$1$$anonfun$apply$mcV$sp$3.apply(ShutdownHookManager.scala:64)
        at org.apache.spark.util.ShutdownHookManager$$anonfun$1$$anonfun$apply$mcV$sp$3.apply(ShutdownHookManager.scala:61)
        at scala.collection.IndexedSeqOptimized$class.foreach(IndexedSeqOptimized.scala:33)
        at scala.collection.mutable.ArrayOps$ofRef.foreach(ArrayOps.scala:186)
        at org.apache.spark.util.ShutdownHookManager$$anonfun$1.apply$mcV$sp(ShutdownHookManager.scala:61)
        at org.apache.spark.util.SparkShutdownHook.run(ShutdownHookManager.scala:217)
        at org.apache.spark.util.SparkShutdownHookManager$$anonfun$runAll$1$$anonfun$apply$mcV$sp$1.apply$mcV$sp(ShutdownHookManager.scala:189)
        at org.apache.spark.util.SparkShutdownHookManager$$anonfun$runAll$1$$anonfun$apply$mcV$sp$1.apply(ShutdownHookManager.scala:189)
        at org.apache.spark.util.SparkShutdownHookManager$$anonfun$runAll$1$$anonfun$apply$mcV$sp$1.apply(ShutdownHookManager.scala:189)
        at org.apache.spark.util.Utils$.logUncaughtExceptions(Utils.scala:1788)
        at org.apache.spark.util.SparkShutdownHookManager$$anonfun$runAll$1.apply$mcV$sp(ShutdownHookManager.scala:189)
        at org.apache.spark.util.SparkShutdownHookManager$$anonfun$runAll$1.apply(ShutdownHookManager.scala:189)
        at org.apache.spark.util.SparkShutdownHookManager$$anonfun$runAll$1.apply(ShutdownHookManager.scala:189)
        at scala.util.Try$.apply(Try.scala:192)
        at org.apache.spark.util.SparkShutdownHookManager.runAll(ShutdownHookManager.scala:189)
        at org.apache.spark.util.SparkShutdownHookManager$$anon$2.run(ShutdownHookManager.scala:179)
        at org.apache.hadoop.util.ShutdownHookManager$1.run(ShutdownHookManager.java:54)
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i2u9k7:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                    </customfields>
    </item>

<item>
            <title>[SPARK-13709] Spark unable to decode Avro when partitioned</title>
                <link>https://issues.apache.org/jira/browse/SPARK-13709</link>
                <project id="12315420" key="SPARK">Spark</project>
                    <description>&lt;p&gt;There is a problem decoding Avro data with SparkSQL when partitioned. The schema and encoded data are valid &amp;#8211; I&apos;m able to decode the data with the avro-tools CLI utility. I&apos;m also able to decode the data with non-partitioned SparkSQL tables, Hive, other tools as well... except partitioned SparkSQL schemas.&lt;/p&gt;

&lt;p&gt;For a simple example, I took the example schema and data found in the Oracle documentation here:&lt;/p&gt;

&lt;p&gt;&lt;b&gt;Schema&lt;/b&gt;&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-javascript&quot;&gt;
{
  &quot;type&quot;: &quot;record&quot;,
  &quot;name&quot;: &quot;MemberInfo&quot;,
  &quot;namespace&quot;: &quot;avro&quot;,
  &quot;fields&quot;: [
    {&quot;name&quot;: &quot;name&quot;, &quot;type&quot;: {
      &quot;type&quot;: &quot;record&quot;,
      &quot;name&quot;: &quot;FullName&quot;,
      &quot;fields&quot;: [
        {&quot;name&quot;: &quot;first&quot;, &quot;type&quot;: &quot;string&quot;},
        {&quot;name&quot;: &quot;last&quot;, &quot;type&quot;: &quot;string&quot;}
      ]
    }},
    {&quot;name&quot;: &quot;age&quot;, &quot;type&quot;: &quot;&lt;span class=&quot;code-keyword&quot;&gt;&lt;span class=&quot;code-object&quot;&gt;int&lt;/span&gt;&lt;/span&gt;&quot;},
    {&quot;name&quot;: &quot;address&quot;, &quot;type&quot;: {
      &quot;type&quot;: &quot;record&quot;,
      &quot;name&quot;: &quot;Address&quot;,
      &quot;fields&quot;: [
        {&quot;name&quot;: &quot;street&quot;, &quot;type&quot;: &quot;string&quot;},
        {&quot;name&quot;: &quot;city&quot;, &quot;type&quot;: &quot;string&quot;},
        {&quot;name&quot;: &quot;state&quot;, &quot;type&quot;: &quot;string&quot;},
        {&quot;name&quot;: &quot;zip&quot;, &quot;type&quot;: &quot;&lt;span class=&quot;code-keyword&quot;&gt;&lt;span class=&quot;code-object&quot;&gt;int&lt;/span&gt;&lt;/span&gt;&quot;}
      ]
    }}
  ]
} 
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;&lt;b&gt;Data&lt;/b&gt;&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-javascript&quot;&gt;
{
  &quot;name&quot;: {
    &quot;first&quot;: &quot;Percival&quot;,
    &quot;last&quot;:  &quot;Lowell&quot;
  },
  &quot;age&quot;: 156,
  &quot;address&quot;: {
    &quot;street&quot;: &quot;Mars Hill Rd&quot;,
    &quot;city&quot;: &quot;Flagstaff&quot;,
    &quot;state&quot;: &quot;AZ&quot;,
    &quot;zip&quot;: 86001
  }
}
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;&lt;b&gt;Create&lt;/b&gt; (no partitions - works)&lt;br/&gt;
If I create with no partitions, I&apos;m able to query the data just fine.&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-sql&quot;&gt;
CREATE EXTERNAL TABLE IF NOT EXISTS foo
ROW FORMAT SERDE &apos;org.apache.hadoop.hive.serde2.avro.AvroSerDe&apos;
STORED AS INPUTFORMAT &apos;org.apache.hadoop.hive.ql.io.avro.AvroContainerInputFormat&apos;
OUTPUTFORMAT &apos;org.apache.hadoop.hive.ql.io.avro.AvroContainerOutputFormat&apos;
LOCATION &apos;/path/to/data/dir&apos;
TBLPROPERTIES (&apos;avro.schema.url&apos;=&apos;/path/to/schema.avsc&apos;);
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;&lt;b&gt;Create&lt;/b&gt; (partitions &amp;#8211; does NOT work)&lt;br/&gt;
If I create with no partitions, and then manually add a partition, all of my queries return an error. (I need to manually add partitions because I cannot control the structure of the data directories, so dynamic partitioning is not an option.)&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-sql&quot;&gt;
CREATE EXTERNAL TABLE IF NOT EXISTS foo
PARTITIONED &lt;span class=&quot;code-keyword&quot;&gt;BY&lt;/span&gt; (ds STRING)
ROW FORMAT SERDE &apos;org.apache.hadoop.hive.serde2.avro.AvroSerDe&apos;
STORED AS INPUTFORMAT &apos;org.apache.hadoop.hive.ql.io.avro.AvroContainerInputFormat&apos;
OUTPUTFORMAT &apos;org.apache.hadoop.hive.ql.io.avro.AvroContainerOutputFormat&apos;
TBLPROPERTIES (&apos;avro.schema.url&apos;=&apos;/path/to/schema.avsc&apos;);

ALTER TABLE foo ADD PARTITION (ds=&apos;1&apos;) LOCATION &apos;/path/to/data/dir&apos;;
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;The error:&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
spark-sql&amp;gt; SELECT * FROM foo WHERE ds = &apos;1&apos;;

Driver stacktrace:
    at org.apache.spark.scheduler.DAGScheduler.org$apache$spark$scheduler$DAGScheduler$$failJobAndIndependentStages(DAGScheduler.scala:1431)
    at org.apache.spark.scheduler.DAGScheduler$$anonfun$abortStage$1.apply(DAGScheduler.scala:1419)
    at org.apache.spark.scheduler.DAGScheduler$$anonfun$abortStage$1.apply(DAGScheduler.scala:1418)
    at scala.collection.mutable.ResizableArray$class.foreach(ResizableArray.scala:59)
    at scala.collection.mutable.ArrayBuffer.foreach(ArrayBuffer.scala:47)
    at org.apache.spark.scheduler.DAGScheduler.abortStage(DAGScheduler.scala:1418)
    at org.apache.spark.scheduler.DAGScheduler$$anonfun$handleTaskSetFailed$1.apply(DAGScheduler.scala:799)
    at org.apache.spark.scheduler.DAGScheduler$$anonfun$handleTaskSetFailed$1.apply(DAGScheduler.scala:799)
    at scala.Option.foreach(Option.scala:236)
    at org.apache.spark.scheduler.DAGScheduler.handleTaskSetFailed(DAGScheduler.scala:799)
    at org.apache.spark.scheduler.DAGSchedulerEventProcessLoop.doOnReceive(DAGScheduler.scala:1640)
    at org.apache.spark.scheduler.DAGSchedulerEventProcessLoop.onReceive(DAGScheduler.scala:1599)
    at org.apache.spark.scheduler.DAGSchedulerEventProcessLoop.onReceive(DAGScheduler.scala:1588)
    at org.apache.spark.util.EventLoop$$anon$1.run(EventLoop.scala:48)
    at org.apache.spark.scheduler.DAGScheduler.runJob(DAGScheduler.scala:620)
    at org.apache.spark.SparkContext.runJob(SparkContext.scala:1832)
    at org.apache.spark.SparkContext.runJob(SparkContext.scala:1845)
    at org.apache.spark.SparkContext.runJob(SparkContext.scala:1858)
    at org.apache.spark.SparkContext.runJob(SparkContext.scala:1929)
    at org.apache.spark.rdd.RDD$$anonfun$collect$1.apply(RDD.scala:927)
    at org.apache.spark.rdd.RDDOperationScope$.withScope(RDDOperationScope.scala:150)
    at org.apache.spark.rdd.RDDOperationScope$.withScope(RDDOperationScope.scala:111)
    at org.apache.spark.rdd.RDD.withScope(RDD.scala:316)
    at org.apache.spark.rdd.RDD.collect(RDD.scala:926)
    at org.apache.spark.sql.execution.SparkPlan.executeCollect(SparkPlan.scala:166)
    at org.apache.spark.sql.execution.SparkPlan.executeCollectPublic(SparkPlan.scala:174)
    at org.apache.spark.sql.hive.HiveContext$QueryExecution.stringResult(HiveContext.scala:635)
    at org.apache.spark.sql.hive.thriftserver.SparkSQLDriver.run(SparkSQLDriver.scala:64)
    at org.apache.spark.sql.hive.thriftserver.SparkSQLCLIDriver.processCmd(SparkSQLCLIDriver.scala:308)
    at org.apache.hadoop.hive.cli.CliDriver.processLine(CliDriver.java:376)
    at org.apache.spark.sql.hive.thriftserver.SparkSQLCLIDriver$.main(SparkSQLCLIDriver.scala:226)
    at org.apache.spark.sql.hive.thriftserver.SparkSQLCLIDriver.main(SparkSQLCLIDriver.scala)
    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
    at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
    at java.lang.reflect.Method.invoke(Method.java:483)
    at org.apache.spark.deploy.SparkSubmit$.org$apache$spark$deploy$SparkSubmit$$runMain(SparkSubmit.scala:731)
    at org.apache.spark.deploy.SparkSubmit$.doRunMain$1(SparkSubmit.scala:181)
    at org.apache.spark.deploy.SparkSubmit$.submit(SparkSubmit.scala:206)
    at org.apache.spark.deploy.SparkSubmit$.main(SparkSubmit.scala:121)
    at org.apache.spark.deploy.SparkSubmit.main(SparkSubmit.scala)
Caused by: org.apache.avro.AvroTypeException: Found avro.FullName, expecting union
    at org.apache.avro.io.ResolvingDecoder.doAction(ResolvingDecoder.java:292)
    at org.apache.avro.io.parsing.Parser.advance(Parser.java:88)
    at org.apache.avro.io.ResolvingDecoder.readIndex(ResolvingDecoder.java:267)
    at org.apache.avro.&lt;span class=&quot;code-keyword&quot;&gt;generic&lt;/span&gt;.GenericDatumReader.read(GenericDatumReader.java:155)
    at org.apache.avro.&lt;span class=&quot;code-keyword&quot;&gt;generic&lt;/span&gt;.GenericDatumReader.readField(GenericDatumReader.java:193)
    at org.apache.avro.&lt;span class=&quot;code-keyword&quot;&gt;generic&lt;/span&gt;.GenericDatumReader.readRecord(GenericDatumReader.java:183)
    at org.apache.avro.&lt;span class=&quot;code-keyword&quot;&gt;generic&lt;/span&gt;.GenericDatumReader.read(GenericDatumReader.java:151)
    at org.apache.avro.&lt;span class=&quot;code-keyword&quot;&gt;generic&lt;/span&gt;.GenericDatumReader.read(GenericDatumReader.java:142)
    at org.apache.hadoop.hive.serde2.avro.AvroDeserializer$SchemaReEncoder.reencode(AvroDeserializer.java:111)
    at org.apache.hadoop.hive.serde2.avro.AvroDeserializer.deserialize(AvroDeserializer.java:175)
    at org.apache.hadoop.hive.serde2.avro.AvroSerDe.deserialize(AvroSerDe.java:201)
    at org.apache.spark.sql.hive.HadoopTableReader$$anonfun$fillObject$2.apply(TableReader.scala:409)
    at org.apache.spark.sql.hive.HadoopTableReader$$anonfun$fillObject$2.apply(TableReader.scala:408)
    at scala.collection.Iterator$$anon$11.next(Iterator.scala:328)
    at scala.collection.Iterator$$anon$11.next(Iterator.scala:328)
    at scala.collection.Iterator$class.foreach(Iterator.scala:727)
    at scala.collection.AbstractIterator.foreach(Iterator.scala:1157)
    at scala.collection.&lt;span class=&quot;code-keyword&quot;&gt;generic&lt;/span&gt;.Growable$class.$plus$plus$eq(Growable.scala:48)
    at scala.collection.mutable.ArrayBuffer.$plus$plus$eq(ArrayBuffer.scala:103)
    at scala.collection.mutable.ArrayBuffer.$plus$plus$eq(ArrayBuffer.scala:47)
    at scala.collection.TraversableOnce$class.to(TraversableOnce.scala:273)
    at scala.collection.AbstractIterator.to(Iterator.scala:1157)
    at scala.collection.TraversableOnce$class.toBuffer(TraversableOnce.scala:265)
    at scala.collection.AbstractIterator.toBuffer(Iterator.scala:1157)
    at scala.collection.TraversableOnce$class.toArray(TraversableOnce.scala:252)
    at scala.collection.AbstractIterator.toArray(Iterator.scala:1157)
    at org.apache.spark.rdd.RDD$$anonfun$collect$1$$anonfun$12.apply(RDD.scala:927)
    at org.apache.spark.rdd.RDD$$anonfun$collect$1$$anonfun$12.apply(RDD.scala:927)
    at org.apache.spark.SparkContext$$anonfun$runJob$5.apply(SparkContext.scala:1858)
    at org.apache.spark.SparkContext$$anonfun$runJob$5.apply(SparkContext.scala:1858)
    at org.apache.spark.scheduler.ResultTask.runTask(ResultTask.scala:66)
    at org.apache.spark.scheduler.Task.run(Task.scala:89)
    at org.apache.spark.executor.Executor$TaskRunner.run(Executor.scala:213)
    at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)
    at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)
    at java.lang.&lt;span class=&quot;code-object&quot;&gt;Thread&lt;/span&gt;.run(&lt;span class=&quot;code-object&quot;&gt;Thread&lt;/span&gt;.java:745)
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;&lt;b&gt;Additional Info&lt;/b&gt;&lt;br/&gt;
For what it&apos;s worth, I found an issue&#160;(&lt;a href=&quot;https://issues.apache.org/jira/browse/DRILL-957&quot; title=&quot;Avro partitioned table fails with AvroTypeException&quot; class=&quot;issue-link&quot; data-issue-key=&quot;DRILL-957&quot;&gt;&lt;del&gt;DRILL-957&lt;/del&gt;&lt;/a&gt;) reported in Apache Drill and related fix that look very simliar to this. I&apos;ll look that to this issue.&lt;/p&gt;

&lt;p&gt;Originally &lt;a href=&quot;http://stackoverflow.com/questions/35826850/spark-unable-to-decode-avro-when-partitioned&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;posted here&lt;/a&gt; on StackOverflow as a question, but I felt strongly that this is indeed a bug so I created this issue.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12947600">SPARK-13709</key>
            <summary>Spark unable to decode Avro when partitioned</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/bug.png">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.png">Major</priority>
                        <status id="1" iconUrl="https://issues.apache.org/jira/images/icons/statuses/open.png" description="The issue is open and ready for the assignee to start work on it.">Open</status>
                    <statusCategory id="2" key="new" colorName="blue-gray"/>
                                    <resolution id="-1">Unresolved</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="cmiller11101">Chris Miller</reporter>
                        <labels>
                    </labels>
                <created>Mon, 7 Mar 2016 02:39:56 +0000</created>
                <updated>Mon, 7 Mar 2016 10:12:03 +0000</updated>
                                            <version>1.6.0</version>
                                                    <component>SQL</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                    <issuelinks>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                            <outwardlinks description="relates to">
                                        <issuelink>
            <issuekey id="12720686">DRILL-957</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                    </issuelinks>
                <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310250" key="com.atlassian.jira.plugin.system.customfieldtypes:multicheckboxes">
                        <customfieldname>Flags</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10431"><![CDATA[Important]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i2u9in:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                    </customfields>
    </item>

<item>
            <title>[SPARK-13708] Null pointer Exception while starting spark shell</title>
                <link>https://issues.apache.org/jira/browse/SPARK-13708</link>
                <project id="12315420" key="SPARK">Spark</project>
                    <description>&lt;p&gt;16/03/06 11:49:18 WARN Connection: BoneCP specified but not present in CLASSPATH (or one of dependencies)&lt;br/&gt;
16/03/06 11:49:18 WARN Connection: BoneCP specified but not present in CLASSPATH (or one of dependencies)&lt;br/&gt;
16/03/06 11:49:24 WARN ObjectStore: Version information not found in metastore. hive.metastore.schema.verification is not enabled so recording the schema version 1.2.0&lt;br/&gt;
16/03/06 11:49:24 WARN ObjectStore: Failed to get database default, returning NoSuchObjectException&lt;br/&gt;
16/03/06 11:49:25 WARN : Your hostname, LAPTOP-B9GV6F82 resolves to a loopback/non-reachable address: fe80:0:0:0:1cbd:55b:b3e4:8e04%12, but we couldn&apos;t find any external IP address!&lt;br/&gt;
java.lang.RuntimeException: java.lang.NullPointerException&lt;br/&gt;
        at org.apache.hadoop.hive.ql.session.SessionState.start(SessionState.java:522)&lt;br/&gt;
        at org.apache.spark.sql.hive.client.ClientWrapper.&amp;lt;init&amp;gt;(ClientWrapper.scala:171)&lt;br/&gt;
        at org.apache.spark.sql.hive.HiveContext.executionHive$lzycompute(HiveContext.scala:162)&lt;br/&gt;
        at org.apache.spark.sql.hive.HiveContext.executionHive(HiveContext.scala:160)&lt;br/&gt;
        at org.apache.spark.sql.hive.HiveContext.&amp;lt;init&amp;gt;(HiveContext.scala:167)&lt;br/&gt;
        at sun.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)&lt;br/&gt;
        at sun.reflect.NativeConstructorAccessorImpl.newInstance(Unknown Source)&lt;br/&gt;
        at sun.reflect.DelegatingConstructorAccessorImpl.newInstance(Unknown Source)&lt;br/&gt;
        at java.lang.reflect.Constructor.newInstance(Unknown Source)&lt;br/&gt;
        at org.apache.spark.repl.SparkILoop.createSQLContext(SparkILoop.scala:1028)&lt;br/&gt;
        at $iwC$$iwC.&amp;lt;init&amp;gt;(&amp;lt;console&amp;gt;:9)&lt;br/&gt;
        at $iwC.&amp;lt;init&amp;gt;(&amp;lt;console&amp;gt;:18)&lt;br/&gt;
        at &amp;lt;init&amp;gt;(&amp;lt;console&amp;gt;:20)&lt;br/&gt;
        at .&amp;lt;init&amp;gt;(&amp;lt;console&amp;gt;:24)&lt;br/&gt;
        at .&amp;lt;clinit&amp;gt;(&amp;lt;console&amp;gt;)&lt;br/&gt;
        at .&amp;lt;init&amp;gt;(&amp;lt;console&amp;gt;:7)&lt;br/&gt;
        at .&amp;lt;clinit&amp;gt;(&amp;lt;console&amp;gt;)&lt;br/&gt;
        at $print(&amp;lt;console&amp;gt;)&lt;br/&gt;
        at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)&lt;br/&gt;
        at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)&lt;br/&gt;
        at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)&lt;br/&gt;
        at java.lang.reflect.Method.invoke(Unknown Source)&lt;br/&gt;
        at org.apache.spark.repl.SparkIMain$ReadEvalPrint.call(SparkIMain.scala:1065)&lt;br/&gt;
        at org.apache.spark.repl.SparkIMain$Request.loadAndRun(SparkIMain.scala:1340)&lt;br/&gt;
        at org.apache.spark.repl.SparkIMain.loadAndRunReq$1(SparkIMain.scala:840)&lt;br/&gt;
        at org.apache.spark.repl.SparkIMain.interpret(SparkIMain.scala:871)&lt;br/&gt;
        at org.apache.spark.repl.SparkIMain.interpret(SparkIMain.scala:819)&lt;br/&gt;
        at org.apache.spark.repl.SparkILoop.reallyInterpret$1(SparkILoop.scala:857)&lt;br/&gt;
        at org.apache.spark.repl.SparkILoop.interpretStartingWith(SparkILoop.scala:902)&lt;br/&gt;
        at org.apache.spark.repl.SparkILoop.command(SparkILoop.scala:814)&lt;br/&gt;
        at org.apache.spark.repl.SparkILoopInit$$anonfun$initializeSpark$1.apply(SparkILoopInit.scala:132)&lt;br/&gt;
        at org.apache.spark.repl.SparkILoopInit$$anonfun$initializeSpark$1.apply(SparkILoopInit.scala:124)&lt;br/&gt;
        at org.apache.spark.repl.SparkIMain.beQuietDuring(SparkIMain.scala:324)&lt;br/&gt;
        at org.apache.spark.repl.SparkILoopInit$class.initializeSpark(SparkILoopInit.scala:124)&lt;br/&gt;
        at org.apache.spark.repl.SparkILoop.initializeSpark(SparkILoop.scala:64)&lt;br/&gt;
        at org.apache.spark.repl.SparkILoop$$anonfun$org$apache$spark$repl$SparkILoop$$process$1$$anonfun$apply$mcZ$sp$5.apply$mcV$sp(SparkILoop.scala:974)&lt;br/&gt;
        at org.apache.spark.repl.SparkILoopInit$class.runThunks(SparkILoopInit.scala:159)&lt;br/&gt;
        at org.apache.spark.repl.SparkILoop.runThunks(SparkILoop.scala:64)&lt;br/&gt;
        at org.apache.spark.repl.SparkILoopInit$class.postInitialization(SparkILoopInit.scala:108)&lt;br/&gt;
        at org.apache.spark.repl.SparkILoop.postInitialization(SparkILoop.scala:64)&lt;br/&gt;
        at org.apache.spark.repl.SparkILoop$$anonfun$org$apache$spark$repl$SparkILoop$$process$1.apply$mcZ$sp(SparkILoop.scala:991)&lt;br/&gt;
        at org.apache.spark.repl.SparkILoop$$anonfun$org$apache$spark$repl$SparkILoop$$process$1.apply(SparkILoop.scala:945)&lt;br/&gt;
        at org.apache.spark.repl.SparkILoop$$anonfun$org$apache$spark$repl$SparkILoop$$process$1.apply(SparkILoop.scala:945)&lt;br/&gt;
        at scala.tools.nsc.util.ScalaClassLoader$.savingContextLoader(ScalaClassLoader.scala:135)&lt;br/&gt;
        at org.apache.spark.repl.SparkILoop.org$apache$spark$repl$SparkILoop$$process(SparkILoop.scala:945)&lt;br/&gt;
        at org.apache.spark.repl.SparkILoop.process(SparkILoop.scala:1059)&lt;br/&gt;
        at org.apache.spark.repl.Main$.main(Main.scala:31)&lt;br/&gt;
        at org.apache.spark.repl.Main.main(Main.scala)&lt;br/&gt;
        at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)&lt;br/&gt;
        at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)&lt;br/&gt;
        at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)&lt;br/&gt;
        at java.lang.reflect.Method.invoke(Unknown Source)&lt;br/&gt;
        at org.apache.spark.deploy.SparkSubmit$.org$apache$spark$deploy$SparkSubmit$$runMain(SparkSubmit.scala:674)&lt;br/&gt;
        at org.apache.spark.deploy.SparkSubmit$.doRunMain$1(SparkSubmit.scala:180)&lt;br/&gt;
        at org.apache.spark.deploy.SparkSubmit$.submit(SparkSubmit.scala:205)&lt;br/&gt;
        at org.apache.spark.deploy.SparkSubmit$.main(SparkSubmit.scala:120)&lt;br/&gt;
        at org.apache.spark.deploy.SparkSubmit.main(SparkSubmit.scala)&lt;br/&gt;
Caused by: java.lang.NullPointerException&lt;br/&gt;
        at java.lang.ProcessBuilder.start(Unknown Source)&lt;br/&gt;
        at org.apache.hadoop.util.Shell.runCommand(Shell.java:482)&lt;br/&gt;
        at org.apache.hadoop.util.Shell.run(Shell.java:455)&lt;br/&gt;
        at org.apache.hadoop.util.Shell$ShellCommandExecutor.execute(Shell.java:715)&lt;br/&gt;
        at org.apache.hadoop.util.Shell.execCommand(Shell.java:808)&lt;br/&gt;
        at org.apache.hadoop.util.Shell.execCommand(Shell.java:791)&lt;br/&gt;
        at org.apache.hadoop.fs.FileUtil.execCommand(FileUtil.java:1097)&lt;br/&gt;
        at org.apache.hadoop.fs.RawLocalFileSystem$DeprecatedRawLocalFileStatus.loadPermissionInfo(RawLocalFileSystem.java:582)&lt;br/&gt;
        at org.apache.hadoop.fs.RawLocalFileSystem$DeprecatedRawLocalFileStatus.getPermission(RawLocalFileSystem.java:557)&lt;br/&gt;
        at org.apache.hadoop.hive.ql.session.SessionState.createRootHDFSDir(SessionState.java:599)&lt;br/&gt;
        at org.apache.hadoop.hive.ql.session.SessionState.createSessionDirs(SessionState.java:554)&lt;br/&gt;
        at org.apache.hadoop.hive.ql.session.SessionState.start(SessionState.java:508)&lt;br/&gt;
        ... 56 more&lt;/p&gt;</description>
                <environment>&lt;p&gt;windows platform&lt;/p&gt;</environment>
        <key id="12947553">SPARK-13708</key>
            <summary>Null pointer Exception while starting spark shell</summary>
                <type id="11" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/genericissue.png">Question</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.png">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="6">Invalid</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="Sowmyad.ls15@gmail.com">Sowmya Dureddy</reporter>
                        <labels>
                    </labels>
                <created>Sun, 6 Mar 2016 19:11:59 +0000</created>
                <updated>Sun, 6 Mar 2016 19:26:50 +0000</updated>
                            <resolved>Sun, 6 Mar 2016 19:26:49 +0000</resolved>
                                    <version>1.6.0</version>
                                                    <component>Spark Shell</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                <comments>
                            <comment id="15182283" author="srowen" created="Sun, 6 Mar 2016 19:26:50 +0000"  >&lt;p&gt;Please ask questions on user@spark.apache.org&lt;br/&gt;
&lt;a href=&quot;https://cwiki.apache.org/confluence/display/SPARK/Contributing+to+Spark&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://cwiki.apache.org/confluence/display/SPARK/Contributing+to+Spark&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;You&apos;d have to say a lot more like how you built Spark, how you&apos;re running it, etc.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Sun, 6 Mar 2016 19:26:50 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i2u987:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        </customfields>
    </item>

<item>
            <title>[SPARK-13707] Streaming UI tab misleading for window operations</title>
                <link>https://issues.apache.org/jira/browse/SPARK-13707</link>
                <project id="12315420" key="SPARK">Spark</project>
                    <description>&lt;p&gt;&apos;Streaming&apos; tab on spark UI is misleading when the job has a window operation which changes the batch duration from original streaming context batch duration.&lt;/p&gt;

&lt;p&gt;For instance consider:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
val streamingContext = &lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; StreamingContext(sparkConfig, Seconds(2))

val totalVideoImps = streamingContext.sparkContext.accumulator(0, &lt;span class=&quot;code-quote&quot;&gt;&quot;TotalVideoImpressions&quot;&lt;/span&gt;)
val totalImps = streamingContext.sparkContext.accumulator(0, &lt;span class=&quot;code-quote&quot;&gt;&quot;TotalImpressions&quot;&lt;/span&gt;)

val stream = KafkaReader.KafkaDirectStream(streamingContext)
stream.map(KafkaAdLogParser.parseAdLogRecord)
  .filter(record =&amp;gt; {
    totalImps += 1
    KafkaAdLogParser.isVideoRecord(record)
  })
  .map(record =&amp;gt; {
    totalVideoImps += 1
    record.url
  })
  .window(Seconds(120))
  .count().foreachRDD((rdd, time) =&amp;gt; {
  println(&lt;span class=&quot;code-quote&quot;&gt;&quot;Timestamp: &quot;&lt;/span&gt; + ImpressionAggregator.millsToDate(time.milliseconds))
  println(&lt;span class=&quot;code-quote&quot;&gt;&quot;Count: &quot;&lt;/span&gt; + rdd.collect()(0))
  println(&lt;span class=&quot;code-quote&quot;&gt;&quot;Total Impressions: &quot;&lt;/span&gt; + totalImps.value)
  totalImps.setValue(0)
  println(&lt;span class=&quot;code-quote&quot;&gt;&quot;Total Video Impressions: &quot;&lt;/span&gt; + totalVideoImps.value)
  totalVideoImps.setValue(0)
})
streamingContext.start()
streamingContext.awaitTermination()
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;Batch Size before window operation is 2 sec and then after window batches are of 120 seconds each.&lt;br/&gt;
&amp;#8211;&lt;/p&gt;

&lt;p&gt;Above code printed following for my application whereas the UI showed different numbers.&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;Timestamp: 2016-03-06 12:02:56,000
Count: 362195
Total Impressions: 16882431
Total Video Impressions: 362195

Timestamp: 2016-03-06 12:04:56,000
Count: 367168
Total Impressions: 19480293
Total Video Impressions: 367168

Timestamp: 2016-03-06 12:06:56,000
Count: 177711
Total Impressions: 10196677
Total Video Impressions: 177711
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;whereas the spark UI shows different numbers as attached in the image. Also if we check the start and end index of kafka partition offsets reported by subsequent batch entries on UI, they do not result in all overall continuous range. All numbers are fine if we remove the window operation though.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12947541">SPARK-13707</key>
            <summary>Streaming UI tab misleading for window operations</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/bug.png">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.png">Major</priority>
                        <status id="1" iconUrl="https://issues.apache.org/jira/images/icons/statuses/open.png" description="The issue is open and ready for the assignee to start work on it.">Open</status>
                    <statusCategory id="2" key="new" colorName="blue-gray"/>
                                    <resolution id="-1">Unresolved</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="kjatin">Jatin Kumar</reporter>
                        <labels>
                    </labels>
                <created>Sun, 6 Mar 2016 18:13:21 +0000</created>
                <updated>Mon, 7 Mar 2016 17:18:40 +0000</updated>
                                            <version>1.6.0</version>
                                                    <component>Web UI</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                <comments>
                            <comment id="15182257" author="kjatin" created="Sun, 6 Mar 2016 18:18:07 +0000"  >&lt;p&gt;Ideally all 2 sec batches should be linked to the final 120 sec batch and one should be able to browse them from UI but I am not aware of the design decisions taken here as it can get quite complex in case of multiple window operations.&lt;/p&gt;

&lt;p&gt;I would like to work on a fix for this if we can decide on what the behavior should be &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.gif&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/p&gt;</comment>
                            <comment id="15182259" author="kjatin" created="Sun, 6 Mar 2016 18:22:36 +0000"  >&lt;p&gt;The records shown in image are actually the 2 sec batches which share boundary with the 120sec window batch.&lt;/p&gt;</comment>
                            <comment id="15183129" author="cody@koeninger.org" created="Mon, 7 Mar 2016 15:24:00 +0000"  >&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;To be clear, is this a problem with the UI only?  I.e. are the batches actually processed by the application in a continuous range?&lt;/li&gt;
&lt;/ul&gt;


&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;Is this behavior only seen with the direct stream, or with a receiver-based stream as well?&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="15183283" author="kjatin" created="Mon, 7 Mar 2016 17:11:23 +0000"  >&lt;ul&gt;
	&lt;li&gt;On the top this looks like a problem with UI only though I am not sure if the source of this problem affects other non-ui components as well. Ideally the events count reported on UI should be same as &quot;Total Impressions&quot; printed by my spark application code but here we see that Total Impressions &amp;gt; Events Count. Also since the receiver is unaware of the later on window operations being problem, it behaves same as it would have for a non window application which is a continous range. So I strongly feel that it is actually fetching/processing kafka range in a continuous manner.&lt;/li&gt;
&lt;/ul&gt;


&lt;ul&gt;
	&lt;li&gt;Yes this is true for both. I would think that this is true for any source and the pipeline having a window operation.&lt;/li&gt;
&lt;/ul&gt;
</comment>
                    </comments>
                    <attachments>
                            <attachment id="12791680" name="Screen Shot 2016-03-06 at 11.09.55 pm.png" size="61762" author="kjatin" created="Sun, 6 Mar 2016 18:22:36 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Mon, 7 Mar 2016 15:24:00 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i2u95j:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                    </customfields>
    </item>

<item>
            <title>[SPARK-13706] Python Example for Train Validation Split Missing</title>
                <link>https://issues.apache.org/jira/browse/SPARK-13706</link>
                <project id="12315420" key="SPARK">Spark</project>
                    <description>&lt;p&gt;An example of how to use TrainValidationSplit in pyspark needs to be added. Should be consistent with the current examples. I&apos;ll submit a PR.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12947525">SPARK-13706</key>
            <summary>Python Example for Train Validation Split Missing</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/bug.png">Bug</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.png">Minor</priority>
                        <status id="3" iconUrl="https://issues.apache.org/jira/images/icons/statuses/inprogress.png" description="This issue is being actively worked on at the moment by the assignee.">In Progress</status>
                    <statusCategory id="4" key="indeterminate" colorName="yellow"/>
                                    <resolution id="-1">Unresolved</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="JeremyNixon">Jeremy</reporter>
                        <labels>
                    </labels>
                <created>Sun, 6 Mar 2016 15:55:39 +0000</created>
                <updated>Sun, 6 Mar 2016 16:08:16 +0000</updated>
                                                                            <component>ML</component>
                    <component>MLlib</component>
                    <component>PySpark</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                    <timeoriginalestimate seconds="7200">2h</timeoriginalestimate>
                            <timeestimate seconds="7200">2h</timeestimate>
                                        <comments>
                            <comment id="15182212" author="apachespark" created="Sun, 6 Mar 2016 16:07:04 +0000"  >&lt;p&gt;User &apos;JeremyNixon&apos; has created a pull request for this issue:&lt;br/&gt;
&lt;a href=&quot;https://github.com/apache/spark/pull/11547&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://github.com/apache/spark/pull/11547&lt;/a&gt;&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Sun, 6 Mar 2016 16:07:04 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i2u91z:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                    </customfields>
    </item>

<item>
            <title>[SPARK-13705] UpdateStateByKey Operation documentation incorrectly refers to StatefulNetworkWordCount</title>
                <link>https://issues.apache.org/jira/browse/SPARK-13705</link>
                <project id="12315420" key="SPARK">Spark</project>
                    <description>&lt;p&gt;Doc Issue : Apache Spark Streaming guide elaborates UpdateStateByKey Operation and goes onto give an example. However for complete code sample it referes to &lt;tt&gt;site.SPARK_GITHUB_URL&lt;/tt&gt;/blob/master/examples/src/main/scala/org/apache&lt;br/&gt;
/spark/examples/streaming/StatefulNetworkWordCount.scala). StatefulNetworkWordCount.scala has changed to demonstrate more recent API mapWithState.&lt;br/&gt;
This creates confusion in the document. &lt;/p&gt;

&lt;p&gt;Till the time more detailed explanation of mapWIthState is added the reference to StatefulNetworkWordCount.scala should be removed.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12947507">SPARK-13705</key>
            <summary>UpdateStateByKey Operation documentation incorrectly refers to StatefulNetworkWordCount</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/bug.png">Bug</type>
                                            <priority id="5" iconUrl="https://issues.apache.org/jira/images/icons/priorities/trivial.png">Trivial</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="rishitesh">Rishi</assignee>
                                    <reporter username="rishitesh">Rishi</reporter>
                        <labels>
                            <label>documentation</label>
                    </labels>
                <created>Sun, 6 Mar 2016 11:10:40 +0000</created>
                <updated>Mon, 7 Mar 2016 09:57:08 +0000</updated>
                            <resolved>Mon, 7 Mar 2016 09:56:14 +0000</resolved>
                                    <version>1.6.0</version>
                                    <fixVersion>1.6.2</fixVersion>
                    <fixVersion>2.0.0</fixVersion>
                                    <component>Documentation</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>3</watches>
                                                                <comments>
                            <comment id="15182120" author="rishitesh" created="Sun, 6 Mar 2016 11:40:00 +0000"  >&lt;p&gt;Pull request created.&lt;/p&gt;</comment>
                            <comment id="15182290" author="srowen" created="Sun, 6 Mar 2016 19:42:52 +0000"  >&lt;p&gt;Don&apos;t set Fix, Target versions&lt;/p&gt;</comment>
                            <comment id="15182761" author="apachespark" created="Mon, 7 Mar 2016 08:49:03 +0000"  >&lt;p&gt;User &apos;rishitesh&apos; has created a pull request for this issue:&lt;br/&gt;
&lt;a href=&quot;https://github.com/apache/spark/pull/11545&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://github.com/apache/spark/pull/11545&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="15182763" author="rishitesh" created="Mon, 7 Mar 2016 08:49:49 +0000"  >&lt;p&gt;Thanx Sean, Missed that part&lt;/p&gt;</comment>
                            <comment id="15182822" author="srowen" created="Mon, 7 Mar 2016 09:56:14 +0000"  >&lt;p&gt;Issue resolved by pull request 11545&lt;br/&gt;
&lt;a href=&quot;https://github.com/apache/spark/pull/11545&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://github.com/apache/spark/pull/11545&lt;/a&gt;&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Sun, 6 Mar 2016 19:42:52 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i2u8xz:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        </customfields>
    </item>

<item>
            <title>[SPARK-13704] TaskSchedulerImpl.createTaskSetManager can be expensive, and result in lost executors due to blocked heartbeats</title>
                <link>https://issues.apache.org/jira/browse/SPARK-13704</link>
                <project id="12315420" key="SPARK">Spark</project>
                    <description>&lt;p&gt;In some cases, TaskSchedulerImpl.createTaskSetManager can be expensive. For example, in a Yarn cluster, it may call the topology script for rack awareness. When submit a very large job in a very large Yarn cluster, the topology script may take signifiant time to run. And this blocks receiving executors&apos; heartbeats, which may result in lost executors&lt;/p&gt;

&lt;p&gt;Stacktraces we observed which is related to this issue:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
&lt;span class=&quot;code-quote&quot;&gt;&quot;dag-scheduler-event-loop&quot;&lt;/span&gt; daemon prio=10 tid=0x00007f8392875800 nid=0x26e8 runnable [0x00007f83576f4000]
   java.lang.&lt;span class=&quot;code-object&quot;&gt;Thread&lt;/span&gt;.State: RUNNABLE
        at java.io.FileInputStream.readBytes(Native Method)
        at java.io.FileInputStream.read(FileInputStream.java:272)
        at java.io.BufferedInputStream.read1(BufferedInputStream.java:273)
        at java.io.BufferedInputStream.read(BufferedInputStream.java:334)
        - locked &amp;lt;0x00000000f551f460&amp;gt; (a java.lang.UNIXProcess$ProcessPipeInputStream)
        at sun.nio.cs.StreamDecoder.readBytes(StreamDecoder.java:283)
        at sun.nio.cs.StreamDecoder.implRead(StreamDecoder.java:325)
        at sun.nio.cs.StreamDecoder.read(StreamDecoder.java:177)
        - locked &amp;lt;0x00000000f5529740&amp;gt; (a java.io.InputStreamReader)
        at java.io.InputStreamReader.read(InputStreamReader.java:184)
        at java.io.BufferedReader.fill(BufferedReader.java:154)
        at java.io.BufferedReader.read1(BufferedReader.java:205)
        at java.io.BufferedReader.read(BufferedReader.java:279)
        - locked &amp;lt;0x00000000f5529740&amp;gt; (a java.io.InputStreamReader)
        at org.apache.hadoop.util.Shell$ShellCommandExecutor.parseExecResult(Shell.java:728)
        at org.apache.hadoop.util.Shell.runCommand(Shell.java:524)
        at org.apache.hadoop.util.Shell.run(Shell.java:455)
        at org.apache.hadoop.util.Shell$ShellCommandExecutor.execute(Shell.java:715)
        at org.apache.hadoop.net.ScriptBasedMapping$RawScriptBasedMapping.runResolveCommand(ScriptBasedMapping.java:251)
        at org.apache.hadoop.net.ScriptBasedMapping$RawScriptBasedMapping.resolve(ScriptBasedMapping.java:188)
        at org.apache.hadoop.net.CachedDNSToSwitchMapping.resolve(CachedDNSToSwitchMapping.java:119)
        at org.apache.hadoop.yarn.util.RackResolver.coreResolve(RackResolver.java:101)
        at org.apache.hadoop.yarn.util.RackResolver.resolve(RackResolver.java:81)
        at org.apache.spark.scheduler.cluster.YarnScheduler.getRackForHost(YarnScheduler.scala:38)
        at org.apache.spark.scheduler.TaskSetManager$$anonfun$org$apache$spark$scheduler$TaskSetManager$$addPendingTask$1.apply(TaskSetManager.scala:210)
        at org.apache.spark.scheduler.TaskSetManager$$anonfun$org$apache$spark$scheduler$TaskSetManager$$addPendingTask$1.apply(TaskSetManager.scala:189)
        at scala.collection.mutable.ResizableArray$class.foreach(ResizableArray.scala:59)
        at scala.collection.mutable.ArrayBuffer.foreach(ArrayBuffer.scala:47)
        at org.apache.spark.scheduler.TaskSetManager.org$apache$spark$scheduler$TaskSetManager$$addPendingTask(TaskSetManager.scala:189)
        at org.apache.spark.scheduler.TaskSetManager$$anonfun$1.apply$mcVI$sp(TaskSetManager.scala:158)
        at scala.collection.immutable.Range.foreach$mVc$sp(Range.scala:141)
        at org.apache.spark.scheduler.TaskSetManager.&amp;lt;init&amp;gt;(TaskSetManager.scala:157)
        at org.apache.spark.scheduler.TaskSchedulerImpl.createTaskSetManager(TaskSchedulerImpl.scala:187)
        at org.apache.spark.scheduler.TaskSchedulerImpl.submitTasks(TaskSchedulerImpl.scala:161)
        - locked &amp;lt;0x00000000ea3b8a88&amp;gt; (a org.apache.spark.scheduler.cluster.YarnScheduler)
        at org.apache.spark.scheduler.DAGScheduler.org$apache$spark$scheduler$DAGScheduler$$submitMissingTasks(DAGScheduler.scala:872)
        at org.apache.spark.scheduler.DAGScheduler.org$apache$spark$scheduler$DAGScheduler$$submitStage(DAGScheduler.scala:778)
        at org.apache.spark.scheduler.DAGScheduler.handleJobSubmitted(DAGScheduler.scala:762)
        at org.apache.spark.scheduler.DAGSchedulerEventProcessLoop.onReceive(DAGScheduler.scala:1362)
        at org.apache.spark.scheduler.DAGSchedulerEventProcessLoop.onReceive(DAGScheduler.scala:1354)
        at org.apache.spark.util.EventLoop$$anon$1.run(EventLoop.scala:48)

&lt;span class=&quot;code-quote&quot;&gt;&quot;sparkDriver-akka.actor.&lt;span class=&quot;code-keyword&quot;&gt;default&lt;/span&gt;-dispatcher-15&quot;&lt;/span&gt; daemon prio=10 tid=0x00007f829c020000 nid=0x2737 waiting &lt;span class=&quot;code-keyword&quot;&gt;for&lt;/span&gt; monitor entry [0x00007f8355ebd000]
   java.lang.&lt;span class=&quot;code-object&quot;&gt;Thread&lt;/span&gt;.State: BLOCKED (on object monitor)
        at org.apache.spark.scheduler.TaskSchedulerImpl.executorHeartbeatReceived(TaskSchedulerImpl.scala:362)
        - waiting to lock &amp;lt;0x00000000ea3b8a88&amp;gt; (a org.apache.spark.scheduler.cluster.YarnScheduler)
        at org.apache.spark.HeartbeatReceiver$$anonfun$receiveWithLogging$1.applyOrElse(HeartbeatReceiver.scala:46)
        at scala.runtime.AbstractPartialFunction$mcVL$sp.apply$mcVL$sp(AbstractPartialFunction.scala:33)
        at scala.runtime.AbstractPartialFunction$mcVL$sp.apply(AbstractPartialFunction.scala:33)
        at scala.runtime.AbstractPartialFunction$mcVL$sp.apply(AbstractPartialFunction.scala:25)
        at org.apache.spark.util.ActorLogReceive$$anon$1.apply(ActorLogReceive.scala:53)
        at org.apache.spark.util.ActorLogReceive$$anon$1.apply(ActorLogReceive.scala:42)
        at scala.PartialFunction$class.applyOrElse(PartialFunction.scala:118)
        at org.apache.spark.util.ActorLogReceive$$anon$1.applyOrElse(ActorLogReceive.scala:42)
        at akka.actor.ActorCell.receiveMessage(ActorCell.scala:498)
        at akka.actor.ActorCell.invoke(ActorCell.scala:456)
        at akka.dispatch.Mailbox.processMailbox(Mailbox.scala:237)
        at akka.dispatch.Mailbox.run(Mailbox.scala:219)
        at akka.dispatch.ForkJoinExecutorConfigurator$AkkaForkJoinTask.exec(AbstractDispatcher.scala:386)
        at scala.concurrent.forkjoin.ForkJoinTask.doExec(ForkJoinTask.java:260)
        at scala.concurrent.forkjoin.ForkJoinPool$WorkQueue.runTask(ForkJoinPool.java:1339)
        at scala.concurrent.forkjoin.ForkJoinPool.runWorker(ForkJoinPool.java:1979)
        at scala.concurrent.forkjoin.ForkJoinWorkerThread.run(ForkJoinWorkerThread.java:107)
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</description>
                <environment></environment>
        <key id="12947493">SPARK-13704</key>
            <summary>TaskSchedulerImpl.createTaskSetManager can be expensive, and result in lost executors due to blocked heartbeats</summary>
                <type id="4" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/improvement.png">Improvement</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.png">Major</priority>
                        <status id="1" iconUrl="https://issues.apache.org/jira/images/icons/statuses/open.png" description="The issue is open and ready for the assignee to start work on it.">Open</status>
                    <statusCategory id="2" key="new" colorName="blue-gray"/>
                                    <resolution id="-1">Unresolved</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="zwang">Zhong Wang</reporter>
                        <labels>
                    </labels>
                <created>Sun, 6 Mar 2016 07:42:21 +0000</created>
                <updated>Sun, 6 Mar 2016 07:42:21 +0000</updated>
                                            <version>1.3.1</version>
                    <version>1.4.1</version>
                    <version>1.5.2</version>
                    <version>1.6.0</version>
                                                    <component>Spark Core</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>3</watches>
                                                                        <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i2u8uv:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                    </customfields>
    </item>

<item>
            <title>[SPARK-13703] Remove obsolete scala-2.10 source files</title>
                <link>https://issues.apache.org/jira/browse/SPARK-13703</link>
                <project id="12315420" key="SPARK">Spark</project>
                    <description></description>
                <environment></environment>
        <key id="12947481">SPARK-13703</key>
            <summary>Remove obsolete scala-2.10 source files</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/bug.png">Bug</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.png">Minor</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="8">Not A Problem</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="luciano resende">Luciano Resende</reporter>
                        <labels>
                    </labels>
                <created>Sun, 6 Mar 2016 00:38:57 +0000</created>
                <updated>Sun, 6 Mar 2016 19:34:15 +0000</updated>
                            <resolved>Sun, 6 Mar 2016 19:34:15 +0000</resolved>
                                    <version>2.0.0</version>
                                                    <component>Build</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>3</watches>
                                                                <comments>
                            <comment id="15181929" author="apachespark" created="Sun, 6 Mar 2016 00:42:03 +0000"  >&lt;p&gt;User &apos;lresende&apos; has created a pull request for this issue:&lt;br/&gt;
&lt;a href=&quot;https://github.com/apache/spark/pull/11542&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://github.com/apache/spark/pull/11542&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="15182286" author="srowen" created="Sun, 6 Mar 2016 19:34:15 +0000"  >&lt;p&gt;Yea, for the moment 2.10 support has not been dropped. Dropping it would mean indeed removing files like this.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Sun, 6 Mar 2016 00:42:03 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i2u8s7:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        </customfields>
    </item>

<item>
            <title>[SPARK-13702] Use diamond operator for generic instance creation in Java code</title>
                <link>https://issues.apache.org/jira/browse/SPARK-13702</link>
                <project id="12315420" key="SPARK">Spark</project>
                    <description>&lt;p&gt;Java 7 or higher supports `diamond` operator which replaces the type arguments required to invoke the constructor of a generic class with an empty set of type parameters (&amp;lt;&amp;gt;). Currently, Spark Java code use mixed usage of this. This issue replaces existing codes to use `diamond` operator and add Checkstyle rule.&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
-List&amp;lt;JavaPairDStream&amp;lt;&lt;span class=&quot;code-object&quot;&gt;String&lt;/span&gt;, &lt;span class=&quot;code-object&quot;&gt;String&lt;/span&gt;&amp;gt;&amp;gt; kafkaStreams = &lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; ArrayList&amp;lt;JavaPairDStream&amp;lt;&lt;span class=&quot;code-object&quot;&gt;String&lt;/span&gt;, &lt;span class=&quot;code-object&quot;&gt;String&lt;/span&gt;&amp;gt;&amp;gt;(numStreams);
+List&amp;lt;JavaPairDStream&amp;lt;&lt;span class=&quot;code-object&quot;&gt;String&lt;/span&gt;, &lt;span class=&quot;code-object&quot;&gt;String&lt;/span&gt;&amp;gt;&amp;gt; kafkaStreams = &lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; ArrayList&amp;lt;&amp;gt;(numStreams);
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
-Set&amp;lt;Tuple2&amp;lt;&lt;span class=&quot;code-object&quot;&gt;Integer&lt;/span&gt;, &lt;span class=&quot;code-object&quot;&gt;Integer&lt;/span&gt;&amp;gt;&amp;gt; edges = &lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; HashSet&amp;lt;Tuple2&amp;lt;&lt;span class=&quot;code-object&quot;&gt;Integer&lt;/span&gt;, &lt;span class=&quot;code-object&quot;&gt;Integer&lt;/span&gt;&amp;gt;&amp;gt;(numEdges);
+Set&amp;lt;Tuple2&amp;lt;&lt;span class=&quot;code-object&quot;&gt;Integer&lt;/span&gt;, &lt;span class=&quot;code-object&quot;&gt;Integer&lt;/span&gt;&amp;gt;&amp;gt; edges = &lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; HashSet&amp;lt;&amp;gt;(numEdges);
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;&lt;b&gt;Reference&lt;/b&gt;&lt;br/&gt;
&lt;a href=&quot;https://docs.oracle.com/javase/8/docs/technotes/guides/language/type-inference-generic-instance-creation.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://docs.oracle.com/javase/8/docs/technotes/guides/language/type-inference-generic-instance-creation.html&lt;/a&gt;&lt;/p&gt;</description>
                <environment></environment>
        <key id="12947477">SPARK-13702</key>
            <summary>Use diamond operator for generic instance creation in Java code</summary>
                <type id="4" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/improvement.png">Improvement</type>
                                            <priority id="5" iconUrl="https://issues.apache.org/jira/images/icons/priorities/trivial.png">Trivial</priority>
                        <status id="3" iconUrl="https://issues.apache.org/jira/images/icons/statuses/inprogress.png" description="This issue is being actively worked on at the moment by the assignee.">In Progress</status>
                    <statusCategory id="4" key="indeterminate" colorName="yellow"/>
                                    <resolution id="-1">Unresolved</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="dongjoon">Dongjoon Hyun</reporter>
                        <labels>
                    </labels>
                <created>Sat, 5 Mar 2016 23:42:34 +0000</created>
                <updated>Sun, 6 Mar 2016 21:04:30 +0000</updated>
                                                                            <component>Examples</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                <comments>
                            <comment id="15181913" author="apachespark" created="Sat, 5 Mar 2016 23:58:03 +0000"  >&lt;p&gt;User &apos;dongjoon-hyun&apos; has created a pull request for this issue:&lt;br/&gt;
&lt;a href=&quot;https://github.com/apache/spark/pull/11541&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://github.com/apache/spark/pull/11541&lt;/a&gt;&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Sat, 5 Mar 2016 23:58:03 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i2u8rb:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                    </customfields>
    </item>

<item>
            <title>[SPARK-13701] MLlib ALS fails on arm64 (java.lang.UnsatisfiedLinkError: org.jblas.NativeBlas.dgemm))</title>
                <link>https://issues.apache.org/jira/browse/SPARK-13701</link>
                <project id="12315420" key="SPARK">Spark</project>
                    <description>&lt;p&gt;jblas fails on arm64.&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
ALSSuite:
Exception encountered when attempting to run a suite with class name: org.apache.spark.mllib.recommendation.ALSSuite *** ABORTED *** (112 milliseconds)
  java.lang.UnsatisfiedLinkError: org.jblas.NativeBlas.dgemm(CCIIID[DII[DIID[DII)V
  at org.jblas.NativeBlas.dgemm(Native Method)
  at org.jblas.SimpleBlas.gemm(SimpleBlas.java:247)
  at org.jblas.DoubleMatrix.mmuli(DoubleMatrix.java:1781)
  at org.jblas.DoubleMatrix.mmul(DoubleMatrix.java:3138)
  at org.apache.spark.mllib.recommendation.ALSSuite$.generateRatings(ALSSuite.scala:74)
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</description>
                <environment>&lt;p&gt;Ubuntu 14.04 on aarch64&lt;/p&gt;</environment>
        <key id="12947476">SPARK-13701</key>
            <summary>MLlib ALS fails on arm64 (java.lang.UnsatisfiedLinkError: org.jblas.NativeBlas.dgemm))</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/bug.png">Bug</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.png">Minor</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="8">Not A Problem</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="smolav">Santiago M. Mola</reporter>
                        <labels>
                            <label>arm64</label>
                            <label>porting</label>
                    </labels>
                <created>Sat, 5 Mar 2016 23:30:12 +0000</created>
                <updated>Sun, 6 Mar 2016 19:28:43 +0000</updated>
                            <resolved>Sun, 6 Mar 2016 19:28:43 +0000</resolved>
                                                                    <component>MLlib</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                <comments>
                            <comment id="15181921" author="smolav" created="Sun, 6 Mar 2016 00:12:56 +0000"  >&lt;p&gt;This is probably just gfortran not being installed? I&apos;ll test as soon as possible.&lt;/p&gt;</comment>
                            <comment id="15182214" author="smolav" created="Sun, 6 Mar 2016 16:19:52 +0000"  >&lt;p&gt;Installed gfortran. Now it fails on NLSSuite, then ALSSuite succeeds.&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
[info] NNLSSuite:
[info] Exception encountered when attempting to run a suite with class name: org.apache.spark.mllib.optimization.NNLSSuite *** ABORTED *** (68 milliseconds)
[info]   java.lang.UnsatisfiedLinkError: org.jblas.NativeBlas.dgemm(CCIIID[DII[DIID[DII)V
[info]   at org.jblas.NativeBlas.dgemm(Native Method)
[info]   at org.jblas.SimpleBlas.gemm(SimpleBlas.java:247)
[info]   at org.jblas.DoubleMatrix.mmuli(DoubleMatrix.java:1781)
[info]   at org.jblas.DoubleMatrix.mmul(DoubleMatrix.java:3138)
[info]   at org.apache.spark.mllib.optimization.NNLSSuite.genOnesData(NNLSSuite.scala:33)
[info]   at org.apache.spark.mllib.optimization.NNLSSuite$$anonfun$2$$anonfun$apply$mcV$sp$1.apply$mcVI$sp(NNLSSuite.scala:56)
[info]   at scala.collection.immutable.Range.foreach$mVc$sp(Range.scala:166)
[info]   at org.apache.spark.mllib.optimization.NNLSSuite$$anonfun$2.apply$mcV$sp(NNLSSuite.scala:55)
[info]   at org.apache.spark.mllib.optimization.NNLSSuite$$anonfun$2.apply(NNLSSuite.scala:45)
[info]   at org.apache.spark.mllib.optimization.NNLSSuite$$anonfun$2.apply(NNLSSuite.scala:45)
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</comment>
                            <comment id="15182284" author="srowen" created="Sun, 6 Mar 2016 19:28:43 +0000"  >&lt;p&gt;Yeah, I don&apos;t think Spark works on arm64 because jblas does not. The thing I&apos;m not quite sure about is why it doesn&apos;t fail earlier and fall back to Java.  On both counts, it sounds like something considered not an issue for Spark.&lt;/p&gt;

&lt;p&gt;However... jblas hasn&apos;t been used in Spark for a while. What version is this? I&apos;m closing this, but you can reply.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Sun, 6 Mar 2016 19:28:43 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i2u8r3:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        </customfields>
    </item>

<item>
            <title>[SPARK-13700] Rdd.mapAsync(): Easily mix Spark and asynchroneous transformation</title>
                <link>https://issues.apache.org/jira/browse/SPARK-13700</link>
                <project id="12315420" key="SPARK">Spark</project>
                    <description>&lt;p&gt;Spark is great for synchronous operations.&lt;/p&gt;

&lt;p&gt;But sometimes I need to call a database/web server/etc from my transform, and the Spark pipeline stalls waiting for it.&lt;/p&gt;

&lt;p&gt;Avoiding that would be great!&lt;/p&gt;

&lt;p&gt;I suggest we add a new method RDD.mapAsync(), which can execute these operations concurrently, avoiding the bottleneck.&lt;/p&gt;

&lt;p&gt;I&apos;ve written a quick&apos;n&apos;dirty implementation of what I have in mind: &lt;br/&gt;
&lt;a href=&quot;https://gist.github.com/paulo-raca/d121cf27905cfb1fafc3&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://gist.github.com/paulo-raca/d121cf27905cfb1fafc3&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;What do you think?&lt;/p&gt;

&lt;p&gt;If you agree with this feature, I can work on a pull request.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12947465">SPARK-13700</key>
            <summary>Rdd.mapAsync(): Easily mix Spark and asynchroneous transformation</summary>
                <type id="4" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/improvement.png">Improvement</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.png">Minor</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="8">Not A Problem</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="paulo_raca">Paulo Costa</reporter>
                        <labels>
                            <label>async</label>
                            <label>features</label>
                            <label>rdd</label>
                            <label>transform</label>
                    </labels>
                <created>Sat, 5 Mar 2016 18:52:05 +0000</created>
                <updated>Mon, 7 Mar 2016 18:39:56 +0000</updated>
                            <resolved>Sun, 6 Mar 2016 19:37:31 +0000</resolved>
                                                                    <component>Spark Core</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                <comments>
                            <comment id="15182287" author="srowen" created="Sun, 6 Mar 2016 19:37:31 +0000"  >&lt;p&gt;I think this might be best to float on a list first, since I don&apos;t think this would be implemented. &lt;/p&gt;

&lt;p&gt;Some things like this already exist in &lt;tt&gt;AsyncRDDActions&lt;/tt&gt; I have the impression they&apos;re not quite deprecated but also something that isn&apos;t going to be added to. The semantics are tough to get right.&lt;/p&gt;

&lt;p&gt;However you seem to be talking about something else, where you implement N expensive synchronous calls in a map operation. You can already do this yourself with mapPartitions and a thread pool.&lt;/p&gt;</comment>
                            <comment id="15182978" author="paulo_raca" created="Mon, 7 Mar 2016 13:08:41 +0000"  >&lt;p&gt;Hello, Sean.&lt;/p&gt;

&lt;p&gt;Thanks for looking at it.&lt;/p&gt;

&lt;p&gt;I just want to clarify a few points:&lt;/p&gt;

&lt;p&gt;This is unrelated to `AsyncRDDActions`:&lt;/p&gt;
&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;`AsyncRDDActions` is about executing RDD actions without blocking the driver program.&lt;/li&gt;
	&lt;li&gt;This request is about executing a `map()` transform on multiple items concurrently,&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;Also, my motivation isn&apos;t to execute multiple expensive synchronous calls (Spark&apos;s solves that problem really well with partition parallelism)&lt;br/&gt;
Instead, I need to execute multiple cheap, high-latency, asynchronous calls (i.e. anything that requires network communication &amp;#8211; HTTP requests, DB access, etc)&lt;/p&gt;

&lt;p&gt;I agree that anyone can do it themselves using `mapPartitions` (I just did), but so can `map`, `filter`, and many of the existing RDD transforms.&lt;br/&gt;
It doesn&apos;t mean they should, as it took me a couple of hours to write it, and I&apos;m not completely sure I got it right (Concurrency is hard!)&lt;/p&gt;


&lt;p&gt;I&apos;ll send the idea on a mailing list&lt;/p&gt;</comment>
                            <comment id="15183027" author="srowen" created="Mon, 7 Mar 2016 14:03:03 +0000"  >&lt;p&gt;Yes, I know &lt;tt&gt;AsyncRDDActions&lt;/tt&gt; is for async driver operations. Yes, I assume you want to launch N operations that are &quot;expensive&quot; but not for the Spark task. I don&apos;t know what Spark can or even should do to support this use case. Scala and the JDK let you implement these types of thing easily with full control. I think it can be simpler than your POC, and in Java 8 shorter still, and in Scala it&apos;s about a 1-liner when used with mapPartitions. Hence I just don&apos;t think Spark can add much.&lt;/p&gt;</comment>
                            <comment id="15183056" author="paulo_raca" created="Mon, 7 Mar 2016 14:25:09 +0000"  >&lt;p&gt;Thanks, Sean.&lt;/p&gt;

&lt;p&gt;I&apos;m curious, what would it look like in Scala?&lt;/p&gt;</comment>
                            <comment id="15183428" author="srowen" created="Mon, 7 Mar 2016 18:39:56 +0000"  >&lt;p&gt;mapPartitions gives you an iterator of elements; you return a iterator over mapped elements. I was &lt;em&gt;going&lt;/em&gt; to say you just make it a parallel iterator with &lt;tt&gt;.par&lt;/tt&gt;  and then map as usual, but this is not actually available on &lt;tt&gt;Iterator&lt;/tt&gt;. Hm. I&apos;m guessing there&apos;s some way to process an iterator in parallel that isn&apos;t too much code, but it wasn&apos;t that one-liner. &lt;/p&gt;

&lt;p&gt;Coming at it another way, I assume that you&apos;re bottlenecked on the database or other resource you&apos;re querying. You probably get about the same optimal behavior by repartitioning to match the number of concurrent connections that maxes out the resource, and then processing the partitions in one connection in serial. That assumes that repartitioning down to the right max isn&apos;t that expensive, but it need not involve a shuffle.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Sun, 6 Mar 2016 19:37:31 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i2u8on:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        </customfields>
    </item>

<item>
            <title>[SPARK-13699] Spark SQL drops the table in &quot;overwrite&quot; mode while writing into table</title>
                <link>https://issues.apache.org/jira/browse/SPARK-13699</link>
                <project id="12315420" key="SPARK">Spark</project>
                    <description>&lt;p&gt;Hi,&lt;/p&gt;

&lt;p&gt;While writing the dataframe to HIVE table with &quot;SaveMode.Overwrite&quot; option.&lt;/p&gt;

&lt;p&gt;E.g.&lt;br/&gt;
tgtFinal.write.mode(SaveMode.Overwrite).saveAsTable(&quot;tgt_table&quot;)&lt;/p&gt;

&lt;p&gt;sqlContext drop the table instead of truncating.&lt;/p&gt;

&lt;p&gt;This is causing error while overwriting.&lt;/p&gt;

&lt;p&gt;Adding stacktrace &amp;amp; commands to reproduce the issue,&lt;/p&gt;

&lt;p&gt;Thanks &amp;amp; Regards,&lt;br/&gt;
Dhaval&lt;/p&gt;

</description>
                <environment></environment>
        <key id="12947455">SPARK-13699</key>
            <summary>Spark SQL drops the table in &quot;overwrite&quot; mode while writing into table</summary>
                <type id="4" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/improvement.png">Improvement</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.png">Major</priority>
                        <status id="1" iconUrl="https://issues.apache.org/jira/images/icons/statuses/open.png" description="The issue is open and ready for the assignee to start work on it.">Open</status>
                    <statusCategory id="2" key="new" colorName="blue-gray"/>
                                    <resolution id="-1">Unresolved</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="mysti">Dhaval Modi</reporter>
                        <labels>
                    </labels>
                <created>Sat, 5 Mar 2016 14:16:50 +0000</created>
                <updated>Mon, 7 Mar 2016 23:23:19 +0000</updated>
                                            <version>1.6.0</version>
                                                    <component>SQL</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>3</watches>
                                                                <comments>
                            <comment id="15181752" author="smilegator" created="Sat, 5 Mar 2016 15:27:31 +0000"  >&lt;p&gt;So far, this is by design. Thus, it is hard to say it is a bug.&lt;/p&gt;

&lt;p&gt;However, I think this idea is reasonable, especially for RDBMS users. Let me try this. Thanks!&lt;/p&gt;</comment>
                            <comment id="15181777" author="mysti" created="Sat, 5 Mar 2016 17:20:01 +0000"  >&lt;p&gt;This should be a bug, as it fails to overwrite the table, throwing error.&lt;/p&gt;</comment>
                            <comment id="15181780" author="mysti" created="Sat, 5 Mar 2016 17:23:40 +0000"  >&lt;p&gt;================== Code Snippet =======================================&lt;br/&gt;
val sqlContext = new org.apache.spark.sql.hive.HiveContext(sc);&lt;br/&gt;
val src=sqlContext.sql(&quot;select * from src_table&quot;);&lt;br/&gt;
val tgt=sqlContext.sql(&quot;select * from tgt_table&quot;);&lt;/p&gt;

&lt;p&gt;var tgtFinal=tgt.filter(&quot;currind = &apos;N&apos;&quot;); //Add to final table&lt;br/&gt;
val tgtActive=tgt.filter(&quot;currind = &apos;Y&apos;&quot;);&lt;/p&gt;



&lt;p&gt;#src.select(&quot;col1&quot;).except(src.select(&quot;col1&quot;).as(&apos;a).join(tgtActive.select(&quot;col1&quot;).as(&apos;b),&quot;col1&quot;))&lt;/p&gt;


&lt;p&gt;val newTgt1 = tgtActive.as(&apos;a).join(src.as(&apos;b),$&quot;a.col1&quot; === $&quot;b.col1&quot;)&lt;/p&gt;

&lt;p&gt;#val newTgt2 = tgtActive.except(newTgt1.select(&quot;a.*&quot;));&lt;br/&gt;
tgtFinal = tgtFinal.unionAll(tgtActive.except(newTgt1.select(&quot;a.*&quot;)));&lt;/p&gt;

&lt;p&gt;var srcInsert = src.except(newTgt1.select(&quot;b.*&quot;))&lt;/p&gt;

&lt;p&gt;import org.apache.spark.sql._&lt;/p&gt;

&lt;p&gt;val inBatchID = udf((t:String) =&amp;gt; &quot;13&quot; )&lt;br/&gt;
val inCurrInd = udf((t:String) =&amp;gt; &quot;Y&quot; )&lt;br/&gt;
val NCurrInd = udf((t:String) =&amp;gt; &quot;N&quot; )&lt;br/&gt;
val endDate = udf((t:String) =&amp;gt; &quot;9999-12-31 23:59:59&quot;)&lt;/p&gt;

&lt;p&gt;tgtFinal = tgtFinal.unionAll(newTgt1.select(&quot;a.*&quot;).withColumn(&quot;currInd&quot;, NCurrInd(col(&quot;col1&quot;))).withColumn(&quot;endDate&quot;, current_timestamp()).withColumn(&quot;updateDate&quot;, current_timestamp()))&lt;/p&gt;


&lt;p&gt;srcInsert = src.withColumn(&quot;batchId&quot;, inBatchID(col(&quot;col1&quot;))).withColumn(&quot;currInd&quot;, inCurrInd(col(&quot;col1&quot;))).withColumn(&quot;startDate&quot;, current_timestamp()).withColumn(&quot;endDate&quot;, date_format(endDate(col(&quot;col1&quot;)),&quot;yyyy-MM-dd HH:mm:ss&quot;)).withColumn(&quot;updateDate&quot;, current_timestamp())&lt;/p&gt;

&lt;p&gt;tgtFinal = tgtFinal.unionAll(srcInsert)&lt;/p&gt;

&lt;p&gt;tgtFinal.write.mode(SaveMode.Overwrite).saveAsTable(&quot;tgt_table&quot;)&lt;/p&gt;

&lt;p&gt;======================= Code Snippet =================================&lt;/p&gt;</comment>
                            <comment id="15181791" author="smilegator" created="Sat, 5 Mar 2016 17:59:15 +0000"  >&lt;p&gt;Now, I see your points. Will take a look at it. Thanks!&lt;/p&gt;</comment>
                            <comment id="15181804" author="smilegator" created="Sat, 5 Mar 2016 18:34:26 +0000"  >&lt;p&gt;After a research, we can NOT truncate the table if the table is created with EXTERNAL keyword, because all data resides outside of Hive Meta store. &lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=yhuai&quot; class=&quot;user-hover&quot; rel=&quot;yhuai&quot;&gt;Yin Huai&lt;/a&gt; Is that the reason why we chose drop-and-then-recreate the Hive table instead of truncate the table when the mode is SaveMode.Overwrite?&lt;/p&gt;</comment>
                            <comment id="15181916" author="smilegator" created="Sun, 6 Mar 2016 00:04:38 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=mysti&quot; class=&quot;user-hover&quot; rel=&quot;mysti&quot;&gt;Dhaval Modi&lt;/a&gt;  Could you show the script how you create the original tables, especially `tgt_table`? &lt;/p&gt;</comment>
                            <comment id="15182031" author="mysti" created="Sun, 6 Mar 2016 07:18:44 +0000"  >&lt;p&gt;TGT_TABLE DDL:&lt;br/&gt;
CREATE TABLE IF NOT EXISTS tgt_table (col1 string, col2 int, col3 timestamp, col4 decimal(4,1), batchId string, currInd string, startDate timestamp, endDate timestamp, updateDate timestamp) stored as orc;&lt;/p&gt;

&lt;p&gt;SRC_TABLE DDL:&lt;br/&gt;
CREATE TABLE IF NOT EXISTS src_table (col1 int, col2 int, col3 timestamp, col4 decimal(4,1)) stored as orc;&lt;/p&gt;


&lt;p&gt;INSERT STMT:&lt;br/&gt;
insert into table src_table values(&apos;1&apos;,1,&apos;2016-2-3 00:00:00&apos;,23.1);&lt;br/&gt;
insert into table src_table values(&apos;2&apos;,1,&apos;2016-2-3 00:00:00&apos;,23.1);&lt;br/&gt;
insert into table tgt_table values(&apos;1&apos;,2,&apos;2016-2-3 00:00:00&apos;,23.1, &apos;13&apos;, &apos;Y&apos;, &apos;2016-2-3 00:00:00&apos;, &apos;2016-2-3 00:00:00&apos;, &apos;2016-2-3 00:00:00&apos;);&lt;br/&gt;
insert into table tgt_table values(&apos;1&apos;,3,&apos;2016-2-3 00:00:00&apos;,23.1, &apos;13&apos;, &apos;N&apos;, &apos;2016-2-1 00:00:00&apos;, &apos;2016-2-1 00:00:00&apos;, &apos;2016-2-3 00:00:00&apos;);&lt;br/&gt;
insert into table tgt_table values(&apos;3&apos;,3,&apos;2016-2-3 00:00:00&apos;,23.1, &apos;13&apos;, &apos;Y&apos;, &apos;2016-2-1 00:00:00&apos;, &apos;2016-2-1 00:00:00&apos;, &apos;2016-2-3 00:00:00&apos;);&lt;/p&gt;</comment>
                            <comment id="15183996" author="tsuresh" created="Mon, 7 Mar 2016 23:23:19 +0000"  >&lt;p&gt;Thank you for providing  the reproduction to the problem I was able to reproduce the issue.  Problem is you are trying to overwrite a table that is also being read in the data frame. This is not allowed , it should fail with an error  (I noticed in some cases I get an error org.apache.spark.sql.AnalysisException: Cannot overwrite table `t1` that is also being read from).    I think  this usage should  raise an error. &lt;/p&gt;

&lt;p&gt;Truncate is any interesting option ,  especially with jdbc data source.  But that will not address the problem you are running into, it will run into same problem as Overwrite.    &lt;/p&gt;


&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;

scala&amp;gt; tgtFinal.explain
== Physical Plan ==
Union
:- WholeStageCodegen
:  :  +- Project [col1#223,col2#224,col3#225,col4#226,batchid#227,currind#228,startdate#229,&lt;span class=&quot;code-keyword&quot;&gt;cast&lt;/span&gt;(enddate#230 as string) AS enddate#263,updatedate#231]
:  :     +- Filter (currind#228 = N)
:  :        +- INPUT
:  +- HiveTableScan [enddate#230,updatedate#231,col2#224,col1#223,batchid#227,col3#225,startdate#229,currind#228,col4#226], MetastoreRelation &lt;span class=&quot;code-keyword&quot;&gt;default&lt;/span&gt;, tgt_table, None
:- WholeStageCodegen
:  :  +- Project [col1#223,col2#224,col3#225,col4#226,batchid#227,currind#228,startdate#229,&lt;span class=&quot;code-keyword&quot;&gt;cast&lt;/span&gt;(enddate#230 as string) AS enddate#264,updatedate#231]
:  :     +- INPUT
:  +- Except
:     :- WholeStageCodegen
:     :  :  +- Filter (currind#228 = Y)
:     :  :     +- INPUT
:     :  +- HiveTableScan [col1#223,col2#224,col3#225,col4#226,batchid#227,currind#228,startdate#229,enddate#230,updatedate#231], MetastoreRelation &lt;span class=&quot;code-keyword&quot;&gt;default&lt;/span&gt;, tgt_table, None
:     +- WholeStageCodegen
:        :  +- Project [col1#223,col2#224,col3#225,col4#226,batchid#227,currind#228,startdate#229,enddate#230,updatedate#231]
:        :     +- BroadcastHashJoin [&lt;span class=&quot;code-keyword&quot;&gt;cast&lt;/span&gt;(col1#223 as &lt;span class=&quot;code-object&quot;&gt;double&lt;/span&gt;)], [&lt;span class=&quot;code-keyword&quot;&gt;cast&lt;/span&gt;(col1#219 as &lt;span class=&quot;code-object&quot;&gt;double&lt;/span&gt;)], Inner, BuildRight, None
:        :        :- Filter (currind#228 = Y)
:        :        :  +- INPUT
:        :        +- INPUT
:        :- HiveTableScan [col1#223,col2#224,col3#225,col4#226,batchid#227,currind#228,startdate#229,enddate#230,updatedate#231], MetastoreRelation &lt;span class=&quot;code-keyword&quot;&gt;default&lt;/span&gt;, tgt_table, None
:        +- HiveTableScan [col1#219], MetastoreRelation &lt;span class=&quot;code-keyword&quot;&gt;default&lt;/span&gt;, src_table, None
:- WholeStageCodegen
:  :  +- Project [col1#223,col2#224,col3#225,col4#226,batchid#227,UDF(col1#223) AS currInd#232,startdate#229,2016-03-07 15:12:20.584 AS endDate#265,1457392340584000 AS updateDate#234]
:  :     +- BroadcastHashJoin [&lt;span class=&quot;code-keyword&quot;&gt;cast&lt;/span&gt;(col1#223 as &lt;span class=&quot;code-object&quot;&gt;double&lt;/span&gt;)], [&lt;span class=&quot;code-keyword&quot;&gt;cast&lt;/span&gt;(col1#219 as &lt;span class=&quot;code-object&quot;&gt;double&lt;/span&gt;)], Inner, BuildRight, None
:  :        :- Project [col3#225,startdate#229,col2#224,col1#223,batchid#227,col4#226]
:  :        :  +- Filter (currind#228 = Y)
:  :        :     +- INPUT
:  :        +- INPUT
:  :- HiveTableScan [col3#225,startdate#229,col2#224,col1#223,batchid#227,col4#226,currind#228], MetastoreRelation &lt;span class=&quot;code-keyword&quot;&gt;default&lt;/span&gt;, tgt_table, None
:  +- HiveTableScan [col1#219], MetastoreRelation &lt;span class=&quot;code-keyword&quot;&gt;default&lt;/span&gt;, src_table, None
+- WholeStageCodegen
   :  +- Project [&lt;span class=&quot;code-keyword&quot;&gt;cast&lt;/span&gt;(col1#219 as string) AS col1#266,col2#220,col3#221,col4#222,UDF(&lt;span class=&quot;code-keyword&quot;&gt;cast&lt;/span&gt;(col1#219 as string)) AS batchId#235,UDF(&lt;span class=&quot;code-keyword&quot;&gt;cast&lt;/span&gt;(col1#219 as string)) AS currInd#236,1457392340584000 AS startDate#237,date_format(&lt;span class=&quot;code-keyword&quot;&gt;cast&lt;/span&gt;(UDF(&lt;span class=&quot;code-keyword&quot;&gt;cast&lt;/span&gt;(col1#219 as string)) as timestamp),yyyy-MM-dd HH:mm:ss) AS endDate#238,1457392340584000 AS updateDate#239]
   :     +- INPUT
   +- HiveTableScan [col1#219,col2#220,col3#221,col4#222], MetastoreRelation &lt;span class=&quot;code-keyword&quot;&gt;default&lt;/span&gt;, src_table, None

scala&amp;gt; 
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12791632" name="stackTrace.txt" size="29330" author="mysti" created="Sat, 5 Mar 2016 17:17:48 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Sat, 5 Mar 2016 15:27:31 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i2u8mf:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                    </customfields>
    </item>

<item>
            <title>[SPARK-13698] Fix Analysis Exceptions when Using Backticks in Generate</title>
                <link>https://issues.apache.org/jira/browse/SPARK-13698</link>
                <project id="12315420" key="SPARK">Spark</project>
                    <description>&lt;p&gt;Analysis exception occurs while running the following query.&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
SELECT ints FROM nestedArray LATERAL VIEW explode(a.b) `a` AS `ints`
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
Failed to analyze query: org.apache.spark.sql.AnalysisException: cannot resolve &apos;`ints`&apos; given input columns: [a, `ints`]; line 1 pos 7
&apos;Project [&apos;ints]
+- Generate explode(a#0.b), &lt;span class=&quot;code-keyword&quot;&gt;true&lt;/span&gt;, &lt;span class=&quot;code-keyword&quot;&gt;false&lt;/span&gt;, Some(a), [`ints`#8]
   +- SubqueryAlias nestedarray
      +- LocalRelation [a#0], [[[[1,2,3]]]]
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</description>
                <environment></environment>
        <key id="12947440">SPARK-13698</key>
            <summary>Fix Analysis Exceptions when Using Backticks in Generate</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/bug.png">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.png">Major</priority>
                        <status id="3" iconUrl="https://issues.apache.org/jira/images/icons/statuses/inprogress.png" description="This issue is being actively worked on at the moment by the assignee.">In Progress</status>
                    <statusCategory id="4" key="indeterminate" colorName="yellow"/>
                                    <resolution id="-1">Unresolved</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="dkbiswal">Dilip Biswal</reporter>
                        <labels>
                    </labels>
                <created>Sat, 5 Mar 2016 09:49:21 +0000</created>
                <updated>Sat, 5 Mar 2016 15:03:15 +0000</updated>
                                                                            <component>SQL</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                <comments>
                            <comment id="15181657" author="apachespark" created="Sat, 5 Mar 2016 09:59:04 +0000"  >&lt;p&gt;User &apos;dilipbiswal&apos; has created a pull request for this issue:&lt;br/&gt;
&lt;a href=&quot;https://github.com/apache/spark/pull/11538&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://github.com/apache/spark/pull/11538&lt;/a&gt;&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10032">
                    <name>Blocker</name>
                                            <outwardlinks description="blocks">
                                        <issuelink>
            <issuekey id="12928760">SPARK-12719</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                    </issuelinks>
                <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Sat, 5 Mar 2016 09:59:04 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i2u8j3:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                    </customfields>
    </item>

<item>
            <title>[SPARK-13697] TransformFunctionSerializer.loads doesn&apos;t restore the function&apos;s module name if it&apos;s &apos;__main__&apos;</title>
                <link>https://issues.apache.org/jira/browse/SPARK-13697</link>
                <project id="12315420" key="SPARK">Spark</project>
                    <description>&lt;p&gt;Here is a reproducer&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
&amp;gt;&amp;gt;&amp;gt; from pyspark.streaming &lt;span class=&quot;code-keyword&quot;&gt;import&lt;/span&gt; StreamingContext
&amp;gt;&amp;gt;&amp;gt; from pyspark.streaming.util &lt;span class=&quot;code-keyword&quot;&gt;import&lt;/span&gt; TransformFunction
&amp;gt;&amp;gt;&amp;gt; ssc = StreamingContext(sc, 1)
&amp;gt;&amp;gt;&amp;gt; func = TransformFunction(sc, lambda x: x, sc.serializer)
&amp;gt;&amp;gt;&amp;gt; func.rdd_wrapper(lambda x: x)
TransformFunction(&amp;lt;function &amp;lt;lambda&amp;gt; at 0x106ac8b18&amp;gt;)
&amp;gt;&amp;gt;&amp;gt; bytes = bytearray(ssc._transformerSerializer.serializer.dumps((func.func, func.rdd_wrap_func, func.deserializers))) 
&amp;gt;&amp;gt;&amp;gt; func2 = ssc._transformerSerializer.loads(bytes)
&amp;gt;&amp;gt;&amp;gt; print(func2.func.__module__)
None
&amp;gt;&amp;gt;&amp;gt; print(func2.rdd_wrap_func.__module__)
None
&amp;gt;&amp;gt;&amp;gt; 
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</description>
                <environment></environment>
        <key id="12947431">SPARK-13697</key>
            <summary>TransformFunctionSerializer.loads doesn&apos;t restore the function&apos;s module name if it&apos;s &apos;__main__&apos;</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/bug.png">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.png">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="zsxwing">Shixiong Zhu</assignee>
                                    <reporter username="zsxwing">Shixiong Zhu</reporter>
                        <labels>
                    </labels>
                <created>Sat, 5 Mar 2016 08:17:45 +0000</created>
                <updated>Sun, 6 Mar 2016 16:58:09 +0000</updated>
                            <resolved>Sun, 6 Mar 2016 16:58:09 +0000</resolved>
                                    <version>1.6.0</version>
                                    <fixVersion>1.4.2</fixVersion>
                    <fixVersion>1.5.3</fixVersion>
                    <fixVersion>1.6.1</fixVersion>
                    <fixVersion>2.0.0</fixVersion>
                                    <component>PySpark</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>3</watches>
                                                                <comments>
                            <comment id="15181632" author="apachespark" created="Sat, 5 Mar 2016 08:20:04 +0000"  >&lt;p&gt;User &apos;zsxwing&apos; has created a pull request for this issue:&lt;br/&gt;
&lt;a href=&quot;https://github.com/apache/spark/pull/11535&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://github.com/apache/spark/pull/11535&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="15182233" author="davies" created="Sun, 6 Mar 2016 16:58:09 +0000"  >&lt;p&gt;Issue resolved by pull request 11535&lt;br/&gt;
&lt;a href=&quot;https://github.com/apache/spark/pull/11535&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://github.com/apache/spark/pull/11535&lt;/a&gt;&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Sat, 5 Mar 2016 08:20:04 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i2u8h3:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        </customfields>
    </item>

<item>
            <title>[SPARK-13696] Remove BlockStore interface to more cleanly reflect different memory and disk store responsibilities</title>
                <link>https://issues.apache.org/jira/browse/SPARK-13696</link>
                <project id="12315420" key="SPARK">Spark</project>
                    <description>&lt;p&gt;Today, both the MemoryStore and DiskStore implement a common BlockStore API, but I feel that this API is inappropriate because it abstracts away important distinctions between the behavior of these two stores.&lt;/p&gt;

&lt;p&gt;For instance, the disk store doesn&apos;t have a notion of storing deserialized objects, so it&apos;s confusing for it to expose object-based APIs like putIterator() and getValues() instead of only exposing binary APIs and pushing the responsibilities of serialization and deserialization to the client.&lt;/p&gt;

&lt;p&gt;As part of a larger BlockManager interface cleanup, I&apos;d like to remove the BlockStore API and refine the MemoryStore and DiskStore interfaces to reflect more narrow sets of responsibilities for those components.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12947414">SPARK-13696</key>
            <summary>Remove BlockStore interface to more cleanly reflect different memory and disk store responsibilities</summary>
                <type id="4" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/improvement.png">Improvement</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.png">Major</priority>
                        <status id="3" iconUrl="https://issues.apache.org/jira/images/icons/statuses/inprogress.png" description="This issue is being actively worked on at the moment by the assignee.">In Progress</status>
                    <statusCategory id="4" key="indeterminate" colorName="yellow"/>
                                    <resolution id="-1">Unresolved</resolution>
                                        <assignee username="joshrosen">Josh Rosen</assignee>
                                    <reporter username="joshrosen">Josh Rosen</reporter>
                        <labels>
                    </labels>
                <created>Sat, 5 Mar 2016 05:04:02 +0000</created>
                <updated>Sat, 5 Mar 2016 05:12:06 +0000</updated>
                                                                            <component>Block Manager</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>3</watches>
                                                                <comments>
                            <comment id="15181527" author="apachespark" created="Sat, 5 Mar 2016 05:12:04 +0000"  >&lt;p&gt;User &apos;JoshRosen&apos; has created a pull request for this issue:&lt;br/&gt;
&lt;a href=&quot;https://github.com/apache/spark/pull/11534&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://github.com/apache/spark/pull/11534&lt;/a&gt;&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Sat, 5 Mar 2016 05:12:04 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i2u8db:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12310320" key="com.atlassian.jira.plugin.system.customfieldtypes:multiversion">
                        <customfieldname>Target Version/s</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue>12329449</customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                </customfields>
    </item>

<item>
            <title>[SPARK-13695] Don&apos;t cache MEMORY_AND_DISK blocks as bytes in memory store when reading spills</title>
                <link>https://issues.apache.org/jira/browse/SPARK-13695</link>
                <project id="12315420" key="SPARK">Spark</project>
                    <description>&lt;p&gt;When a cached block is spilled to disk and read back in serialized form (i.e. as bytes), the current BlockManager implementation will attempt to re-insert the serialized block into the MemoryStore even if the block&apos;s storage level requests deserialized caching.&lt;/p&gt;

&lt;p&gt;This behavior adds some complexity to the MemoryStore but I don&apos;t think it offers many performance benefits and I&apos;d like to remove it in order to simplify a larger refactoring patch. Therefore, I propose to change the behavior such that disk store reads will only cache bytes in the memory store for blocks with serialized storage levels.&lt;/p&gt;

&lt;p&gt;There are two places where we request serialized bytes from the BlockStore:&lt;/p&gt;

&lt;p&gt;1. getLocalBytes(), which is only called when reading local copies of TorrentBroadcast pieces. Broadcast pieces are always cached using a serialized storage level, so this won&apos;t lead to a mismatch in serialization forms if spilled bytes read from disk are cached as bytes in the memory store.&lt;/p&gt;

&lt;p&gt;2. the non-shuffle-block branch in getBlockData(), which is only called by the NettyBlockRpcServer when responding to requests to read remote blocks. Caching the serialized bytes in memory will only benefit us if those cached bytes are read before they&apos;re evicted and the likelihood of that happening seems low since the frequency of remote reads of non-broadcast cached blocks seems very low. Caching these bytes when they have a low probability of being read is bad if it risks the eviction of blocks which are cached in their expected serialized/deserialized forms, since those blocks seem more likely to be read in local computation.&lt;/p&gt;

&lt;p&gt;Therefore, I think this is a safe change.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12947413">SPARK-13695</key>
            <summary>Don&apos;t cache MEMORY_AND_DISK blocks as bytes in memory store when reading spills</summary>
                <type id="4" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/improvement.png">Improvement</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.png">Major</priority>
                        <status id="3" iconUrl="https://issues.apache.org/jira/images/icons/statuses/inprogress.png" description="This issue is being actively worked on at the moment by the assignee.">In Progress</status>
                    <statusCategory id="4" key="indeterminate" colorName="yellow"/>
                                    <resolution id="-1">Unresolved</resolution>
                                        <assignee username="joshrosen">Josh Rosen</assignee>
                                    <reporter username="joshrosen">Josh Rosen</reporter>
                        <labels>
                    </labels>
                <created>Sat, 5 Mar 2016 04:54:25 +0000</created>
                <updated>Sat, 5 Mar 2016 04:58:05 +0000</updated>
                                                                            <component>Block Manager</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>3</watches>
                                                                <comments>
                            <comment id="15181518" author="apachespark" created="Sat, 5 Mar 2016 04:58:03 +0000"  >&lt;p&gt;User &apos;JoshRosen&apos; has created a pull request for this issue:&lt;br/&gt;
&lt;a href=&quot;https://github.com/apache/spark/pull/11533&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://github.com/apache/spark/pull/11533&lt;/a&gt;&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Sat, 5 Mar 2016 04:58:03 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i2u8d3:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12310320" key="com.atlassian.jira.plugin.system.customfieldtypes:multiversion">
                        <customfieldname>Target Version/s</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue>12329449</customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                </customfields>
    </item>

<item>
            <title>[SPARK-13694] QueryPlan.expressions should always include all expressions</title>
                <link>https://issues.apache.org/jira/browse/SPARK-13694</link>
                <project id="12315420" key="SPARK">Spark</project>
                    <description></description>
                <environment></environment>
        <key id="12947386">SPARK-13694</key>
            <summary>QueryPlan.expressions should always include all expressions</summary>
                <type id="4" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/improvement.png">Improvement</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.png">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="cloud_fan">Wenchen Fan</reporter>
                        <labels>
                    </labels>
                <created>Sat, 5 Mar 2016 00:34:25 +0000</created>
                <updated>Mon, 7 Mar 2016 18:32:52 +0000</updated>
                            <resolved>Mon, 7 Mar 2016 18:32:52 +0000</resolved>
                                                    <fixVersion>2.0.0</fixVersion>
                                    <component>SQL</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>3</watches>
                                                                <comments>
                            <comment id="15181367" author="apachespark" created="Sat, 5 Mar 2016 00:43:04 +0000"  >&lt;p&gt;User &apos;cloud-fan&apos; has created a pull request for this issue:&lt;br/&gt;
&lt;a href=&quot;https://github.com/apache/spark/pull/11532&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://github.com/apache/spark/pull/11532&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="15183417" author="marmbrus" created="Mon, 7 Mar 2016 18:32:52 +0000"  >&lt;p&gt;Issue resolved by pull request 11532&lt;br/&gt;
&lt;a href=&quot;https://github.com/apache/spark/pull/11532&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://github.com/apache/spark/pull/11532&lt;/a&gt;&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Sat, 5 Mar 2016 00:43:04 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i2u873:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        </customfields>
    </item>

<item>
            <title>[SPARK-13693] Flaky test: o.a.s.streaming.MapWithStateSuite</title>
                <link>https://issues.apache.org/jira/browse/SPARK-13693</link>
                <project id="12315420" key="SPARK">Spark</project>
                    <description>&lt;p&gt;Fixed the following flaky test:&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://amplab.cs.berkeley.edu/jenkins/job/spark-master-test-sbt-hadoop-2.7/256/testReport/junit/org.apache.spark.streaming/MapWithStateSuite/_It_is_not_a_test_/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://amplab.cs.berkeley.edu/jenkins/job/spark-master-test-sbt-hadoop-2.7/256/testReport/junit/org.apache.spark.streaming/MapWithStateSuite/_It_is_not_a_test_/&lt;/a&gt;&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
sbt.ForkMain$ForkError: java.io.IOException: Failed to delete: /home/jenkins/workspace/spark-master-test-sbt-hadoop-2.7/streaming/checkpoint/spark-e97794a8-b940-4b21-8685-bf1221f9444d
	at org.apache.spark.util.Utils$.deleteRecursively(Utils.scala:934)
	at org.apache.spark.streaming.MapWithStateSuite$$anonfun$2.apply$mcV$sp(MapWithStateSuite.scala:47)
	at org.apache.spark.streaming.MapWithStateSuite$$anonfun$2.apply(MapWithStateSuite.scala:45)
	at org.apache.spark.streaming.MapWithStateSuite$$anonfun$2.apply(MapWithStateSuite.scala:45)
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</description>
                <environment></environment>
        <key id="12947327">SPARK-13693</key>
            <summary>Flaky test: o.a.s.streaming.MapWithStateSuite</summary>
                <type id="6" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/requirement.png">Test</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.png">Minor</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="zsxwing">Shixiong Zhu</assignee>
                                    <reporter username="zsxwing">Shixiong Zhu</reporter>
                        <labels>
                    </labels>
                <created>Fri, 4 Mar 2016 23:48:16 +0000</created>
                <updated>Sat, 5 Mar 2016 23:27:34 +0000</updated>
                            <resolved>Sat, 5 Mar 2016 23:27:33 +0000</resolved>
                                                    <fixVersion>2.0.0</fixVersion>
                                    <component>Tests</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                <comments>
                            <comment id="15181303" author="apachespark" created="Fri, 4 Mar 2016 23:53:03 +0000"  >&lt;p&gt;User &apos;zsxwing&apos; has created a pull request for this issue:&lt;br/&gt;
&lt;a href=&quot;https://github.com/apache/spark/pull/11531&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://github.com/apache/spark/pull/11531&lt;/a&gt;&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Fri, 4 Mar 2016 23:53:03 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i2u7jz:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        </customfields>
    </item>

<item>
            <title>[SPARK-13692] Fix trivial Coverity/Checkstyle defects</title>
                <link>https://issues.apache.org/jira/browse/SPARK-13692</link>
                <project id="12315420" key="SPARK">Spark</project>
                    <description>&lt;p&gt;This issue fixes the following potential bugs and Java coding style detected by Coverity and Checkstyle.&lt;/p&gt;

&lt;ul&gt;
	&lt;li&gt;Implement both null and type checking in equals functions.&lt;/li&gt;
	&lt;li&gt;Fix wrong type casting logic in SimpleJavaBean2.equals.&lt;/li&gt;
	&lt;li&gt;Add `implement Cloneable` to `UTF8String` and `SortedIterator`.&lt;/li&gt;
	&lt;li&gt;Remove dereferencing before null check in `AbstractBytesToBytesMapSuite`.&lt;/li&gt;
	&lt;li&gt;Fix coding style: Add &apos;{}&apos; to single `for` statement in mllib examples.&lt;/li&gt;
	&lt;li&gt;Remove unused imports in `ColumnarBatch` and `JavaKinesisStreamSuite.java`.&lt;/li&gt;
	&lt;li&gt;Remove unused fields in `ChunkFetchIntegrationSuite`.&lt;/li&gt;
	&lt;li&gt;Add `stop()` to prevent resource leak.&lt;/li&gt;
&lt;/ul&gt;



&lt;p&gt;Please note that the last two checkstyle errors exist on newly added commits after &lt;a href=&quot;https://issues.apache.org/jira/browse/SPARK-13583&quot; title=&quot;Remove unused imports and add checkstyle rule&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SPARK-13583&quot;&gt;&lt;del&gt;SPARK-13583&lt;/del&gt;&lt;/a&gt;.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12947130">SPARK-13692</key>
            <summary>Fix trivial Coverity/Checkstyle defects</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/bug.png">Bug</type>
                                            <priority id="5" iconUrl="https://issues.apache.org/jira/images/icons/priorities/trivial.png">Trivial</priority>
                        <status id="3" iconUrl="https://issues.apache.org/jira/images/icons/statuses/inprogress.png" description="This issue is being actively worked on at the moment by the assignee.">In Progress</status>
                    <statusCategory id="4" key="indeterminate" colorName="yellow"/>
                                    <resolution id="-1">Unresolved</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="dongjoon">Dongjoon Hyun</reporter>
                        <labels>
                    </labels>
                <created>Fri, 4 Mar 2016 23:40:16 +0000</created>
                <updated>Mon, 7 Mar 2016 22:43:47 +0000</updated>
                                                                            <component>Examples</component>
                    <component>Spark Core</component>
                    <component>SQL</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                <comments>
                            <comment id="15181298" author="apachespark" created="Fri, 4 Mar 2016 23:50:03 +0000"  >&lt;p&gt;User &apos;dongjoon-hyun&apos; has created a pull request for this issue:&lt;br/&gt;
&lt;a href=&quot;https://github.com/apache/spark/pull/11530&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://github.com/apache/spark/pull/11530&lt;/a&gt;&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Fri, 4 Mar 2016 23:50:03 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i2u6m7:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                    </customfields>
    </item>

<item>
            <title>[SPARK-13691] Scala and Python generate inconsistent results</title>
                <link>https://issues.apache.org/jira/browse/SPARK-13691</link>
                <project id="12315420" key="SPARK">Spark</project>
                    <description>&lt;p&gt;Here is an example that Scala and Python generate different results&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
Scala:
scala&amp;gt; &lt;span class=&quot;code-keyword&quot;&gt;var&lt;/span&gt; i = 0
i: Int = 0
scala&amp;gt; val rdd = sc.parallelize(1 to 10).map(_ + i)
scala&amp;gt; rdd.collect()
res0: Array[Int] = Array(1, 2, 3, 4, 5, 6, 7, 8, 9, 10)
scala&amp;gt; i += 1
scala&amp;gt; rdd.collect()
res2: Array[Int] = Array(2, 3, 4, 5, 6, 7, 8, 9, 10, 11)

Python:
&amp;gt;&amp;gt;&amp;gt; i = 0
&amp;gt;&amp;gt;&amp;gt; rdd = sc.parallelize(range(1, 10)).map(lambda x: x + i)
&amp;gt;&amp;gt;&amp;gt; rdd.collect()
[1, 2, 3, 4, 5, 6, 7, 8, 9]
&amp;gt;&amp;gt;&amp;gt; i += 1
&amp;gt;&amp;gt;&amp;gt; rdd.collect()
[1, 2, 3, 4, 5, 6, 7, 8, 9]
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;The difference is Scala will capture all variables&apos; values when running a job every time, but Python just captures variables&apos; values once and always uses them for all jobs.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12947124">SPARK-13691</key>
            <summary>Scala and Python generate inconsistent results</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/bug.png">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.png">Major</priority>
                        <status id="1" iconUrl="https://issues.apache.org/jira/images/icons/statuses/open.png" description="The issue is open and ready for the assignee to start work on it.">Open</status>
                    <statusCategory id="2" key="new" colorName="blue-gray"/>
                                    <resolution id="-1">Unresolved</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="zsxwing">Shixiong Zhu</reporter>
                        <labels>
                    </labels>
                <created>Fri, 4 Mar 2016 23:11:22 +0000</created>
                <updated>Mon, 7 Mar 2016 19:02:02 +0000</updated>
                                            <version>1.4.1</version>
                    <version>1.5.2</version>
                    <version>1.6.0</version>
                                                    <component>PySpark</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>6</watches>
                                                                <comments>
                            <comment id="15180724" author="zsxwing" created="Fri, 4 Mar 2016 23:13:07 +0000"  >&lt;p&gt;Ideally, PySpark should always capture all values when running a job like Scala.&lt;/p&gt;</comment>
                            <comment id="15181640" author="srowen" created="Sat, 5 Mar 2016 08:38:14 +0000"  >&lt;p&gt;I think this is just a language difference? Although changing it might bring Pyspark closer to Scala Spark, would it just make it behave less like Python?&lt;/p&gt;</comment>
                            <comment id="15183438" author="bryanc" created="Mon, 7 Mar 2016 18:44:43 +0000"  >&lt;p&gt;The reason for this is that Pyspark serializes the closure (including dependent variables) into a command and then uses that to construct a &lt;tt&gt;PythonRDD&lt;/tt&gt; which sends the command to a Python worker on &lt;tt&gt;RDD.compute&lt;/tt&gt;.&lt;/p&gt;</comment>
                            <comment id="15183465" author="zsxwing" created="Mon, 7 Mar 2016 19:00:37 +0000"  >&lt;p&gt;I would like to say the Scala behavior is more like the Python collection&apos;s behavior. E.g.,&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
&amp;gt;&amp;gt;&amp;gt; i = 0
&amp;gt;&amp;gt;&amp;gt; f = lambda x: x + i
&amp;gt;&amp;gt;&amp;gt; map(f, range(1, 10))
[1, 2, 3, 4, 5, 6, 7, 8, 9]
&amp;gt;&amp;gt;&amp;gt; i += 1
&amp;gt;&amp;gt;&amp;gt; map(f, range(1, 10))
[2, 3, 4, 5, 6, 7, 8, 9, 10]
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                                                <inwardlinks description="is related to">
                                        <issuelink>
            <issuekey id="12856979">SPARK-10086</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Sat, 5 Mar 2016 08:38:14 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i2u6kv:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                    </customfields>
    </item>

<item>
            <title>[SPARK-13690] UnsafeShuffleWriterSuite fails on arm64 (SnappyError, no native library is found)</title>
                <link>https://issues.apache.org/jira/browse/SPARK-13690</link>
                <project id="12315420" key="SPARK">Spark</project>
                    <description>&lt;p&gt;UnsafeShuffleWriterSuite fails because of missing Snappy native library on arm64.&lt;/p&gt;


&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
Tests run: 19, Failures: 0, Errors: 2, Skipped: 0, Time elapsed: 6.437 sec &amp;lt;&amp;lt;&amp;lt; FAILURE! - in org.apache.spark.shuffle.sort.UnsafeShuffleWriterSuite
mergeSpillsWithFileStreamAndSnappy(org.apache.spark.shuffle.sort.UnsafeShuffleWriterSuite)  Time elapsed: 0.072 sec  &amp;lt;&amp;lt;&amp;lt; ERROR!
java.lang.reflect.InvocationTargetException
	at org.apache.spark.shuffle.sort.UnsafeShuffleWriterSuite.testMergingSpills(UnsafeShuffleWriterSuite.java:337)
	at org.apache.spark.shuffle.sort.UnsafeShuffleWriterSuite.mergeSpillsWithFileStreamAndSnappy(UnsafeShuffleWriterSuite.java:389)
Caused by: java.lang.IllegalArgumentException: org.xerial.snappy.SnappyError: [FAILED_TO_LOAD_NATIVE_LIBRARY] no &lt;span class=&quot;code-keyword&quot;&gt;native&lt;/span&gt; library is found &lt;span class=&quot;code-keyword&quot;&gt;for&lt;/span&gt; os.name=Linux and os.arch=aarch64
	at org.apache.spark.shuffle.sort.UnsafeShuffleWriterSuite.testMergingSpills(UnsafeShuffleWriterSuite.java:337)
	at org.apache.spark.shuffle.sort.UnsafeShuffleWriterSuite.mergeSpillsWithFileStreamAndSnappy(UnsafeShuffleWriterSuite.java:389)
Caused by: org.xerial.snappy.SnappyError: [FAILED_TO_LOAD_NATIVE_LIBRARY] no &lt;span class=&quot;code-keyword&quot;&gt;native&lt;/span&gt; library is found &lt;span class=&quot;code-keyword&quot;&gt;for&lt;/span&gt; os.name=Linux and os.arch=aarch64
	at org.apache.spark.shuffle.sort.UnsafeShuffleWriterSuite.testMergingSpills(UnsafeShuffleWriterSuite.java:337)
	at org.apache.spark.shuffle.sort.UnsafeShuffleWriterSuite.mergeSpillsWithFileStreamAndSnappy(UnsafeShuffleWriterSuite.java:389)

mergeSpillsWithTransferToAndSnappy(org.apache.spark.shuffle.sort.UnsafeShuffleWriterSuite)  Time elapsed: 0.041 sec  &amp;lt;&amp;lt;&amp;lt; ERROR!
java.lang.reflect.InvocationTargetException
	at org.apache.spark.shuffle.sort.UnsafeShuffleWriterSuite.testMergingSpills(UnsafeShuffleWriterSuite.java:337)
	at org.apache.spark.shuffle.sort.UnsafeShuffleWriterSuite.mergeSpillsWithTransferToAndSnappy(UnsafeShuffleWriterSuite.java:384)
Caused by: java.lang.IllegalArgumentException: java.lang.NoClassDefFoundError: Could not initialize class org.xerial.snappy.Snappy
	at org.apache.spark.shuffle.sort.UnsafeShuffleWriterSuite.testMergingSpills(UnsafeShuffleWriterSuite.java:337)
	at org.apache.spark.shuffle.sort.UnsafeShuffleWriterSuite.mergeSpillsWithTransferToAndSnappy(UnsafeShuffleWriterSuite.java:384)
Caused by: java.lang.NoClassDefFoundError: Could not initialize class org.xerial.snappy.Snappy
	at org.apache.spark.shuffle.sort.UnsafeShuffleWriterSuite.testMergingSpills(UnsafeShuffleWriterSuite.java:337)
	at org.apache.spark.shuffle.sort.UnsafeShuffleWriterSuite.mergeSpillsWithTransferToAndSnappy(UnsafeShuffleWriterSuite.java:384)

Running org.apache.spark.JavaAPISuite
Tests run: 90, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 52.526 sec - in org.apache.spark.JavaAPISuite
Running org.apache.spark.unsafe.map.BytesToBytesMapOnHeapSuite
Tests run: 12, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 9.761 sec - in org.apache.spark.unsafe.map.BytesToBytesMapOnHeapSuite
Running org.apache.spark.unsafe.map.BytesToBytesMapOffHeapSuite
Tests run: 12, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 8.967 sec - in org.apache.spark.unsafe.map.BytesToBytesMapOffHeapSuite
Running org.apache.spark.api.java.OptionalSuite
Tests run: 8, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.003 sec - in org.apache.spark.api.java.OptionalSuite

Results :

Tests in error: 
  UnsafeShuffleWriterSuite.mergeSpillsWithFileStreamAndSnappy:389-&amp;gt;testMergingSpills:337 &#187; InvocationTarget
  UnsafeShuffleWriterSuite.mergeSpillsWithTransferToAndSnappy:384-&amp;gt;testMergingSpills:337 &#187; InvocationTarget
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</description>
                <environment>&lt;p&gt;$ java -version&lt;br/&gt;
java version &quot;1.8.0_73&quot;&lt;br/&gt;
Java(TM) SE Runtime Environment (build 1.8.0_73-b02)&lt;br/&gt;
Java HotSpot(TM) 64-Bit Server VM (build 25.73-b02, mixed mode)&lt;/p&gt;

&lt;p&gt;$ uname -a&lt;br/&gt;
Linux spark-on-arm 4.2.0-55598-g45f70e3 #5 SMP Tue Feb 2 10:14:08 CET 2016 aarch64 aarch64 aarch64 GNU/Linux&lt;/p&gt;</environment>
        <key id="12947119">SPARK-13690</key>
            <summary>UnsafeShuffleWriterSuite fails on arm64 (SnappyError, no native library is found)</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/bug.png">Bug</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.png">Minor</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="8">Not A Problem</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="smolav">Santiago M. Mola</reporter>
                        <labels>
                            <label>arm64</label>
                            <label>porting</label>
                    </labels>
                <created>Fri, 4 Mar 2016 22:45:27 +0000</created>
                <updated>Mon, 7 Mar 2016 09:25:57 +0000</updated>
                            <resolved>Mon, 7 Mar 2016 09:25:57 +0000</resolved>
                                    <version>2.0.0</version>
                                                    <component>Spark Core</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                <comments>
                            <comment id="15180713" author="srowen" created="Fri, 4 Mar 2016 23:04:03 +0000"  >&lt;p&gt;Hm, I doubt Spark would be considered supported on a platform like this for reasons like this. But I thought snappy-java would fall back to non-native code?&lt;/p&gt;</comment>
                            <comment id="15181362" author="smolav" created="Sat, 5 Mar 2016 00:37:56 +0000"  >&lt;p&gt;snappy-java does not have any fallback, but snappy seems to work on arm64 correctly. I submitted a PR for snappy-java, so a future version should have support. This issue will have to wait until such version is out.&lt;/p&gt;

&lt;p&gt;I don&apos;t expect active support for arm64, but given the latest developments on arm64 servers, I&apos;m interested in experimenting with it. It seems I&apos;m not the first one to think about it: &lt;a href=&quot;http://www.sparkonarm.com/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://www.sparkonarm.com/&lt;/a&gt; &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/wink.gif&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/p&gt;</comment>
                            <comment id="15182790" author="srowen" created="Mon, 7 Mar 2016 09:25:57 +0000"  >&lt;p&gt;OK, I&apos;m going to consider this not a (Spark) problem for the foreseeable future.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Fri, 4 Mar 2016 23:04:03 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i2u6jr:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        </customfields>
    </item>

<item>
            <title>[SPARK-13689] Move some methods in CatalystQl to a util object</title>
                <link>https://issues.apache.org/jira/browse/SPARK-13689</link>
                <project id="12315420" key="SPARK">Spark</project>
                    <description>&lt;p&gt;When we add more DDL parsing logic in the future, SparkQl will become very big. To keep it smaller, we&apos;ll introduce helper &quot;parser objects&quot;, e.g. one to parse alter table commands. However, these parser objects will need to access some helper methods that exist in CatalystQl. The proposal is to move those methods to an isolated ParserUtils object.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12947117">SPARK-13689</key>
            <summary>Move some methods in CatalystQl to a util object</summary>
                <type id="7" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/subtask_alternate.png">Sub-task</type>
                            <parent id="12935892">SPARK-13139</parent>
                                    <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.png">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="andrewor14">Andrew Or</assignee>
                                    <reporter username="andrewor14">Andrew Or</reporter>
                        <labels>
                    </labels>
                <created>Fri, 4 Mar 2016 22:39:11 +0000</created>
                <updated>Tue, 8 Mar 2016 02:02:12 +0000</updated>
                            <resolved>Tue, 8 Mar 2016 02:02:12 +0000</resolved>
                                                    <fixVersion>2.0.0</fixVersion>
                                    <component>SQL</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                <comments>
                            <comment id="15180673" author="apachespark" created="Fri, 4 Mar 2016 22:41:03 +0000"  >&lt;p&gt;User &apos;andrewor14&apos; has created a pull request for this issue:&lt;br/&gt;
&lt;a href=&quot;https://github.com/apache/spark/pull/11529&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://github.com/apache/spark/pull/11529&lt;/a&gt;&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Fri, 4 Mar 2016 22:41:03 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i2u6jb:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12310320" key="com.atlassian.jira.plugin.system.customfieldtypes:multiversion">
                        <customfieldname>Target Version/s</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue>12329449</customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        </customfields>
    </item>

<item>
            <title>[SPARK-13688] Add option to use dynamic allocation even if spark.executor.instances is set.</title>
                <link>https://issues.apache.org/jira/browse/SPARK-13688</link>
                <project id="12315420" key="SPARK">Spark</project>
                    <description>&lt;p&gt;When both spark.dynamicAllocation.enabled and spark.executor.instances are set, dynamic resource allocation is disabled (see &lt;a href=&quot;https://issues.apache.org/jira/browse/SPARK-9092&quot; title=&quot;Make --num-executors compatible with dynamic allocation&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SPARK-9092&quot;&gt;&lt;del&gt;SPARK-9092&lt;/del&gt;&lt;/a&gt;). This is a reasonable default, but I think there should be a configuration property to override it because it isn&apos;t obvious to users that dynamic allocation and number of executors are mutually exclusive. We see users setting --num-executors because that looks like what they want: a way to get more executors.&lt;/p&gt;

&lt;p&gt;I propose adding a new boolean property, spark.dynamicAllocation.overrideNumExecutors, that makes dynamic allocation the default when both are set and uses --num-executors as the minimum number of executors.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12947104">SPARK-13688</key>
            <summary>Add option to use dynamic allocation even if spark.executor.instances is set.</summary>
                <type id="4" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/improvement.png">Improvement</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.png">Minor</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="2">Won&apos;t Fix</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="rdblue">Ryan Blue</reporter>
                        <labels>
                    </labels>
                <created>Fri, 4 Mar 2016 21:53:18 +0000</created>
                <updated>Sun, 6 Mar 2016 20:10:32 +0000</updated>
                            <resolved>Sun, 6 Mar 2016 20:10:32 +0000</resolved>
                                    <version>1.6.0</version>
                                                    <component>YARN</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                <comments>
                            <comment id="15180636" author="apachespark" created="Fri, 4 Mar 2016 22:20:04 +0000"  >&lt;p&gt;User &apos;rdblue&apos; has created a pull request for this issue:&lt;br/&gt;
&lt;a href=&quot;https://github.com/apache/spark/pull/11528&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://github.com/apache/spark/pull/11528&lt;/a&gt;&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Fri, 4 Mar 2016 22:20:04 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i2u6gf:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        </customfields>
    </item>

<item>
            <title>[SPARK-13687] Cleanup pyspark temporary files</title>
                <link>https://issues.apache.org/jira/browse/SPARK-13687</link>
                <project id="12315420" key="SPARK">Spark</project>
                    <description>&lt;p&gt;Every time parallelize is called it creates temporary file for rdd in spark.local.dir/spark-uuid/pyspark-uuid/ directory. This directory deletes when context is closed, but for long running applications with permanently opened context this directory growth infinitely.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12947102">SPARK-13687</key>
            <summary>Cleanup pyspark temporary files</summary>
                <type id="4" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/improvement.png">Improvement</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.png">Major</priority>
                        <status id="1" iconUrl="https://issues.apache.org/jira/images/icons/statuses/open.png" description="The issue is open and ready for the assignee to start work on it.">Open</status>
                    <statusCategory id="2" key="new" colorName="blue-gray"/>
                                    <resolution id="-1">Unresolved</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="dtim">Damir</reporter>
                        <labels>
                    </labels>
                <created>Fri, 4 Mar 2016 21:52:07 +0000</created>
                <updated>Fri, 4 Mar 2016 21:52:07 +0000</updated>
                                            <version>1.5.2</version>
                    <version>1.6.0</version>
                                                    <component>PySpark</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                        <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i2u6fz:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                    </customfields>
    </item>

<item>
            <title>[SPARK-13686] Add a constructor parameter `reqParam` to (Streaming)LinearRegressionWithSGD</title>
                <link>https://issues.apache.org/jira/browse/SPARK-13686</link>
                <project id="12315420" key="SPARK">Spark</project>
                    <description>&lt;p&gt;`LinearRegressionWithSGD` and `StreamingLinearRegressionWithSGD` does not have `regParam` as their constructor arguments. They just depends on GradientDescent&apos;s default reqParam values. &lt;/p&gt;

&lt;p&gt;To be consistent with other algorithms, we had better add them.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12947095">SPARK-13686</key>
            <summary>Add a constructor parameter `reqParam` to (Streaming)LinearRegressionWithSGD</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/bug.png">Bug</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.png">Minor</priority>
                        <status id="3" iconUrl="https://issues.apache.org/jira/images/icons/statuses/inprogress.png" description="This issue is being actively worked on at the moment by the assignee.">In Progress</status>
                    <statusCategory id="4" key="indeterminate" colorName="yellow"/>
                                    <resolution id="-1">Unresolved</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="dongjoon">Dongjoon Hyun</reporter>
                        <labels>
                    </labels>
                <created>Fri, 4 Mar 2016 21:25:33 +0000</created>
                <updated>Fri, 4 Mar 2016 21:32:08 +0000</updated>
                                                                            <component>MLlib</component>
                    <component>Streaming</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                <comments>
                            <comment id="15180567" author="apachespark" created="Fri, 4 Mar 2016 21:32:05 +0000"  >&lt;p&gt;User &apos;dongjoon-hyun&apos; has created a pull request for this issue:&lt;br/&gt;
&lt;a href=&quot;https://github.com/apache/spark/pull/11527&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://github.com/apache/spark/pull/11527&lt;/a&gt;&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Fri, 4 Mar 2016 21:32:05 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i2u6ef:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                    </customfields>
    </item>

<item>
            <title>[SPARK-13685] Rename catalog.Catalog to ExternalCatalog</title>
                <link>https://issues.apache.org/jira/browse/SPARK-13685</link>
                <project id="12315420" key="SPARK">Spark</project>
                    <description></description>
                <environment></environment>
        <key id="12947087">SPARK-13685</key>
            <summary>Rename catalog.Catalog to ExternalCatalog</summary>
                <type id="7" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/subtask_alternate.png">Sub-task</type>
                            <parent id="12935045">SPARK-13075</parent>
                                    <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.png">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="andrewor14">Andrew Or</assignee>
                                    <reporter username="andrewor14">Andrew Or</reporter>
                        <labels>
                    </labels>
                <created>Fri, 4 Mar 2016 21:04:41 +0000</created>
                <updated>Mon, 7 Mar 2016 08:14:40 +0000</updated>
                            <resolved>Mon, 7 Mar 2016 08:14:40 +0000</resolved>
                                                    <fixVersion>2.0.0</fixVersion>
                                    <component>SQL</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                <comments>
                            <comment id="15180551" author="apachespark" created="Fri, 4 Mar 2016 21:21:06 +0000"  >&lt;p&gt;User &apos;andrewor14&apos; has created a pull request for this issue:&lt;br/&gt;
&lt;a href=&quot;https://github.com/apache/spark/pull/11526&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://github.com/apache/spark/pull/11526&lt;/a&gt;&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Fri, 4 Mar 2016 21:21:06 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i2u6cn:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12310320" key="com.atlassian.jira.plugin.system.customfieldtypes:multiversion">
                        <customfieldname>Target Version/s</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue>12329449</customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        </customfields>
    </item>

<item>
            <title>[SPARK-13684] Possible unsafe bytesRead increment in StreamInterceptor</title>
                <link>https://issues.apache.org/jira/browse/SPARK-13684</link>
                <project id="12315420" key="SPARK">Spark</project>
                    <description>&lt;p&gt;We unsafely increment a volatile (bytesRead) in a call back, if two call backs are triggered we may under count bytesRead. This issue was found using coverity.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12947085">SPARK-13684</key>
            <summary>Possible unsafe bytesRead increment in StreamInterceptor</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/bug.png">Bug</type>
                                            <priority id="5" iconUrl="https://issues.apache.org/jira/images/icons/priorities/trivial.png">Trivial</priority>
                        <status id="1" iconUrl="https://issues.apache.org/jira/images/icons/statuses/open.png" description="The issue is open and ready for the assignee to start work on it.">Open</status>
                    <statusCategory id="2" key="new" colorName="blue-gray"/>
                                    <resolution id="-1">Unresolved</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="holdenk">holdenk</reporter>
                        <labels>
                    </labels>
                <created>Fri, 4 Mar 2016 20:39:20 +0000</created>
                <updated>Sat, 5 Mar 2016 09:20:41 +0000</updated>
                                                                            <component>Spark Core</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>3</watches>
                                                                <comments>
                            <comment id="15180515" author="vanzin" created="Fri, 4 Mar 2016 20:47:05 +0000"  >&lt;p&gt;It&apos;s not a real bug; netty guarantees that, on the read pipeline, a single thread is running the handlers. The volatile is there for paranoia, in case two back-to-back handler invocations happen on different threads.&lt;/p&gt;</comment>
                            <comment id="15180544" author="srowen" created="Fri, 4 Mar 2016 21:17:27 +0000"  >&lt;p&gt;The alternative is AtomicDouble I suppose. If that&apos;s true, it&apos;s not necessary indeed. Is it worth it for future proofing or is this just not something that could break? then it can be dismissed as a false positive.&lt;/p&gt;</comment>
                            <comment id="15180549" author="vanzin" created="Fri, 4 Mar 2016 21:20:23 +0000"  >&lt;p&gt;I don&apos;t think it could break unless netty changes the contract significantly. I find that highly unlikely to happen, since there&apos;s not much sense in processing different buffers read from the same socket concurrently.&lt;/p&gt;</comment>
                            <comment id="15180550" author="holdenk" created="Fri, 4 Mar 2016 21:20:49 +0000"  >&lt;p&gt;We can use AtomicLong (so no need for using Doubles).&lt;/p&gt;</comment>
                            <comment id="15180554" author="vanzin" created="Fri, 4 Mar 2016 21:23:57 +0000"  >&lt;p&gt;If switching to AtomicLong gets rid of the warning, that&apos;s fine.&lt;/p&gt;</comment>
                            <comment id="15180575" author="holdenk" created="Fri, 4 Mar 2016 21:34:58 +0000"  >&lt;p&gt;It should (coverity doesn&apos;t trigger on any of the places where we use AtomicLong), although getting rid of the volatile keyword should also remove the warning (looking at the netty docs &lt;a href=&quot;http://netty.io/wiki/new-and-noteworthy-in-4.0.html#wiki-h2-34&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://netty.io/wiki/new-and-noteworthy-in-4.0.html#wiki-h2-34&lt;/a&gt; &quot;A user does not need to define a volatile field to keep the state of a handler.&quot;)&lt;/p&gt;</comment>
                            <comment id="15181647" author="srowen" created="Sat, 5 Mar 2016 09:20:41 +0000"  >&lt;p&gt;Hm OK this turns out to be a non-issue. I guess I think it&apos;s worth removing volatile then. Like the scanner, I&apos;d also read this assuming it was there for correctness when multiple threads access and then maybe be surprised it&apos;s not used that way. @holdenk I&apos;d say it&apos;s your call what to do.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Fri, 4 Mar 2016 20:47:05 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311020" key="com.atlassian.jira.plugin.system.customfieldtypes:url">
                        <customfieldname>External issue URL</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[https://scan9.coverity.com/reports.htm#v19380/p10860/fileInstanceId=2142772&defectInstanceId=410261&mergedDefectId=72472]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i2u6c7:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                    </customfields>
    </item>

<item>
            <title>[SPARK-13683] Finalize the public interface for OutputWriter[Factory]</title>
                <link>https://issues.apache.org/jira/browse/SPARK-13683</link>
                <project id="12315420" key="SPARK">Spark</project>
                    <description>&lt;p&gt;We need to at least remove bucketing.  I would also like to remove &lt;tt&gt;Job&lt;/tt&gt; and the configuration stuff as well if possible.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12947078">SPARK-13683</key>
            <summary>Finalize the public interface for OutputWriter[Factory]</summary>
                <type id="7" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/subtask_alternate.png">Sub-task</type>
                            <parent id="12946865">SPARK-13664</parent>
                                    <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.png">Major</priority>
                        <status id="1" iconUrl="https://issues.apache.org/jira/images/icons/statuses/open.png" description="The issue is open and ready for the assignee to start work on it.">Open</status>
                    <statusCategory id="2" key="new" colorName="blue-gray"/>
                                    <resolution id="-1">Unresolved</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="marmbrus">Michael Armbrust</reporter>
                        <labels>
                    </labels>
                <created>Fri, 4 Mar 2016 20:08:35 +0000</created>
                <updated>Fri, 4 Mar 2016 20:08:35 +0000</updated>
                                                                            <component>SQL</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>3</watches>
                                                                        <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i2u6an:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12310320" key="com.atlassian.jira.plugin.system.customfieldtypes:multiversion">
                        <customfieldname>Target Version/s</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue>12329449</customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                </customfields>
    </item>

<item>
            <title>[SPARK-13682] Finalize the public API for FileFormat</title>
                <link>https://issues.apache.org/jira/browse/SPARK-13682</link>
                <project id="12315420" key="SPARK">Spark</project>
                    <description>&lt;p&gt;The current file format interface needs to be cleaned up before its acceptable for public consumption:&lt;/p&gt;
&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;Have a version that takes Row and does a conversion, hide the internal API.&lt;/li&gt;
	&lt;li&gt;Remove bucketing&lt;/li&gt;
	&lt;li&gt;Remove RDD and the broadcastedConf&lt;/li&gt;
	&lt;li&gt;Remove SQLContext (maybe include SparkSession?)&lt;/li&gt;
	&lt;li&gt;Pass a better conf object&lt;/li&gt;
&lt;/ul&gt;
</description>
                <environment></environment>
        <key id="12947068">SPARK-13682</key>
            <summary>Finalize the public API for FileFormat</summary>
                <type id="7" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/subtask_alternate.png">Sub-task</type>
                            <parent id="12946865">SPARK-13664</parent>
                                    <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.png">Major</priority>
                        <status id="1" iconUrl="https://issues.apache.org/jira/images/icons/statuses/open.png" description="The issue is open and ready for the assignee to start work on it.">Open</status>
                    <statusCategory id="2" key="new" colorName="blue-gray"/>
                                    <resolution id="-1">Unresolved</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="marmbrus">Michael Armbrust</reporter>
                        <labels>
                    </labels>
                <created>Fri, 4 Mar 2016 19:31:58 +0000</created>
                <updated>Mon, 7 Mar 2016 23:05:06 +0000</updated>
                                                                            <component>SQL</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>3</watches>
                                                                <comments>
                            <comment id="15183949" author="rxin" created="Mon, 7 Mar 2016 23:05:06 +0000"  >&lt;p&gt;Most &quot;trait&quot; should probably become &quot;abstract class&quot;.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Mon, 7 Mar 2016 23:05:06 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i2u68f:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12310320" key="com.atlassian.jira.plugin.system.customfieldtypes:multiversion">
                        <customfieldname>Target Version/s</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue>12329449</customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                </customfields>
    </item>

<item>
            <title>[SPARK-13681] Reimplement CommitFailureTestRelationSuite</title>
                <link>https://issues.apache.org/jira/browse/SPARK-13681</link>
                <project id="12315420" key="SPARK">Spark</project>
                    <description>&lt;p&gt;This test case got broken by &lt;a href=&quot;https://github.com/apache/spark/pull/11509&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;#11509&lt;/a&gt;.  We should reimplement it as a format.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12947064">SPARK-13681</key>
            <summary>Reimplement CommitFailureTestRelationSuite</summary>
                <type id="7" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/subtask_alternate.png">Sub-task</type>
                            <parent id="12946865">SPARK-13664</parent>
                                    <priority id="1" iconUrl="https://issues.apache.org/jira/images/icons/priorities/blocker.png">Blocker</priority>
                        <status id="1" iconUrl="https://issues.apache.org/jira/images/icons/statuses/open.png" description="The issue is open and ready for the assignee to start work on it.">Open</status>
                    <statusCategory id="2" key="new" colorName="blue-gray"/>
                                    <resolution id="-1">Unresolved</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="marmbrus">Michael Armbrust</reporter>
                        <labels>
                    </labels>
                <created>Fri, 4 Mar 2016 19:18:13 +0000</created>
                <updated>Fri, 4 Mar 2016 19:20:23 +0000</updated>
                                                                            <component>SQL</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                        <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i2u67j:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12310320" key="com.atlassian.jira.plugin.system.customfieldtypes:multiversion">
                        <customfieldname>Target Version/s</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue>12329449</customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                </customfields>
    </item>

<item>
            <title>[SPARK-13680] Java UDAF with more than one intermediate argument returns wrong results</title>
                <link>https://issues.apache.org/jira/browse/SPARK-13680</link>
                <project id="12315420" key="SPARK">Spark</project>
                    <description>&lt;p&gt;I am trying to incorporate the Java UDAF from &lt;a href=&quot;https://github.com/apache/spark/blob/master/sql/hive/src/test/java/org/apache/spark/sql/hive/aggregate/MyDoubleAvg.java&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://github.com/apache/spark/blob/master/sql/hive/src/test/java/org/apache/spark/sql/hive/aggregate/MyDoubleAvg.java&lt;/a&gt; into an SQL query. &lt;br/&gt;
I registered the UDAF like this:&lt;br/&gt;
 sqlContext.udf().register(&quot;myavg&quot;, new MyDoubleAvg());&lt;/p&gt;

&lt;p&gt;My SQL query is:&lt;br/&gt;
SELECT AVG(seqi) AS `avg_seqi`, AVG(seqd) AS `avg_seqd`, AVG(ci) AS `avg_ci`, AVG(cd) AS `avg_cd`, AVG(stdevd) AS `avg_stdevd`, AVG(stdevi) AS `avg_stdevi`, MAX(seqi) AS `max_seqi`, MAX(seqd) AS `max_seqd`, MAX(ci) AS `max_ci`, MAX(cd) AS `max_cd`, MAX(stdevd) AS `max_stdevd`, MAX(stdevi) AS `max_stdevi`, MIN(seqi) AS `min_seqi`, MIN(seqd) AS `min_seqd`, MIN(ci) AS `min_ci`, MIN(cd) AS `min_cd`, MIN(stdevd) AS `min_stdevd`, MIN(stdevi) AS `min_stdevi`,SUM(seqi) AS `sum_seqi`, SUM(seqd) AS `sum_seqd`, SUM(ci) AS `sum_ci`, SUM(cd) AS `sum_cd`, SUM(stdevd) AS `sum_stdevd`, SUM(stdevi) AS `sum_stdevi`, myavg(seqd) as `myavg_seqd`,          AVG(zero) AS `avg_zero`, AVG(nulli) AS `avg_nulli`,AVG(nulld) AS `avg_nulld`, SUM(zero) AS `sum_zero`, SUM(nulli) AS `sum_nulli`,SUM(nulld) AS `sum_nulld`,MAX(zero) AS `max_zero`, MAX(nulli) AS `max_nulli`,MAX(nulld) AS `max_nulld`,count( * ) AS `count_all`, count(nulli) AS `count_nulli` FROM mytable&lt;/p&gt;

&lt;p&gt;As soon as I add the UDAF myavg to the SQL, all the results become incorrect. When I remove the call to the UDAF, the results are correct.&lt;br/&gt;
I was able to go around the issue by modifying bufferSchema of the UDAF to use an array and the corresponding update and merge methods. &lt;/p&gt;</description>
                <environment>&lt;p&gt;CDH 5.5.2&lt;/p&gt;</environment>
        <key id="12947015">SPARK-13680</key>
            <summary>Java UDAF with more than one intermediate argument returns wrong results</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/bug.png">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.png">Major</priority>
                        <status id="1" iconUrl="https://issues.apache.org/jira/images/icons/statuses/open.png" description="The issue is open and ready for the assignee to start work on it.">Open</status>
                    <statusCategory id="2" key="new" colorName="blue-gray"/>
                                    <resolution id="-1">Unresolved</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="yael">Yael Aharon</reporter>
                        <labels>
                    </labels>
                <created>Fri, 4 Mar 2016 16:22:12 +0000</created>
                <updated>Fri, 4 Mar 2016 18:09:28 +0000</updated>
                                            <version>1.5.0</version>
                                                    <component>SQL</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                <comments>
                            <comment id="15180096" author="yael" created="Fri, 4 Mar 2016 16:26:46 +0000"  >&lt;p&gt;I attached data.csv which is the data used for this test&lt;/p&gt;</comment>
                            <comment id="15180120" author="yael" created="Fri, 4 Mar 2016 16:42:21 +0000"  >&lt;p&gt;I found this in the spark executor logs when running the MyDoubleAVG UDAF. Execution continued in spite of this exception:&lt;/p&gt;

&lt;p&gt;java.lang.ClassCastException: org.apache.spark.sql.types.GenericArrayData cannot be cast to java.lang.Long&lt;br/&gt;
	at scala.runtime.BoxesRunTime.unboxToLong(BoxesRunTime.java:110)&lt;br/&gt;
	at org.apache.spark.sql.catalyst.expressions.BaseGenericInternalRow$class.getLong(rows.scala:41)&lt;br/&gt;
	at org.apache.spark.sql.catalyst.expressions.GenericMutableRow.getLong(rows.scala:247)&lt;br/&gt;
	at org.apache.spark.sql.catalyst.expressions.JoinedRow.getLong(JoinedRow.scala:85)&lt;br/&gt;
	at org.apache.spark.sql.catalyst.expressions.GeneratedClass$SpecificMutableProjection.apply772_0$(Unknown Source)&lt;br/&gt;
	at org.apache.spark.sql.catalyst.expressions.GeneratedClass$SpecificMutableProjection.apply(Unknown Source)&lt;br/&gt;
	at org.apache.spark.sql.execution.aggregate.AggregationIterator$$anonfun$11.apply(AggregationIterator.scala:174)&lt;br/&gt;
	at org.apache.spark.sql.execution.aggregate.AggregationIterator$$anonfun$11.apply(AggregationIterator.scala:171)&lt;br/&gt;
	at org.apache.spark.sql.execution.aggregate.SortBasedAggregationIterator.processCurrentSortedGroup(SortBasedAggregationIterator.scala:100)&lt;br/&gt;
	at org.apache.spark.sql.execution.aggregate.SortBasedAggregationIterator.next(SortBasedAggregationIterator.scala:139)&lt;br/&gt;
	at org.apache.spark.sql.execution.aggregate.SortBasedAggregationIterator.next(SortBasedAggregationIterator.scala:30)&lt;br/&gt;
	at scala.collection.Iterator$$anon$11.next(Iterator.scala:328)&lt;br/&gt;
	at scala.collection.Iterator$$anon$11.next(Iterator.scala:328)&lt;br/&gt;
	at org.apache.spark.shuffle.sort.BypassMergeSortShuffleWriter.insertAll(BypassMergeSortShuffleWriter.java:119)&lt;br/&gt;
	at org.apache.spark.shuffle.sort.SortShuffleWriter.write(SortShuffleWriter.scala:74)&lt;br/&gt;
	at org.apache.spark.scheduler.ShuffleMapTask.runTask(ShuffleMapTask.scala:73)&lt;br/&gt;
	at org.apache.spark.scheduler.ShuffleMapTask.runTask(ShuffleMapTask.scala:41)&lt;br/&gt;
	at org.apache.spark.scheduler.Task.run(Task.scala:88)&lt;br/&gt;
	at org.apache.spark.executor.Executor$TaskRunner.run(Executor.scala:214)&lt;br/&gt;
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1145)&lt;br/&gt;
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:615)&lt;br/&gt;
	at java.lang.Thread.run(Thread.java:745)&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12791489" name="data.csv" size="4414" author="yael" created="Fri, 4 Mar 2016 16:26:22 +0000"/>
                            <attachment id="12791502" name="setup.hql" size="246" author="yael" created="Fri, 4 Mar 2016 18:09:28 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i2u5wn:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                    </customfields>
    </item>

<item>
            <title>[SPARK-13679] Pyspark job fails with Oozie</title>
                <link>https://issues.apache.org/jira/browse/SPARK-13679</link>
                <project id="12315420" key="SPARK">Spark</project>
                    <description>&lt;p&gt;Hello,&lt;/p&gt;

&lt;p&gt;I&apos;m trying to run pi.py example in a pyspark job with Oozie. Every try I made failed for the same reason: key not found: SPARK_HOME. &lt;br/&gt;
Note: A scala job works well in the environment with Oozie. &lt;/p&gt;

&lt;p&gt;The logs on the executors are:&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;SLF4J: Class path contains multiple SLF4J bindings.
SLF4J: Found binding in [jar:file:/mnt/hd4/hadoop/yarn/local/filecache/145/slf4j-log4j12-1.6.6.jar!/org/slf4j/impl/StaticLoggerBinder.class]
SLF4J: Found binding in [jar:file:/mnt/hd2/hadoop/yarn/local/filecache/155/spark-assembly-1.6.0-hadoop2.7.1.jar!/org/slf4j/impl/StaticLoggerBinder.class]
SLF4J: Found binding in [jar:file:/opt/application/Hadoop/hadoop-2.7.2/share/hadoop/common/lib/slf4j-log4j12-1.7.10.jar!/org/slf4j/impl/StaticLoggerBinder.class]
SLF4J: See http://www.slf4j.org/codes.html#multiple_bindings for an explanation.
SLF4J: Actual binding is of type [org.slf4j.impl.Log4jLoggerFactory]
log4j:ERROR setFile(null,true) call failed.
java.io.FileNotFoundException: /mnt/hd7/hadoop/yarn/log/application_1454673025841_13136/container_1454673025841_13136_01_000001 (Is a directory)
        at java.io.FileOutputStream.open(Native Method)
        at java.io.FileOutputStream.&amp;lt;init&amp;gt;(FileOutputStream.java:221)
        at java.io.FileOutputStream.&amp;lt;init&amp;gt;(FileOutputStream.java:142)
        at org.apache.log4j.FileAppender.setFile(FileAppender.java:294)
        at org.apache.log4j.FileAppender.activateOptions(FileAppender.java:165)
        at org.apache.hadoop.yarn.ContainerLogAppender.activateOptions(ContainerLogAppender.java:55)
        at org.apache.log4j.config.PropertySetter.activate(PropertySetter.java:307)
        at org.apache.log4j.config.PropertySetter.setProperties(PropertySetter.java:172)
        at org.apache.log4j.config.PropertySetter.setProperties(PropertySetter.java:104)
        at org.apache.log4j.PropertyConfigurator.parseAppender(PropertyConfigurator.java:809)
        at org.apache.log4j.PropertyConfigurator.parseCategory(PropertyConfigurator.java:735)
        at org.apache.log4j.PropertyConfigurator.configureRootCategory(PropertyConfigurator.java:615)
        at org.apache.log4j.PropertyConfigurator.doConfigure(PropertyConfigurator.java:502)
        at org.apache.log4j.PropertyConfigurator.doConfigure(PropertyConfigurator.java:547)
        at org.apache.log4j.helpers.OptionConverter.selectAndConfigure(OptionConverter.java:483)
        at org.apache.log4j.LogManager.&amp;lt;clinit&amp;gt;(LogManager.java:127)
        at org.slf4j.impl.Log4jLoggerFactory.getLogger(Log4jLoggerFactory.java:64)
        at org.slf4j.LoggerFactory.getLogger(LoggerFactory.java:285)
        at org.apache.commons.logging.impl.SLF4JLogFactory.getInstance(SLF4JLogFactory.java:155)
        at org.apache.commons.logging.impl.SLF4JLogFactory.getInstance(SLF4JLogFactory.java:132)
        at org.apache.commons.logging.LogFactory.getLog(LogFactory.java:275)
        at org.apache.hadoop.service.AbstractService.&amp;lt;clinit&amp;gt;(AbstractService.java:43)
Using properties file: null
Parsed arguments:
  master                  yarn-master
  deployMode              cluster
  executorMemory          null
  executorCores           null
  totalExecutorCores      null
  propertiesFile          null
  driverMemory            null
  driverCores             null
  driverExtraClassPath    null
  driverExtraLibraryPath  null
  driverExtraJavaOptions  null
  supervise               false
  queue                   null
  numExecutors            null
  files                   null
  pyFiles                 null
  archives                null
  mainClass               null
  primaryResource         hdfs://hadoopsandbox/User/toto/WORK/Oozie/pyspark/lib/pi.py
  name                    Pysparkpi example
  childArgs               [100]
  jars                    null
  packages                null
  packagesExclusions      null
  repositories            null
  verbose                 true

Spark properties used, including those specified through
 --conf and those from the properties file null:
  spark.executorEnv.SPARK_HOME -&amp;gt; /opt/application/Spark/current
  spark.executorEnv.PYTHONPATH -&amp;gt; /opt/application/Spark/current/python
  spark.yarn.appMasterEnv.SPARK_HOME -&amp;gt; /opt/application/Spark/current


Main class:
org.apache.spark.deploy.yarn.Client
Arguments:
--name
Pysparkpi example
--primary-py-file
hdfs://hadoopsandbox/User/toto/WORK/Oozie/pyspark/lib/pi.py
--class
org.apache.spark.deploy.PythonRunner
--arg
100
System properties:
spark.executorEnv.SPARK_HOME -&amp;gt; /opt/application/Spark/current
spark.executorEnv.PYTHONPATH -&amp;gt; /opt/application/Spark/current/python
SPARK_SUBMIT -&amp;gt; true
spark.app.name -&amp;gt; Pysparkpi example
spark.submit.deployMode -&amp;gt; cluster
spark.yarn.appMasterEnv.SPARK_HOME -&amp;gt; /opt/application/Spark/current
spark.yarn.isPython -&amp;gt; true
spark.master -&amp;gt; yarn-cluster
Classpath elements:



Failing Oozie Launcher, Main class [org.apache.oozie.action.hadoop.SparkMain], main() threw exception, key not found: SPARK_HOME
java.util.NoSuchElementException: key not found: SPARK_HOME
        at scala.collection.MapLike$class.default(MapLike.scala:228)
        at scala.collection.AbstractMap.default(Map.scala:58)
        at scala.collection.MapLike$class.apply(MapLike.scala:141)
        at scala.collection.AbstractMap.apply(Map.scala:58)
        at org.apache.spark.deploy.yarn.Client$$anonfun$findPySparkArchives$2.apply(Client.scala:1045)
        at org.apache.spark.deploy.yarn.Client$$anonfun$findPySparkArchives$2.apply(Client.scala:1044)
        at scala.Option.getOrElse(Option.scala:120)
        at org.apache.spark.deploy.yarn.Client.findPySparkArchives(Client.scala:1044)
        at org.apache.spark.deploy.yarn.Client.createContainerLaunchContext(Client.scala:717)
        at org.apache.spark.deploy.yarn.Client.submitApplication(Client.scala:142)
        at org.apache.spark.deploy.yarn.Client.run(Client.scala:1016)
        at org.apache.spark.deploy.yarn.Client$.main(Client.scala:1076)
        at org.apache.spark.deploy.yarn.Client.main(Client.scala)
        at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
        at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:57)
        at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
        at java.lang.reflect.Method.invoke(Method.java:606)
        at org.apache.spark.deploy.SparkSubmit$.org$apache$spark$deploy$SparkSubmit$$runMain(SparkSubmit.scala:731)
        at org.apache.spark.deploy.SparkSubmit$.doRunMain$1(SparkSubmit.scala:181)
        at org.apache.spark.deploy.SparkSubmit$.submit(SparkSubmit.scala:206)
        at org.apache.spark.deploy.SparkSubmit$.main(SparkSubmit.scala:121)
        at org.apache.spark.deploy.SparkSubmit.main(SparkSubmit.scala)
        at org.apache.oozie.action.hadoop.SparkMain.runSpark(SparkMain.java:104)
        at org.apache.oozie.action.hadoop.SparkMain.run(SparkMain.java:95)
        at org.apache.oozie.action.hadoop.LauncherMain.run(LauncherMain.java:47)
        at org.apache.oozie.action.hadoop.SparkMain.main(SparkMain.java:38)
        at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
        at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:57)
        at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
        at java.lang.reflect.Method.invoke(Method.java:606)
        at org.apache.oozie.action.hadoop.LauncherMapper.map(LauncherMapper.java:236)
        at org.apache.hadoop.mapred.MapRunner.run(MapRunner.java:54)
        at org.apache.hadoop.mapred.MapTask.runOldMapper(MapTask.java:453)
        at org.apache.hadoop.mapred.MapTask.run(MapTask.java:343)
        at org.apache.hadoop.mapred.LocalContainerLauncher$EventHandler.runSubtask(LocalContainerLauncher.java:380)
        at org.apache.hadoop.mapred.LocalContainerLauncher$EventHandler.runTask(LocalContainerLauncher.java:301)
        at org.apache.hadoop.mapred.LocalContainerLauncher$EventHandler.access$200(LocalContainerLauncher.java:187)
        at org.apache.hadoop.mapred.LocalContainerLauncher$EventHandler$1.run(LocalContainerLauncher.java:230)
        at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:471)
        at java.util.concurrent.FutureTask.run(FutureTask.java:262)
        at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1145)
        at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:615)
        at java.lang.Thread.run(Thread.java:745)
log4j:WARN No appenders could be found for logger (org.apache.hadoop.mapreduce.v2.app.MRAppMaster).
log4j:WARN Please initialize the log4j system properly.
log4j:WARN See http://logging.apache.org/log4j/1.2/faq.html#noconfig for more info.
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;The workflow used for Oozie is the following:&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;&amp;lt;workflow-app xmlns=&apos;uri:oozie:workflow:0.5&apos; name=&apos;PysparkPi-test&apos;&amp;gt;
        &amp;lt;start to=&apos;spark-node&apos; /&amp;gt;
        &amp;lt;action name=&apos;spark-node&apos;&amp;gt;
                &amp;lt;spark xmlns=&quot;uri:oozie:spark-action:0.1&quot;&amp;gt;
                        &amp;lt;job-tracker&amp;gt;${jobTracker}&amp;lt;/job-tracker&amp;gt;
                        &amp;lt;name-node&amp;gt;${nameNode}&amp;lt;/name-node&amp;gt;
                        &amp;lt;master&amp;gt;${master}&amp;lt;/master&amp;gt;
                        &amp;lt;mode&amp;gt;${mode}&amp;lt;/mode&amp;gt;
                        &amp;lt;name&amp;gt;Pysparkpi example&amp;lt;/name&amp;gt;
                        &amp;lt;class&amp;gt;&amp;lt;/class&amp;gt;
                        &amp;lt;jar&amp;gt;${nameNode}/User/toto/WORK/Oozie/pyspark/lib/pi.py&amp;lt;/jar&amp;gt;
                        &amp;lt;spark-opts&amp;gt;--conf spark.yarn.appMasterEnv.SPARK_HOME=/opt/application/Spark/current --conf spark.executorEnv.SPARK_HOME=/opt/application/Spark/current --conf spark.executorEnv.PYTHONPATH=/opt/application/Spark/current/python&amp;lt;/spark-opts&amp;gt;
                        &amp;lt;arg&amp;gt;100&amp;lt;/arg&amp;gt;
                &amp;lt;/spark&amp;gt;
                &amp;lt;ok to=&quot;end&quot; /&amp;gt;
                &amp;lt;error to=&quot;fail&quot; /&amp;gt;
        &amp;lt;/action&amp;gt;
        &amp;lt;kill name=&quot;fail&quot;&amp;gt;
                &amp;lt;message&amp;gt;Workflow failed, error message[${wf:errorMessage(wf:lastErrorNode())}]&amp;lt;/message&amp;gt;
        &amp;lt;/kill&amp;gt;
        &amp;lt;end name=&apos;end&apos; /&amp;gt;
&amp;lt;/workflow-app&amp;gt;
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</description>
                <environment>&lt;p&gt;Hadoop 2.7.2, Spark 1.6.0 on Yarn, Oozie 4.2.0&lt;br/&gt;
Cluster secured with Kerberos&lt;/p&gt;</environment>
        <key id="12947007">SPARK-13679</key>
            <summary>Pyspark job fails with Oozie</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/bug.png">Bug</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.png">Minor</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="8">Not A Problem</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="BigDataOrange">Alexandre Linte</reporter>
                        <labels>
                    </labels>
                <created>Fri, 4 Mar 2016 16:02:36 +0000</created>
                <updated>Mon, 7 Mar 2016 18:45:27 +0000</updated>
                            <resolved>Mon, 7 Mar 2016 18:45:27 +0000</resolved>
                                    <version>1.6.0</version>
                                                    <component>PySpark</component>
                    <component>Spark Submit</component>
                    <component>YARN</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>4</watches>
                                                                <comments>
                            <comment id="15183040" author="zjffdu" created="Mon, 7 Mar 2016 14:13:28 +0000"  >&lt;p&gt;You should ask this kind of question in oozie user mail list first ( seems you miss the configuration for SPARK_HOME). If it is confirmed a spark issue, then create jira.&lt;/p&gt;</comment>
                            <comment id="15183439" author="srowen" created="Mon, 7 Mar 2016 18:45:27 +0000"  >&lt;p&gt;This does not look like a Spark problem per se&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Mon, 7 Mar 2016 14:13:28 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i2u5uv:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        </customfields>
    </item>

<item>
            <title>[SPARK-13678] transformExpressions should only apply on QueryPlan.expressions</title>
                <link>https://issues.apache.org/jira/browse/SPARK-13678</link>
                <project id="12315420" key="SPARK">Spark</project>
                    <description></description>
                <environment></environment>
        <key id="12946969">SPARK-13678</key>
            <summary>transformExpressions should only apply on QueryPlan.expressions</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/bug.png">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.png">Major</priority>
                        <status id="3" iconUrl="https://issues.apache.org/jira/images/icons/statuses/inprogress.png" description="This issue is being actively worked on at the moment by the assignee.">In Progress</status>
                    <statusCategory id="4" key="indeterminate" colorName="yellow"/>
                                    <resolution id="-1">Unresolved</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="cloud_fan">Wenchen Fan</reporter>
                        <labels>
                    </labels>
                <created>Fri, 4 Mar 2016 13:09:28 +0000</created>
                <updated>Fri, 4 Mar 2016 13:29:07 +0000</updated>
                                                                            <component>SQL</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                <comments>
                            <comment id="15179871" author="apachespark" created="Fri, 4 Mar 2016 13:29:05 +0000"  >&lt;p&gt;User &apos;cloud-fan&apos; has created a pull request for this issue:&lt;br/&gt;
&lt;a href=&quot;https://github.com/apache/spark/pull/11521&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://github.com/apache/spark/pull/11521&lt;/a&gt;&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Fri, 4 Mar 2016 13:29:05 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i2u5mf:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                    </customfields>
    </item>

<item>
            <title>[SPARK-13677] Support Tree-Based Feature Transformation for mllib</title>
                <link>https://issues.apache.org/jira/browse/SPARK-13677</link>
                <project id="12315420" key="SPARK">Spark</project>
                    <description>&lt;p&gt;It would be nice to be able to use RF and GBT for feature transformation:&lt;br/&gt;
First fit an ensemble of trees (like RF, GBT or other TreeEnsambleModels) on the training set. Then each leaf of each tree in the ensemble is assigned a fixed arbitrary feature index in a new feature space. These leaf indices are then encoded in a one-hot fashion.&lt;/p&gt;

&lt;p&gt;This method was first introduced by facebook(&lt;a href=&quot;http://www.herbrich.me/papers/adclicksfacebook.pdf&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://www.herbrich.me/papers/adclicksfacebook.pdf&lt;/a&gt;), and is implemented in two famous library:&lt;br/&gt;
sklearn (&lt;a href=&quot;http://scikit-learn.org/stable/auto_examples/ensemble/plot_feature_transformation.html#example-ensemble-plot-feature-transformation-py&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://scikit-learn.org/stable/auto_examples/ensemble/plot_feature_transformation.html#example-ensemble-plot-feature-transformation-py&lt;/a&gt;)&lt;br/&gt;
xgboost (&lt;a href=&quot;https://github.com/dmlc/xgboost/blob/master/demo/guide-python/predict_leaf_indices.py&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://github.com/dmlc/xgboost/blob/master/demo/guide-python/predict_leaf_indices.py&lt;/a&gt;)&lt;/p&gt;

&lt;p&gt;I have implement it in mllib:&lt;/p&gt;

&lt;p&gt;val features : RDD&lt;span class=&quot;error&quot;&gt;&amp;#91;Vector&amp;#93;&lt;/span&gt; = ...&lt;br/&gt;
val model1 : RandomForestModel = ...&lt;br/&gt;
val transformed1 : RDD&lt;span class=&quot;error&quot;&gt;&amp;#91;Vector&amp;#93;&lt;/span&gt; = model1.leaf(features)&lt;/p&gt;

&lt;p&gt;val model2 : GradientBoostedTreesModel = ...&lt;br/&gt;
val transformed2 : RDD&lt;span class=&quot;error&quot;&gt;&amp;#91;Vector&amp;#93;&lt;/span&gt; = model2.leaf(features)&lt;/p&gt;
</description>
                <environment></environment>
        <key id="12946964">SPARK-13677</key>
            <summary>Support Tree-Based Feature Transformation for mllib</summary>
                <type id="2" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/newfeature.png">New Feature</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.png">Minor</priority>
                        <status id="3" iconUrl="https://issues.apache.org/jira/images/icons/statuses/inprogress.png" description="This issue is being actively worked on at the moment by the assignee.">In Progress</status>
                    <statusCategory id="4" key="indeterminate" colorName="yellow"/>
                                    <resolution id="-1">Unresolved</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="podongfeng">zhengruifeng</reporter>
                        <labels>
                    </labels>
                <created>Fri, 4 Mar 2016 12:25:26 +0000</created>
                <updated>Sun, 6 Mar 2016 21:04:20 +0000</updated>
                                                                            <component>MLlib</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                <comments>
                            <comment id="15179827" author="apachespark" created="Fri, 4 Mar 2016 12:36:03 +0000"  >&lt;p&gt;User &apos;zhengruifeng&apos; has created a pull request for this issue:&lt;br/&gt;
&lt;a href=&quot;https://github.com/apache/spark/pull/11520&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://github.com/apache/spark/pull/11520&lt;/a&gt;&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Fri, 4 Mar 2016 12:36:03 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i2u5lb:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                    </customfields>
    </item>

<item>
            <title>[SPARK-13676] Fix mismatched default values for regParam in LogisticRegression</title>
                <link>https://issues.apache.org/jira/browse/SPARK-13676</link>
                <project id="12315420" key="SPARK">Spark</project>
                    <description>&lt;p&gt;The default value of regularization parameter for `LogisticRegression` algorithm is different in Scala and Python. We should provide the same value.&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-style: solid;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeHeader panelHeader&quot; style=&quot;border-bottom-width: 1px;border-bottom-style: solid;&quot;&gt;&lt;b&gt;Scala&lt;/b&gt;&lt;/div&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
scala&amp;gt; &lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; org.apache.spark.ml.classification.LogisticRegression().getRegParam
res0: &lt;span class=&quot;code-object&quot;&gt;Double&lt;/span&gt; = 0.0
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-style: solid;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeHeader panelHeader&quot; style=&quot;border-bottom-width: 1px;border-bottom-style: solid;&quot;&gt;&lt;b&gt;Python&lt;/b&gt;&lt;/div&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
&amp;gt;&amp;gt;&amp;gt; from pyspark.ml.classification &lt;span class=&quot;code-keyword&quot;&gt;import&lt;/span&gt; LogisticRegression
&amp;gt;&amp;gt;&amp;gt; LogisticRegression().getRegParam()
0.1
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</description>
                <environment></environment>
        <key id="12946958">SPARK-13676</key>
            <summary>Fix mismatched default values for regParam in LogisticRegression</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/bug.png">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.png">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="dongjoon">Dongjoon Hyun</assignee>
                                    <reporter username="dongjoon">Dongjoon Hyun</reporter>
                        <labels>
                    </labels>
                <created>Fri, 4 Mar 2016 11:50:14 +0000</created>
                <updated>Fri, 4 Mar 2016 16:27:54 +0000</updated>
                            <resolved>Fri, 4 Mar 2016 16:25:49 +0000</resolved>
                                                    <fixVersion>2.0.0</fixVersion>
                                    <component>ML</component>
                    <component>MLlib</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>3</watches>
                                                                <comments>
                            <comment id="15179792" author="apachespark" created="Fri, 4 Mar 2016 12:03:04 +0000"  >&lt;p&gt;User &apos;dongjoon-hyun&apos; has created a pull request for this issue:&lt;br/&gt;
&lt;a href=&quot;https://github.com/apache/spark/pull/11519&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://github.com/apache/spark/pull/11519&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="15180092" author="mengxr" created="Fri, 4 Mar 2016 16:25:49 +0000"  >&lt;p&gt;Issue resolved by pull request 11519&lt;br/&gt;
&lt;a href=&quot;https://github.com/apache/spark/pull/11519&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://github.com/apache/spark/pull/11519&lt;/a&gt;&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Fri, 4 Mar 2016 12:03:04 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i2u5jz:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12310320" key="com.atlassian.jira.plugin.system.customfieldtypes:multiversion">
                        <customfieldname>Target Version/s</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue>12329449</customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        </customfields>
    </item>

<item>
            <title>[SPARK-13675] The url link in historypage is not correct for application running in yarn cluster mode</title>
                <link>https://issues.apache.org/jira/browse/SPARK-13675</link>
                <project id="12315420" key="SPARK">Spark</project>
                    <description>&lt;p&gt;Current URL for each application to access history UI is like: &lt;br/&gt;
&lt;a href=&quot;http://localhost:18080/history/application_1457058760338_0016/1/jobs/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://localhost:18080/history/application_1457058760338_0016/1/jobs/&lt;/a&gt; or &lt;a href=&quot;http://localhost:18080/history/application_1457058760338_0016/2/jobs/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://localhost:18080/history/application_1457058760338_0016/2/jobs/&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Here &lt;b&gt;1&lt;/b&gt; or &lt;b&gt;2&lt;/b&gt; represents the number of attempts in &lt;tt&gt;historypage.js&lt;/tt&gt;, but it will parse to attempt id in &lt;tt&gt;HistoryServer&lt;/tt&gt;, while the correct attempt id should be like &quot;appattempt_1457058760338_0016_000002&quot;, so it will fail to parse to a correct attempt id in &lt;tt&gt;HistoryServer&lt;/tt&gt;.&lt;/p&gt;

&lt;p&gt;This is OK in yarn client mode, since we don&apos;t need this attempt id to fetch out the app cache, but it is failed in yarn cluster mode, where attempt id &quot;1&quot; or &quot;2&quot; is actually wrong.&lt;/p&gt;

&lt;p&gt;So here we should fix this url to parse the correct application id and attempt id.&lt;/p&gt;

&lt;p&gt;This bug is newly introduced in &lt;a href=&quot;https://issues.apache.org/jira/browse/SPARK-10873&quot; title=&quot;Change history to use datatables to support sorting columns and searching&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SPARK-10873&quot;&gt;&lt;del&gt;SPARK-10873&lt;/del&gt;&lt;/a&gt;, there&apos;s no issue in branch 1.6.&lt;/p&gt;

&lt;p&gt;Here is the screenshot:&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;https://issues.apache.org/jira/secure/attachment/12791437/Screen%20Shot%202016-02-29%20at%203.57.32%20PM.png&quot; align=&quot;absmiddle&quot; border=&quot;0&quot; /&gt;&lt;/p&gt;</description>
                <environment></environment>
        <key id="12946941">SPARK-13675</key>
            <summary>The url link in historypage is not correct for application running in yarn cluster mode</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/bug.png">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.png">Major</priority>
                        <status id="3" iconUrl="https://issues.apache.org/jira/images/icons/statuses/inprogress.png" description="This issue is being actively worked on at the moment by the assignee.">In Progress</status>
                    <statusCategory id="4" key="indeterminate" colorName="yellow"/>
                                    <resolution id="-1">Unresolved</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="jerryshao">Saisai Shao</reporter>
                        <labels>
                    </labels>
                <created>Fri, 4 Mar 2016 10:06:48 +0000</created>
                <updated>Fri, 4 Mar 2016 10:25:08 +0000</updated>
                                            <version>2.0.0</version>
                                                    <component>Spark Core</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                <comments>
                            <comment id="15179683" author="apachespark" created="Fri, 4 Mar 2016 10:25:05 +0000"  >&lt;p&gt;User &apos;jerryshao&apos; has created a pull request for this issue:&lt;br/&gt;
&lt;a href=&quot;https://github.com/apache/spark/pull/11518&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://github.com/apache/spark/pull/11518&lt;/a&gt;&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12791437" name="Screen Shot 2016-02-29 at 3.57.32 PM.png" size="54425" author="jerryshao" created="Fri, 4 Mar 2016 10:08:49 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Fri, 4 Mar 2016 10:25:05 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i2u5g7:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                    </customfields>
    </item>

<item>
            <title>[SPARK-13674] Add wholestage codegen support to Sample</title>
                <link>https://issues.apache.org/jira/browse/SPARK-13674</link>
                <project id="12315420" key="SPARK">Spark</project>
                    <description>&lt;p&gt;Sample operator doesn&apos;t support wholestage codegen now. This issue is opened to add support for it.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12946933">SPARK-13674</key>
            <summary>Add wholestage codegen support to Sample</summary>
                <type id="4" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/improvement.png">Improvement</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.png">Major</priority>
                        <status id="3" iconUrl="https://issues.apache.org/jira/images/icons/statuses/inprogress.png" description="This issue is being actively worked on at the moment by the assignee.">In Progress</status>
                    <statusCategory id="4" key="indeterminate" colorName="yellow"/>
                                    <resolution id="-1">Unresolved</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="viirya">Liang-Chi Hsieh</reporter>
                        <labels>
                    </labels>
                <created>Fri, 4 Mar 2016 09:44:17 +0000</created>
                <updated>Fri, 4 Mar 2016 09:50:06 +0000</updated>
                                                                            <component>SQL</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>3</watches>
                                                                <comments>
                            <comment id="15179639" author="apachespark" created="Fri, 4 Mar 2016 09:50:03 +0000"  >&lt;p&gt;User &apos;viirya&apos; has created a pull request for this issue:&lt;br/&gt;
&lt;a href=&quot;https://github.com/apache/spark/pull/11517&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://github.com/apache/spark/pull/11517&lt;/a&gt;&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Fri, 4 Mar 2016 09:50:03 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i2u5ef:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                    </customfields>
    </item>

<item>
            <title>[SPARK-13673] script bin\beeline.cmd pollutes environment variables in Windows.</title>
                <link>https://issues.apache.org/jira/browse/SPARK-13673</link>
                <project id="12315420" key="SPARK">Spark</project>
                    <description>&lt;p&gt;&lt;tt&gt;bin\beeline.cmd&lt;/tt&gt; pollutes environment variables in Windows.&lt;br/&gt;
The similar problem is reported and fixed in &lt;a href=&quot;https://issues.apache.org/jira/browse/SPARK-3943&quot; title=&quot;Some scripts bin\*.cmd pollutes environment variables in Windows.&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SPARK-3943&quot;&gt;&lt;del&gt;SPARK-3943&lt;/del&gt;&lt;/a&gt;, but &lt;tt&gt;bin\beeline.cmd&lt;/tt&gt; is added later.&lt;/p&gt;</description>
                <environment>&lt;p&gt;Windows 8.1&lt;/p&gt;</environment>
        <key id="12946918">SPARK-13673</key>
            <summary>script bin\beeline.cmd pollutes environment variables in Windows.</summary>
                <type id="4" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/improvement.png">Improvement</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.png">Minor</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="tsudukim">Masayoshi TSUZUKI</assignee>
                                    <reporter username="tsudukim">Masayoshi TSUZUKI</reporter>
                        <labels>
                    </labels>
                <created>Fri, 4 Mar 2016 08:37:53 +0000</created>
                <updated>Fri, 4 Mar 2016 13:54:19 +0000</updated>
                            <resolved>Fri, 4 Mar 2016 13:54:07 +0000</resolved>
                                    <version>1.6.0</version>
                                    <fixVersion>2.0.0</fixVersion>
                                    <component>Windows</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>3</watches>
                                                                <comments>
                            <comment id="15179578" author="apachespark" created="Fri, 4 Mar 2016 08:55:03 +0000"  >&lt;p&gt;User &apos;tsudukim&apos; has created a pull request for this issue:&lt;br/&gt;
&lt;a href=&quot;https://github.com/apache/spark/pull/11516&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://github.com/apache/spark/pull/11516&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="15179898" author="srowen" created="Fri, 4 Mar 2016 13:54:07 +0000"  >&lt;p&gt;Issue resolved by pull request 11516&lt;br/&gt;
&lt;a href=&quot;https://github.com/apache/spark/pull/11516&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://github.com/apache/spark/pull/11516&lt;/a&gt;&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Fri, 4 Mar 2016 08:55:03 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i2u5b3:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        </customfields>
    </item>

<item>
            <title>[SPARK-13672] Add python examples of BisectingKMeans in ML and MLLIB</title>
                <link>https://issues.apache.org/jira/browse/SPARK-13672</link>
                <project id="12315420" key="SPARK">Spark</project>
                    <description>&lt;p&gt;add the missing python examples of BisectingKMeans for ml and mllib&lt;/p&gt;</description>
                <environment></environment>
        <key id="12946914">SPARK-13672</key>
            <summary>Add python examples of BisectingKMeans in ML and MLLIB</summary>
                <type id="4" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/improvement.png">Improvement</type>
                                            <priority id="5" iconUrl="https://issues.apache.org/jira/images/icons/priorities/trivial.png">Trivial</priority>
                        <status id="3" iconUrl="https://issues.apache.org/jira/images/icons/statuses/inprogress.png" description="This issue is being actively worked on at the moment by the assignee.">In Progress</status>
                    <statusCategory id="4" key="indeterminate" colorName="yellow"/>
                                    <resolution id="-1">Unresolved</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="podongfeng">zhengruifeng</reporter>
                        <labels>
                    </labels>
                <created>Fri, 4 Mar 2016 08:24:40 +0000</created>
                <updated>Fri, 4 Mar 2016 08:27:07 +0000</updated>
                                                                            <component>ML</component>
                    <component>MLlib</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                <comments>
                            <comment id="15179555" author="apachespark" created="Fri, 4 Mar 2016 08:27:04 +0000"  >&lt;p&gt;User &apos;zhengruifeng&apos; has created a pull request for this issue:&lt;br/&gt;
&lt;a href=&quot;https://github.com/apache/spark/pull/11515&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://github.com/apache/spark/pull/11515&lt;/a&gt;&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Fri, 4 Mar 2016 08:27:04 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i2u5a7:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                    </customfields>
    </item>

<item>
            <title>[SPARK-13671] Use different physical plan for existing RDD and data sources</title>
                <link>https://issues.apache.org/jira/browse/SPARK-13671</link>
                <project id="12315420" key="SPARK">Spark</project>
                    <description>&lt;p&gt;Right now, we use PhysicalRDD for both existing RDD and data sources, they are becoming much different, we should use different physical plans for them.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12946912">SPARK-13671</key>
            <summary>Use different physical plan for existing RDD and data sources</summary>
                <type id="3" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/task.png">Task</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.png">Major</priority>
                        <status id="3" iconUrl="https://issues.apache.org/jira/images/icons/statuses/inprogress.png" description="This issue is being actively worked on at the moment by the assignee.">In Progress</status>
                    <statusCategory id="4" key="indeterminate" colorName="yellow"/>
                                    <resolution id="-1">Unresolved</resolution>
                                        <assignee username="davies">Davies Liu</assignee>
                                    <reporter username="davies">Davies Liu</reporter>
                        <labels>
                    </labels>
                <created>Fri, 4 Mar 2016 08:01:16 +0000</created>
                <updated>Fri, 4 Mar 2016 08:06:11 +0000</updated>
                                                                            <component>SQL</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>3</watches>
                                                                <comments>
                            <comment id="15179538" author="apachespark" created="Fri, 4 Mar 2016 08:06:08 +0000"  >&lt;p&gt;User &apos;davies&apos; has created a pull request for this issue:&lt;br/&gt;
&lt;a href=&quot;https://github.com/apache/spark/pull/11514&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://github.com/apache/spark/pull/11514&lt;/a&gt;&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Fri, 4 Mar 2016 08:06:08 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i2u59r:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                    </customfields>
    </item>

<item>
            <title>[SPARK-13670] spark-class doesn&apos;t bubble up error from launcher command</title>
                <link>https://issues.apache.org/jira/browse/SPARK-13670</link>
                <project id="12315420" key="SPARK">Spark</project>
                    <description>&lt;p&gt;There&apos;s a particular snippet in spark-class &lt;a href=&quot;https://github.com/apache/spark/blob/master/bin/spark-class#L86&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;here&lt;/a&gt; that runs the spark-launcher code in a subshell.&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
# The launcher library will print arguments separated by a NULL character, to allow arguments with
# characters that would be otherwise interpreted by the shell. Read that in a &lt;span class=&quot;code-keyword&quot;&gt;while&lt;/span&gt; loop, populating
# an array that will be used to exec the &lt;span class=&quot;code-keyword&quot;&gt;final&lt;/span&gt; command.
CMD=()
&lt;span class=&quot;code-keyword&quot;&gt;while&lt;/span&gt; IFS= read -d &apos;&apos; -r ARG; &lt;span class=&quot;code-keyword&quot;&gt;do&lt;/span&gt;
  CMD+=(&lt;span class=&quot;code-quote&quot;&gt;&quot;$ARG&quot;&lt;/span&gt;)
done &amp;lt; &amp;lt;(&lt;span class=&quot;code-quote&quot;&gt;&quot;$RUNNER&quot;&lt;/span&gt; -cp &lt;span class=&quot;code-quote&quot;&gt;&quot;$LAUNCH_CLASSPATH&quot;&lt;/span&gt; org.apache.spark.launcher.Main &lt;span class=&quot;code-quote&quot;&gt;&quot;$@&quot;&lt;/span&gt;)
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;The problem is that the if the launcher Main fails, this code still still returns success and continues, even though the top level script is marked &lt;tt&gt;set -e&lt;/tt&gt;. This is because the launcher.Main is run within a subshell.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12946906">SPARK-13670</key>
            <summary>spark-class doesn&apos;t bubble up error from launcher command</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/bug.png">Bug</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.png">Minor</priority>
                        <status id="1" iconUrl="https://issues.apache.org/jira/images/icons/statuses/open.png" description="The issue is open and ready for the assignee to start work on it.">Open</status>
                    <statusCategory id="2" key="new" colorName="blue-gray"/>
                                    <resolution id="-1">Unresolved</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="mgrover">Mark Grover</reporter>
                        <labels>
                    </labels>
                <created>Fri, 4 Mar 2016 07:06:27 +0000</created>
                <updated>Fri, 4 Mar 2016 22:31:34 +0000</updated>
                                            <version>2.0.0</version>
                                                    <component>Spark Submit</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                <comments>
                            <comment id="15179491" author="mgrover" created="Fri, 4 Mar 2016 07:13:40 +0000"  >&lt;p&gt;cc &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=vanzin&quot; class=&quot;user-hover&quot; rel=&quot;vanzin&quot;&gt;Marcelo Vanzin&lt;/a&gt; as fyi.&lt;br/&gt;
I ran into this when I was running &lt;tt&gt;dev/mima&lt;/tt&gt;. It should have failed because I didn&apos;t have the tools jar and launcher.main() did throw an exception but the subshell ate it all up and the mima testing continued, eventually giving me a ton of errors since the exclusions list wasn&apos;t correctly populated.&lt;/p&gt;

&lt;p&gt;Anyways, there are a few ways I can think of fixing it, open to others as well:&lt;br/&gt;
1. We could just fix the symptom and have the dev/mima script, explicitly check for tools directory and tools jar in bash and break, if it&apos;s not present. However, a) that&apos;s just fixing the symptom, not the root cause, b) we already have those checks in launcher code.&lt;br/&gt;
2. We could have the command write the output to a file instead of reading it directly from a subshell. Then, that makes error handling easier.&lt;br/&gt;
3. We can have the subshell kill the parent process on error, essentially running the subshell like so:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
(&lt;span class=&quot;code-quote&quot;&gt;&quot;$RUNNER&quot;&lt;/span&gt; -cp &lt;span class=&quot;code-quote&quot;&gt;&quot;$LAUNCH_CLASSPATH&quot;&lt;/span&gt; org.apache.spark.launcher.Main &lt;span class=&quot;code-quote&quot;&gt;&quot;$@&quot;&lt;/span&gt; || kill $$)
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;The side effect is that any other subshells spawned by the parent, i.e. spark-class will be terminated as well. Based on a quick look, I didn&apos;t see any other subshells though.&lt;/p&gt;

&lt;p&gt;Thoughts? Preferences?&lt;/p&gt;</comment>
                            <comment id="15180427" author="vanzin" created="Fri, 4 Mar 2016 19:41:26 +0000"  >&lt;p&gt;After some fun playing with arcane bash syntax, here&apos;s something that worked for me:&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
run_command() {
  CMD=()
  &lt;span class=&quot;code-keyword&quot;&gt;while&lt;/span&gt; IFS=&apos;&apos; read -d &apos;&apos; -r ARG; &lt;span class=&quot;code-keyword&quot;&gt;do&lt;/span&gt;
    echo &lt;span class=&quot;code-quote&quot;&gt;&quot;line: $ARG&quot;&lt;/span&gt;
    CMD+=(&lt;span class=&quot;code-quote&quot;&gt;&quot;$ARG&quot;&lt;/span&gt;)
  done
  &lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt; [ ${#CMD[@]} -gt 0 ]; then
    exec &lt;span class=&quot;code-quote&quot;&gt;&quot;${CMD[@]}&quot;&lt;/span&gt;
  fi
}

set -o pipefail
&lt;span class=&quot;code-quote&quot;&gt;&quot;$RUNNER&quot;&lt;/span&gt; -cp &lt;span class=&quot;code-quote&quot;&gt;&quot;$LAUNCH_CLASSPATH&quot;&lt;/span&gt; org.apache.spark.launcher.Main &lt;span class=&quot;code-quote&quot;&gt;&quot;$@&quot;&lt;/span&gt; | run_command
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Example:&lt;/p&gt;

&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;$ ./bin/spark-shell 
NOTE: SPARK_PREPEND_CLASSES is set, placing locally compiled Spark classes ahead of assembly.
Exception in thread &quot;main&quot; java.lang.IllegalArgumentException: Testing, testing, testing...
        at org.apache.spark.launcher.Main.main(Main.java:93)

$ echo $?
1
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
</comment>
                            <comment id="15180444" author="vanzin" created="Fri, 4 Mar 2016 19:53:29 +0000"  >&lt;p&gt;Note that will probably leave a bash process running somewhere alongside the Spark jvm, so probably would need tweaks to avoid that... bash is fun.&lt;/p&gt;</comment>
                            <comment id="15180455" author="vanzin" created="Fri, 4 Mar 2016 20:00:34 +0000"  >&lt;p&gt;Actually scrap that, it breaks things when the spark-shell actually runs... back to the drawing board.&lt;/p&gt;</comment>
                            <comment id="15180463" author="mgrover" created="Fri, 4 Mar 2016 20:08:01 +0000"  >&lt;p&gt;Thanks for looking at this. What do you think of #2 - writing the output to a file?&lt;/p&gt;</comment>
                            <comment id="15180479" author="vanzin" created="Fri, 4 Mar 2016 20:14:54 +0000"  >&lt;p&gt;Not a fan... you have to write the file somewhere, clean it up, worry about who can read it, all sorts of stuff. Better to avoid it.&lt;/p&gt;</comment>
                            <comment id="15180489" author="vanzin" created="Fri, 4 Mar 2016 20:19:30 +0000"  >&lt;p&gt;Here&apos;s something a little ugly that works though:&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
build_command() {
  &lt;span class=&quot;code-quote&quot;&gt;&quot;$RUNNER&quot;&lt;/span&gt; -cp &lt;span class=&quot;code-quote&quot;&gt;&quot;$LAUNCH_CLASSPATH&quot;&lt;/span&gt; org.apache.spark.launcher.Main &lt;span class=&quot;code-quote&quot;&gt;&quot;$@&quot;&lt;/span&gt;
  EC=$?
  &lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt; [ $EC -ne 0 ]; then
    printf &lt;span class=&quot;code-quote&quot;&gt;&quot;%d\0&quot;&lt;/span&gt; $EC
  fi
}

CMD=()
&lt;span class=&quot;code-keyword&quot;&gt;while&lt;/span&gt; IFS= read -d &apos;&apos; -r ARG; &lt;span class=&quot;code-keyword&quot;&gt;do&lt;/span&gt;
  CMD+=(&lt;span class=&quot;code-quote&quot;&gt;&quot;$ARG&quot;&lt;/span&gt;)
done &amp;lt; &amp;lt;(build_command &lt;span class=&quot;code-quote&quot;&gt;&quot;$@&quot;&lt;/span&gt;)

&lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt; [ ${#CMD[@]} -eq 1 ]; then
  exit ${CMD[0]}
fi

exec &lt;span class=&quot;code-quote&quot;&gt;&quot;${CMD[@]}&quot;&lt;/span&gt;
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</comment>
                            <comment id="15180516" author="mgrover" created="Fri, 4 Mar 2016 20:48:06 +0000"  >&lt;p&gt;And, it&apos;s guaranteed that Main would never return that output?&lt;/p&gt;

&lt;p&gt;I feel like we may be overloading too much here but again, I don&apos;t have any non-ugly ideas either. We may just have to choose our poison.&lt;/p&gt;</comment>
                            <comment id="15180535" author="vanzin" created="Fri, 4 Mar 2016 21:06:53 +0000"  >&lt;blockquote&gt;&lt;p&gt;And, it&apos;s guaranteed that Main would never return that output?&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;I&apos;m reasonably sure it won&apos;t. I just tried spark-shell, pyspark and sparkR and they all work (since they all generate multiple command line arguments).&lt;/p&gt;

&lt;p&gt;But if worried about that, you could always append the exit code to the output of &lt;tt&gt;build_command&lt;/tt&gt; by always executing the printf. Then just remove the exit code in the parent shell, something like:&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
COUNT=${#CMD[@]}
EC=${CMD[$COUNT]}
CMD=&lt;span class=&quot;code-quote&quot;&gt;&quot;${CMD[@]:0:$((COUNT -1))}&quot;&lt;/span&gt;
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Not 100% sure about the syntax, but seems to work in a quick test.&lt;/p&gt;</comment>
                            <comment id="15180643" author="vanzin" created="Fri, 4 Mar 2016 22:22:01 +0000"  >&lt;p&gt;Here&apos;s one that works regardless of the output of Main. It would be nice to have someone try this on MacOS.&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
# The launcher library will print arguments separated by a NULL character, to allow arguments with
# characters that would be otherwise interpreted by the shell. Read that in a &lt;span class=&quot;code-keyword&quot;&gt;while&lt;/span&gt; loop, populating
# an array that will be used to exec the &lt;span class=&quot;code-keyword&quot;&gt;final&lt;/span&gt; command.
#
# The exit code of the launcher is appended to the output, so the parent shell removes it from the
# command array and checks the value to see &lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt; the launcher succeeded.
build_command() {
  &lt;span class=&quot;code-quote&quot;&gt;&quot;$RUNNER&quot;&lt;/span&gt; -cp &lt;span class=&quot;code-quote&quot;&gt;&quot;$LAUNCH_CLASSPATH&quot;&lt;/span&gt; org.apache.spark.launcher.Main &lt;span class=&quot;code-quote&quot;&gt;&quot;$@&quot;&lt;/span&gt;
  printf &lt;span class=&quot;code-quote&quot;&gt;&quot;%d\0&quot;&lt;/span&gt; $?
}

CMD=()
&lt;span class=&quot;code-keyword&quot;&gt;while&lt;/span&gt; IFS= read -d &apos;&apos; -r ARG; &lt;span class=&quot;code-keyword&quot;&gt;do&lt;/span&gt;
  CMD+=(&lt;span class=&quot;code-quote&quot;&gt;&quot;$ARG&quot;&lt;/span&gt;)
done &amp;lt; &amp;lt;(build_command &lt;span class=&quot;code-quote&quot;&gt;&quot;$@&quot;&lt;/span&gt;)

COUNT=${#CMD[@]}
LAST=$((COUNT - 1))
EC=${CMD[$LAST]}
&lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt; [ $EC != 0 ]; then
  exit $EC
fi

CMD=(&lt;span class=&quot;code-quote&quot;&gt;&quot;${CMD[@]:0:$LAST}&quot;&lt;/span&gt;)
exec &lt;span class=&quot;code-quote&quot;&gt;&quot;${CMD[@]}&quot;&lt;/span&gt;
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</comment>
                            <comment id="15180663" author="mgrover" created="Fri, 4 Mar 2016 22:31:34 +0000"  >&lt;p&gt;I have a mac, I can do some more testing.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Fri, 4 Mar 2016 19:41:26 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i2u58f:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                    </customfields>
    </item>

<item>
            <title>[SPARK-13669] Job will always fail in the external shuffle service unavailable situation</title>
                <link>https://issues.apache.org/jira/browse/SPARK-13669</link>
                <project id="12315420" key="SPARK">Spark</project>
                    <description>&lt;p&gt;Currently we are running into an issue with Yarn work preserving enabled + external shuffle service. &lt;/p&gt;

&lt;p&gt;In the work preserving enabled scenario, the failure of NM will not lead to the exit of executors, so executors can still accept and run the tasks. The problem here is when NM is failed, external shuffle service is actually inaccessible, so reduce tasks will always complain about the &#8220;Fetch failure&#8221;, and the failure of reduce stage will make the parent stage (map stage) rerun. The tricky thing here is Spark scheduler is not aware of the unavailability of external shuffle service, and will reschedule the map tasks on the executor where NM is failed, and again reduce stage will be failed with &#8220;Fetch failure&#8221;, and after 4 retries, the job is failed.&lt;/p&gt;

&lt;p&gt;So here the actual problem is Spark&#8217;s scheduler is not aware of the unavailability of external shuffle service, and will still assign the tasks on to that nodes. The fix is to avoid assigning tasks on to that nodes.&lt;/p&gt;

&lt;p&gt;Currently in the Spark, one related configuration is &#8220;spark.scheduler.executorTaskBlacklistTime&#8221;, but I don&#8217;t think it will be worked in this scenario. This configuration is used to avoid same reattempt task to run on the same executor. Also ways like MapReduce&#8217;s blacklist mechanism may not handle this scenario, since all the reduce tasks will be failed, so counting the failure tasks will equally mark all the executors as &#8220;bad&#8221; one.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12946904">SPARK-13669</key>
            <summary>Job will always fail in the external shuffle service unavailable situation</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/bug.png">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.png">Major</priority>
                        <status id="1" iconUrl="https://issues.apache.org/jira/images/icons/statuses/open.png" description="The issue is open and ready for the assignee to start work on it.">Open</status>
                    <statusCategory id="2" key="new" colorName="blue-gray"/>
                                    <resolution id="-1">Unresolved</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="jerryshao">Saisai Shao</reporter>
                        <labels>
                    </labels>
                <created>Fri, 4 Mar 2016 06:56:36 +0000</created>
                <updated>Fri, 4 Mar 2016 07:08:21 +0000</updated>
                                                                            <component>Spark Core</component>
                    <component>YARN</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                <comments>
                            <comment id="15179485" author="jerryshao" created="Fri, 4 Mar 2016 07:08:21 +0000"  >&lt;p&gt;Hi &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=imranr&quot; class=&quot;user-hover&quot; rel=&quot;imranr&quot;&gt;Imran Rashid&lt;/a&gt;, I think you fixed this issue (&lt;a href=&quot;https://issues.apache.org/jira/browse/SPARK-9439&quot; title=&quot;ExternalShuffleService should be robust to NodeManager restarts in yarn&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SPARK-9439&quot;&gt;&lt;del&gt;SPARK-9439&lt;/del&gt;&lt;/a&gt;) and have much knowledge on scheduler and blacklist things, would you please comment on this issue, thanks a lot.&lt;/p&gt;













</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i2u57z:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                    </customfields>
    </item>

<item>
            <title>[SPARK-13668] Reorder filter/join predicates to short-circuit isNotNull checks</title>
                <link>https://issues.apache.org/jira/browse/SPARK-13668</link>
                <project id="12315420" key="SPARK">Spark</project>
                    <description>&lt;p&gt;If a filter predicate or a join condition consists of `IsNotNull` checks, we should reorder these checks such that these non-nullability checks are evaluated before the rest of the predicates.&lt;/p&gt;

&lt;p&gt;For e.g., if a filter predicate is of the form `a &amp;gt; 5 &amp;amp;&amp;amp; isNotNull(b)`, we should rewrite this as `isNotNull(b) &amp;amp;&amp;amp; a &amp;gt; 5` during physical plan generation.&lt;/p&gt;

&lt;p&gt;cc &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=nongli&quot; class=&quot;user-hover&quot; rel=&quot;nongli&quot;&gt;Nong Li&lt;/a&gt; &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=yhuai&quot; class=&quot;user-hover&quot; rel=&quot;yhuai&quot;&gt;Yin Huai&lt;/a&gt;&lt;/p&gt;</description>
                <environment></environment>
        <key id="12946886">SPARK-13668</key>
            <summary>Reorder filter/join predicates to short-circuit isNotNull checks</summary>
                <type id="4" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/improvement.png">Improvement</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.png">Minor</priority>
                        <status id="3" iconUrl="https://issues.apache.org/jira/images/icons/statuses/inprogress.png" description="This issue is being actively worked on at the moment by the assignee.">In Progress</status>
                    <statusCategory id="4" key="indeterminate" colorName="yellow"/>
                                    <resolution id="-1">Unresolved</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="sameerag">Sameer Agarwal</reporter>
                        <labels>
                    </labels>
                <created>Fri, 4 Mar 2016 04:54:17 +0000</created>
                <updated>Sun, 6 Mar 2016 21:04:15 +0000</updated>
                                                                            <component>SQL</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                <comments>
                            <comment id="15179318" author="apachespark" created="Fri, 4 Mar 2016 04:57:03 +0000"  >&lt;p&gt;User &apos;sameeragarwal&apos; has created a pull request for this issue:&lt;br/&gt;
&lt;a href=&quot;https://github.com/apache/spark/pull/11511&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://github.com/apache/spark/pull/11511&lt;/a&gt;&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Fri, 4 Mar 2016 04:57:03 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i2u53z:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12311620" key="com.atlassian.jira.plugin.system.customfieldtypes:userpicker">
                        <customfieldname>Shepherd</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>nongli</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                <customfield id="customfield_12310320" key="com.atlassian.jira.plugin.system.customfieldtypes:multiversion">
                        <customfieldname>Target Version/s</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue>12329449</customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                </customfields>
    </item>

<item>
            <title>[SPARK-13667] Support for specifying custom date format for date and timestamp types</title>
                <link>https://issues.apache.org/jira/browse/SPARK-13667</link>
                <project id="12315420" key="SPARK">Spark</project>
                    <description>&lt;p&gt;Currently, CSV data source does not support to parse date and timestamp types in custom format and infer the type of timestamp type  in custom format.&lt;/p&gt;

&lt;p&gt;It looks quite many of users want this feature. It would be great to set custom date format.&lt;/p&gt;

&lt;p&gt;This was reported in spark-csv.&lt;br/&gt;
&lt;a href=&quot;https://github.com/databricks/spark-csv/issues/279&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://github.com/databricks/spark-csv/issues/279&lt;/a&gt;&lt;br/&gt;
&lt;a href=&quot;https://github.com/databricks/spark-csv/issues/262&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://github.com/databricks/spark-csv/issues/262&lt;/a&gt;&lt;br/&gt;
&lt;a href=&quot;https://github.com/databricks/spark-csv/issues/266&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://github.com/databricks/spark-csv/issues/266&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Currently I submitted a PR for this in spark-csv&lt;br/&gt;
&lt;a href=&quot;https://github.com/databricks/spark-csv/pull/280&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://github.com/databricks/spark-csv/pull/280&lt;/a&gt;&lt;/p&gt;</description>
                <environment></environment>
        <key id="12946877">SPARK-13667</key>
            <summary>Support for specifying custom date format for date and timestamp types</summary>
                <type id="7" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/subtask_alternate.png">Sub-task</type>
                            <parent id="12922975">SPARK-12420</parent>
                                    <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.png">Minor</priority>
                        <status id="3" iconUrl="https://issues.apache.org/jira/images/icons/statuses/inprogress.png" description="This issue is being actively worked on at the moment by the assignee.">In Progress</status>
                    <statusCategory id="4" key="indeterminate" colorName="yellow"/>
                                    <resolution id="-1">Unresolved</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="hyukjin.kwon">Hyukjin Kwon</reporter>
                        <labels>
                    </labels>
                <created>Fri, 4 Mar 2016 04:26:27 +0000</created>
                <updated>Mon, 7 Mar 2016 01:20:06 +0000</updated>
                                            <version>2.0.0</version>
                                                    <component>SQL</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                <comments>
                            <comment id="15182431" author="apachespark" created="Mon, 7 Mar 2016 01:20:03 +0000"  >&lt;p&gt;User &apos;HyukjinKwon&apos; has created a pull request for this issue:&lt;br/&gt;
&lt;a href=&quot;https://github.com/apache/spark/pull/11550&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://github.com/apache/spark/pull/11550&lt;/a&gt;&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Mon, 7 Mar 2016 01:20:03 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i2u51z:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                    </customfields>
    </item>

<item>
            <title>[SPARK-13666] Annoying warnings from SQLConf in log output</title>
                <link>https://issues.apache.org/jira/browse/SPARK-13666</link>
                <project id="12315420" key="SPARK">Spark</project>
                    <description>&lt;p&gt;Whenever I run spark-shell I get a bunch of warnings about SQL configuration:&lt;/p&gt;

&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;16/03/03 19:00:25 WARN hive.HiveSessionState$$anon$1: Attempt to set non-Spark SQL config in SQLConf: key = spark.yarn.driver.memoryOverhead, value = 26
16/03/03 19:00:25 WARN hive.HiveSessionState$$anon$1: Attempt to set non-Spark SQL config in SQLConf: key = spark.yarn.executor.memoryOverhead, value = 26
16/03/03 19:00:25 WARN hive.HiveSessionState$$anon$1: Attempt to set non-Spark SQL config in SQLConf: key = spark.executor.cores, value = 1
16/03/03 19:00:25 WARN hive.HiveSessionState$$anon$1: Attempt to set non-Spark SQL config in SQLConf: key = spark.executor.memory, value = 268435456
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;That should&apos;t happen, since I&apos;m not setting those values explicitly. They&apos;re either set internally by Spark or come from spark-defaults.conf.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12946869">SPARK-13666</key>
            <summary>Annoying warnings from SQLConf in log output</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/bug.png">Bug</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.png">Minor</priority>
                        <status id="1" iconUrl="https://issues.apache.org/jira/images/icons/statuses/open.png" description="The issue is open and ready for the assignee to start work on it.">Open</status>
                    <statusCategory id="2" key="new" colorName="blue-gray"/>
                                    <resolution id="-1">Unresolved</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="vanzin">Marcelo Vanzin</reporter>
                        <labels>
                    </labels>
                <created>Fri, 4 Mar 2016 03:02:26 +0000</created>
                <updated>Fri, 4 Mar 2016 03:02:26 +0000</updated>
                                            <version>2.0.0</version>
                                                    <component>SQL</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                        <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i2u507:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                    </customfields>
    </item>

<item>
            <title>[SPARK-13665] Initial separation of concerns</title>
                <link>https://issues.apache.org/jira/browse/SPARK-13665</link>
                <project id="12315420" key="SPARK">Spark</project>
                    <description>&lt;p&gt;The goal here is to break apart: File Management, code to deal with specific formats and query planning.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12946866">SPARK-13665</key>
            <summary>Initial separation of concerns</summary>
                <type id="7" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/subtask_alternate.png">Sub-task</type>
                            <parent id="12946865">SPARK-13664</parent>
                                    <priority id="1" iconUrl="https://issues.apache.org/jira/images/icons/priorities/blocker.png">Blocker</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="marmbrus">Michael Armbrust</assignee>
                                    <reporter username="marmbrus">Michael Armbrust</reporter>
                        <labels>
                    </labels>
                <created>Fri, 4 Mar 2016 02:44:48 +0000</created>
                <updated>Mon, 7 Mar 2016 23:15:42 +0000</updated>
                            <resolved>Mon, 7 Mar 2016 23:15:42 +0000</resolved>
                                                    <fixVersion>2.0.0</fixVersion>
                                    <component>SQL</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>3</watches>
                                                                <comments>
                            <comment id="15179224" author="apachespark" created="Fri, 4 Mar 2016 03:11:04 +0000"  >&lt;p&gt;User &apos;marmbrus&apos; has created a pull request for this issue:&lt;br/&gt;
&lt;a href=&quot;https://github.com/apache/spark/pull/11509&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://github.com/apache/spark/pull/11509&lt;/a&gt;&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Fri, 4 Mar 2016 03:11:04 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i2u4zj:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12310320" key="com.atlassian.jira.plugin.system.customfieldtypes:multiversion">
                        <customfieldname>Target Version/s</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue>12329449</customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        </customfields>
    </item>

<item>
            <title>[SPARK-13664] Simplify and Speedup HadoopFSRelation</title>
                <link>https://issues.apache.org/jira/browse/SPARK-13664</link>
                <project id="12315420" key="SPARK">Spark</project>
                    <description>&lt;p&gt;A majority of Spark SQL queries likely run though &lt;tt&gt;HadoopFSRelation&lt;/tt&gt;, however there are currently several complexity and performance problems with this code path:&lt;/p&gt;
&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;The class mixes the concerns of file management, schema reconciliation, scan building, bucketing, partitioning, and writing data.&lt;/li&gt;
	&lt;li&gt;For very large tables, we are broadcasting the entire list of files to every executor. &lt;a href=&quot;https://issues.apache.org/jira/browse/SPARK-11441&quot; title=&quot;HadoopFsRelation is not scalable in number of files read/written&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SPARK-11441&quot;&gt;SPARK-11441&lt;/a&gt;&lt;/li&gt;
	&lt;li&gt;For partitioned tables, we always do an extra projection.  This results not only in a copy, but undoes much of the performance gains that we are going to get from vectorized reads.&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;This is an umbrella ticket to track a set of improvements to this codepath.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12946865">SPARK-13664</key>
            <summary>Simplify and Speedup HadoopFSRelation</summary>
                <type id="4" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/improvement.png">Improvement</type>
                                            <priority id="1" iconUrl="https://issues.apache.org/jira/images/icons/priorities/blocker.png">Blocker</priority>
                        <status id="3" iconUrl="https://issues.apache.org/jira/images/icons/statuses/inprogress.png" description="This issue is being actively worked on at the moment by the assignee.">In Progress</status>
                    <statusCategory id="4" key="indeterminate" colorName="yellow"/>
                                    <resolution id="-1">Unresolved</resolution>
                                        <assignee username="marmbrus">Michael Armbrust</assignee>
                                    <reporter username="marmbrus">Michael Armbrust</reporter>
                        <labels>
                    </labels>
                <created>Fri, 4 Mar 2016 02:43:44 +0000</created>
                <updated>Tue, 8 Mar 2016 02:23:06 +0000</updated>
                                                                            <component>SQL</component>
                        <due></due>
                            <votes>1</votes>
                                    <watches>6</watches>
                                                                                                            <comments>
                            <comment id="15184238" author="apachespark" created="Tue, 8 Mar 2016 02:23:03 +0000"  >&lt;p&gt;User &apos;marmbrus&apos; has created a pull request for this issue:&lt;br/&gt;
&lt;a href=&quot;https://github.com/apache/spark/pull/11572&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://github.com/apache/spark/pull/11572&lt;/a&gt;&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                            <subtask id="12946866">SPARK-13665</subtask>
                            <subtask id="12947064">SPARK-13681</subtask>
                            <subtask id="12947068">SPARK-13682</subtask>
                            <subtask id="12947078">SPARK-13683</subtask>
                            <subtask id="12947760">SPARK-13728</subtask>
                            <subtask id="12947763">SPARK-13729</subtask>
                            <subtask id="12947884">SPARK-13738</subtask>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Tue, 8 Mar 2016 02:23:03 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i2u4zb:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12310320" key="com.atlassian.jira.plugin.system.customfieldtypes:multiversion">
                        <customfieldname>Target Version/s</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue>12329449</customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                </customfields>
    </item>

<item>
            <title>[SPARK-13663] Upgrade Snappy Java to 1.1.2.1</title>
                <link>https://issues.apache.org/jira/browse/SPARK-13663</link>
                <project id="12315420" key="SPARK">Spark</project>
                    <description>&lt;p&gt;The JVM memory leaky problem reported in &lt;a href=&quot;https://github.com/xerial/snappy-java/issues/131&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://github.com/xerial/snappy-java/issues/131&lt;/a&gt; has been resolved.&lt;/p&gt;

&lt;p&gt;1.1.2.1 was released on Jan 22nd.&lt;/p&gt;

&lt;p&gt;We should upgrade to this release.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12946864">SPARK-13663</key>
            <summary>Upgrade Snappy Java to 1.1.2.1</summary>
                <type id="4" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/improvement.png">Improvement</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.png">Minor</priority>
                        <status id="3" iconUrl="https://issues.apache.org/jira/images/icons/statuses/inprogress.png" description="This issue is being actively worked on at the moment by the assignee.">In Progress</status>
                    <statusCategory id="4" key="indeterminate" colorName="yellow"/>
                                    <resolution id="-1">Unresolved</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="yuzhihong@gmail.com">Ted Yu</reporter>
                        <labels>
                    </labels>
                <created>Fri, 4 Mar 2016 02:42:01 +0000</created>
                <updated>Fri, 4 Mar 2016 15:55:08 +0000</updated>
                                                                            <component>Spark Core</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>3</watches>
                                                                <comments>
                            <comment id="15179593" author="srowen" created="Fri, 4 Mar 2016 09:12:39 +0000"  >&lt;p&gt;OK to update for master/1.6&lt;/p&gt;</comment>
                            <comment id="15180047" author="apachespark" created="Fri, 4 Mar 2016 15:55:05 +0000"  >&lt;p&gt;User &apos;yy2016&apos; has created a pull request for this issue:&lt;br/&gt;
&lt;a href=&quot;https://github.com/apache/spark/pull/11524&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://github.com/apache/spark/pull/11524&lt;/a&gt;&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Fri, 4 Mar 2016 09:12:39 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i2u4z3:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                    </customfields>
    </item>

<item>
            <title>[SPARK-13662] [SQL][Hive] Have SHOW TABLES return additional fields from Hive MetaStore </title>
                <link>https://issues.apache.org/jira/browse/SPARK-13662</link>
                <project id="12315420" key="SPARK">Spark</project>
                    <description>&lt;p&gt;Currently, the SHOW TABLES command in Spark&apos;s Hive ThriftServer, or equivalently the HiveContext.tables method, returns a DataFrame with only two columns: the name of the table and whether it is temporary.  It would be really nice to add support to return some extra information, such as:&lt;/p&gt;

&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;Whether this table is Spark-only or a native Hive table&lt;/li&gt;
	&lt;li&gt;If spark-only, the name of the data source&lt;/li&gt;
	&lt;li&gt;potentially other properties&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;The first two is really useful for BI environments connecting to multiple data sources and that work with both Hive and Spark.&lt;/p&gt;

&lt;p&gt;Some thoughts:&lt;/p&gt;
&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;The SQL/HiveContext Catalog API might need to be expanded to return something like a TableEntry, rather than just a tuple of (name, temporary).&lt;/li&gt;
	&lt;li&gt;I believe there is a Hive Catalog/client API to get information about each table.  I suppose one concern would be the speed of using this API.  Perhaps there are other APis that can get this info faster.&lt;/li&gt;
&lt;/ul&gt;
</description>
                <environment>&lt;p&gt;All&lt;/p&gt;</environment>
        <key id="12946831">SPARK-13662</key>
            <summary>[SQL][Hive] Have SHOW TABLES return additional fields from Hive MetaStore </summary>
                <type id="4" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/improvement.png">Improvement</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.png">Major</priority>
                        <status id="1" iconUrl="https://issues.apache.org/jira/images/icons/statuses/open.png" description="The issue is open and ready for the assignee to start work on it.">Open</status>
                    <statusCategory id="2" key="new" colorName="blue-gray"/>
                                    <resolution id="-1">Unresolved</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="velvia">Evan Chan</reporter>
                        <labels>
                    </labels>
                <created>Fri, 4 Mar 2016 00:13:21 +0000</created>
                <updated>Fri, 4 Mar 2016 00:13:21 +0000</updated>
                                            <version>1.5.2</version>
                    <version>1.6.0</version>
                                                    <component>SQL</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                        <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i2u4rr:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                    </customfields>
    </item>

<item>
            <title>[SPARK-13661] Avoid the copy of UnsafeRow in HashedRelation</title>
                <link>https://issues.apache.org/jira/browse/SPARK-13661</link>
                <project id="12315420" key="SPARK">Spark</project>
                    <description>&lt;p&gt;We usually build the HashedRelation on top of array of UnsafeRow, the copy could be avoided.&lt;/p&gt;

&lt;p&gt;The caller of HashedRelation need to do the copy if it&apos;s needed.&lt;/p&gt;

&lt;p&gt;Another approach could be making the copy() of UnsafeRow smart so that it know when should copy the bytes or not, this could be also useful for other components. &lt;/p&gt;</description>
                <environment></environment>
        <key id="12946736">SPARK-13661</key>
            <summary>Avoid the copy of UnsafeRow in HashedRelation</summary>
                <type id="4" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/improvement.png">Improvement</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.png">Major</priority>
                        <status id="1" iconUrl="https://issues.apache.org/jira/images/icons/statuses/open.png" description="The issue is open and ready for the assignee to start work on it.">Open</status>
                    <statusCategory id="2" key="new" colorName="blue-gray"/>
                                    <resolution id="-1">Unresolved</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="davies">Davies Liu</reporter>
                        <labels>
                    </labels>
                <created>Thu, 3 Mar 2016 23:46:10 +0000</created>
                <updated>Thu, 3 Mar 2016 23:46:10 +0000</updated>
                                                                            <component>SQL</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                        <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i2u4q7:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                    </customfields>
    </item>

<item>
            <title>[SPARK-13660] CommitFailureTestRelationSuite floods the logs with garbage</title>
                <link>https://issues.apache.org/jira/browse/SPARK-13660</link>
                <project id="12315420" key="SPARK">Spark</project>
                    <description>&lt;p&gt;&lt;a href=&quot;https://github.com/apache/spark/pull/11439&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://github.com/apache/spark/pull/11439&lt;/a&gt; added a utility method &quot;testQuietly&quot;. We can use it for CommitFailureTestRelationSuite.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12946735">SPARK-13660</key>
            <summary>CommitFailureTestRelationSuite floods the logs with garbage</summary>
                <type id="6" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/requirement.png">Test</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.png">Major</priority>
                        <status id="1" iconUrl="https://issues.apache.org/jira/images/icons/statuses/open.png" description="The issue is open and ready for the assignee to start work on it.">Open</status>
                    <statusCategory id="2" key="new" colorName="blue-gray"/>
                                    <resolution id="-1">Unresolved</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="zsxwing">Shixiong Zhu</reporter>
                        <labels>
                            <label>starter</label>
                    </labels>
                <created>Thu, 3 Mar 2016 23:44:54 +0000</created>
                <updated>Thu, 3 Mar 2016 23:45:25 +0000</updated>
                                                                            <component>Tests</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                        <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i2u4pz:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                    </customfields>
    </item>

<item>
            <title>[SPARK-13659] Remove returnValues from BlockStore APIs</title>
                <link>https://issues.apache.org/jira/browse/SPARK-13659</link>
                <project id="12315420" key="SPARK">Spark</project>
                    <description>&lt;p&gt;In preparation for larger refactorings, I think that we should remove the confusing returnValues() option from the BlockStore put() APIs: returning the value is only useful in one place (caching) and in other situations, such as block replication, it&apos;s simpler to put() and then get().&lt;/p&gt;</description>
                <environment></environment>
        <key id="12946731">SPARK-13659</key>
            <summary>Remove returnValues from BlockStore APIs</summary>
                <type id="4" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/improvement.png">Improvement</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.png">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="joshrosen">Josh Rosen</assignee>
                                    <reporter username="joshrosen">Josh Rosen</reporter>
                        <labels>
                    </labels>
                <created>Thu, 3 Mar 2016 23:39:23 +0000</created>
                <updated>Tue, 8 Mar 2016 05:50:18 +0000</updated>
                            <resolved>Tue, 8 Mar 2016 05:50:18 +0000</resolved>
                                                    <fixVersion>2.0.0</fixVersion>
                                    <component>Block Manager</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                <comments>
                            <comment id="15178869" author="apachespark" created="Thu, 3 Mar 2016 23:46:03 +0000"  >&lt;p&gt;User &apos;JoshRosen&apos; has created a pull request for this issue:&lt;br/&gt;
&lt;a href=&quot;https://github.com/apache/spark/pull/11502&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://github.com/apache/spark/pull/11502&lt;/a&gt;&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Thu, 3 Mar 2016 23:46:03 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i2u4p3:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12310320" key="com.atlassian.jira.plugin.system.customfieldtypes:multiversion">
                        <customfieldname>Target Version/s</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue>12329449</customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        </customfields>
    </item>

<item>
            <title>[SPARK-13658] BooleanSimplification rule is slow with large boolean expressions</title>
                <link>https://issues.apache.org/jira/browse/SPARK-13658</link>
                <project id="12315420" key="SPARK">Spark</project>
                    <description>&lt;p&gt;When run TPCDS Q3 &lt;span class=&quot;error&quot;&gt;&amp;#91;1&amp;#93;&lt;/span&gt; with lots predicates to filter out the partitions, the optimizer rule BooleanSimplification take about 2 seconds (it use lots of sematicsEqual, which require copy the whole tree).&lt;/p&gt;

&lt;p&gt;It will great if we could speedup it.&lt;/p&gt;

&lt;p&gt;&lt;span class=&quot;error&quot;&gt;&amp;#91;1&amp;#93;&lt;/span&gt; &lt;a href=&quot;https://github.com/cloudera/impala-tpcds-kit/blob/master/queries/q3.sql&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://github.com/cloudera/impala-tpcds-kit/blob/master/queries/q3.sql&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;cc &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=marmbrus&quot; class=&quot;user-hover&quot; rel=&quot;marmbrus&quot;&gt;Michael Armbrust&lt;/a&gt;&lt;/p&gt;</description>
                <environment></environment>
        <key id="12946730">SPARK-13658</key>
            <summary>BooleanSimplification rule is slow with large boolean expressions</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/bug.png">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.png">Major</priority>
                        <status id="1" iconUrl="https://issues.apache.org/jira/images/icons/statuses/open.png" description="The issue is open and ready for the assignee to start work on it.">Open</status>
                    <statusCategory id="2" key="new" colorName="blue-gray"/>
                                    <resolution id="-1">Unresolved</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="davies">Davies Liu</reporter>
                        <labels>
                    </labels>
                <created>Thu, 3 Mar 2016 23:29:35 +0000</created>
                <updated>Thu, 3 Mar 2016 23:29:35 +0000</updated>
                                                                            <component>SQL</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                        <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i2u4ov:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                    </customfields>
    </item>

<item>
            <title>[SPARK-13657] Support parsing very long AND/OR expression</title>
                <link>https://issues.apache.org/jira/browse/SPARK-13657</link>
                <project id="12315420" key="SPARK">Spark</project>
                    <description>&lt;p&gt;CatalystQl can&apos;t parse an expression with hundreds of AND/OR &lt;span class=&quot;error&quot;&gt;&amp;#91;1&amp;#93;&lt;/span&gt;, it will fail as StackOverflow. &lt;/p&gt;



&lt;p&gt;&lt;span class=&quot;error&quot;&gt;&amp;#91;1&amp;#93;&lt;/span&gt; &lt;a href=&quot;https://github.com/cloudera/impala-tpcds-kit/blob/master/queries/q3.sql&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://github.com/cloudera/impala-tpcds-kit/blob/master/queries/q3.sql&lt;/a&gt;&lt;/p&gt;</description>
                <environment></environment>
        <key id="12946704">SPARK-13657</key>
            <summary>Support parsing very long AND/OR expression</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/bug.png">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.png">Major</priority>
                        <status id="3" iconUrl="https://issues.apache.org/jira/images/icons/statuses/inprogress.png" description="This issue is being actively worked on at the moment by the assignee.">In Progress</status>
                    <statusCategory id="4" key="indeterminate" colorName="yellow"/>
                                    <resolution id="-1">Unresolved</resolution>
                                        <assignee username="davies">Davies Liu</assignee>
                                    <reporter username="davies">Davies Liu</reporter>
                        <labels>
                    </labels>
                <created>Thu, 3 Mar 2016 22:37:08 +0000</created>
                <updated>Mon, 7 Mar 2016 08:19:41 +0000</updated>
                                                                            <component>SQL</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                <comments>
                            <comment id="15178862" author="apachespark" created="Thu, 3 Mar 2016 23:40:03 +0000"  >&lt;p&gt;User &apos;davies&apos; has created a pull request for this issue:&lt;br/&gt;
&lt;a href=&quot;https://github.com/apache/spark/pull/11501&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://github.com/apache/spark/pull/11501&lt;/a&gt;&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Thu, 3 Mar 2016 23:40:03 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i2u4j3:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                    </customfields>
    </item>

<item>
            <title>[SPARK-13656] Delete spark.sql.parquet.cacheMetadata</title>
                <link>https://issues.apache.org/jira/browse/SPARK-13656</link>
                <project id="12315420" key="SPARK">Spark</project>
                    <description>&lt;p&gt;Looks like spark.sql.parquet.cacheMetadata is not used anymore. Let&apos;s delete it to avoid any potential confusion.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12946689">SPARK-13656</key>
            <summary>Delete spark.sql.parquet.cacheMetadata</summary>
                <type id="4" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/improvement.png">Improvement</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.png">Major</priority>
                        <status id="1" iconUrl="https://issues.apache.org/jira/images/icons/statuses/open.png" description="The issue is open and ready for the assignee to start work on it.">Open</status>
                    <statusCategory id="2" key="new" colorName="blue-gray"/>
                                    <resolution id="-1">Unresolved</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="yhuai">Yin Huai</reporter>
                        <labels>
                    </labels>
                <created>Thu, 3 Mar 2016 21:27:16 +0000</created>
                <updated>Tue, 8 Mar 2016 00:51:48 +0000</updated>
                                                                            <component>SQL</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>3</watches>
                                                                <comments>
                            <comment id="15182872" author="maropu" created="Mon, 7 Mar 2016 10:57:43 +0000"  >&lt;p&gt;Is it okay to simply remove the related code of `spark.sql.parquet.cacheMetadata`?&lt;br/&gt;
If so, I&apos;ll take on this.&lt;br/&gt;
Thanks,&lt;/p&gt;</comment>
                            <comment id="15182949" author="maropu" created="Mon, 7 Mar 2016 12:27:09 +0000"  >&lt;p&gt;I looked over the related codes; does this ticket mean that the cache mechanism of parquet is always enabled without the option?&lt;/p&gt;</comment>
                            <comment id="15183640" author="yhuai" created="Mon, 7 Mar 2016 20:27:18 +0000"  >&lt;p&gt;Yes, I think right now, the cache mechanism is always enabled. I looked at the code and looks that that conf does not affect anything.&lt;/p&gt;</comment>
                            <comment id="15184110" author="maropu" created="Tue, 8 Mar 2016 00:51:48 +0000"  >&lt;p&gt;Okay, I&apos;ll make a pr in a day.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Mon, 7 Mar 2016 10:57:43 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i2u4fr:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12310320" key="com.atlassian.jira.plugin.system.customfieldtypes:multiversion">
                        <customfieldname>Target Version/s</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue>12329449</customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                </customfields>
    </item>

<item>
            <title>[SPARK-13655] Fix WithAggregationKinesisBackedBlockRDDSuite</title>
                <link>https://issues.apache.org/jira/browse/SPARK-13655</link>
                <project id="12315420" key="SPARK">Spark</project>
                    <description>&lt;p&gt;`WithAggregationKinesisBackedBlockRDDSuite` test consistently hangs and fails due to timeout. Currently, this is observed in &lt;a href=&quot;https://github.com/apache/spark/pull/11481&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;PR-11481&lt;/a&gt; and &lt;a href=&quot;https://github.com/apache/spark/pull/11438&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;PR-11438&lt;/a&gt;. Inevitably, those PR removes their changes on Kinesis module to skip Kinesis test.&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-style: solid;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeHeader panelHeader&quot; style=&quot;border-bottom-width: 1px;border-bottom-style: solid;&quot;&gt;&lt;b&gt;SparkPullRequestBuilder-52389&lt;/b&gt;&lt;/div&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
[info] WithAggregationKinesisBackedBlockRDDSuite:
Using endpoint URL https:&lt;span class=&quot;code-comment&quot;&gt;//kinesis.us-west-2.amazonaws.com &lt;span class=&quot;code-keyword&quot;&gt;for&lt;/span&gt; creating Kinesis streams &lt;span class=&quot;code-keyword&quot;&gt;for&lt;/span&gt; tests.
&lt;/span&gt;[2016-03-03 02:11:56.990918] [0x00007fabfb82f700] [info] [kinesis_producer.cc:79] Created pipeline &lt;span class=&quot;code-keyword&quot;&gt;for&lt;/span&gt; stream &lt;span class=&quot;code-quote&quot;&gt;&quot;KinesisTestUtils-7296082419112679238&quot;&lt;/span&gt;
[2016-03-03 02:11:56.991038] [0x00007fabfb82f700] [info] [shard_map.cc:83] Updating shard map &lt;span class=&quot;code-keyword&quot;&gt;for&lt;/span&gt; stream &lt;span class=&quot;code-quote&quot;&gt;&quot;KinesisTestUtils-7296082419112679238&quot;&lt;/span&gt;
[2016-03-03 02:11:57.230083] [0x00007fabfa42d700] [info] [shard_map.cc:163] Successfully updated shard map &lt;span class=&quot;code-keyword&quot;&gt;for&lt;/span&gt; stream &lt;span class=&quot;code-quote&quot;&gt;&quot;KinesisTestUtils-7296082419112679238&quot;&lt;/span&gt; found 2 shards
[info] - Basic reading from Kinesis (2 seconds, 116 milliseconds)
[info] - Read data available in both block manager and Kinesis (65 milliseconds)
Attempting to post to Github...
 &amp;gt; Post successful.
Build step &apos;Execute shell&apos; marked build as failure
Archiving artifacts
Recording test results
Test FAILed.
Refer to &lt;span class=&quot;code-keyword&quot;&gt;this&lt;/span&gt; link &lt;span class=&quot;code-keyword&quot;&gt;for&lt;/span&gt; build results (access rights to CI server needed): 
https:&lt;span class=&quot;code-comment&quot;&gt;//amplab.cs.berkeley.edu/jenkins//job/SparkPullRequestBuilder/52389/
&lt;/span&gt;Test FAILed.
Finished: FAILURE
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-style: solid;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeHeader panelHeader&quot; style=&quot;border-bottom-width: 1px;border-bottom-style: solid;&quot;&gt;&lt;b&gt;NewSparkPullRequestBuilder-2608&lt;/b&gt;&lt;/div&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
[info] WithAggregationKinesisBackedBlockRDDSuite:
[2016-03-03 10:28:05.512018] [0x00007f0fe5705700] [info] [kinesis_producer.cc:79] Created pipeline &lt;span class=&quot;code-keyword&quot;&gt;for&lt;/span&gt; stream &lt;span class=&quot;code-quote&quot;&gt;&quot;KinesisTestUtils-1569968002408612511&quot;&lt;/span&gt;
[2016-03-03 10:28:05.512313] [0x00007f0fe5705700] [info] [shard_map.cc:83] Updating shard map &lt;span class=&quot;code-keyword&quot;&gt;for&lt;/span&gt; stream &lt;span class=&quot;code-quote&quot;&gt;&quot;KinesisTestUtils-1569968002408612511&quot;&lt;/span&gt;
[2016-03-03 10:28:05.739267] [0x00007f0fe4303700] [info] [shard_map.cc:163] Successfully updated shard map &lt;span class=&quot;code-keyword&quot;&gt;for&lt;/span&gt; stream &lt;span class=&quot;code-quote&quot;&gt;&quot;KinesisTestUtils-1569968002408612511&quot;&lt;/span&gt; found 2 shards
[info] - Basic reading from Kinesis (1 second, 504 milliseconds)
[info] - Read data available in both block manager and Kinesis (37 milliseconds)
Build timed out (after 180 minutes). Marking the build as failed.
Build was aborted
Archiving artifacts
Recording test results
Finished: FAILURE
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</description>
                <environment></environment>
        <key id="12946683">SPARK-13655</key>
            <summary>Fix WithAggregationKinesisBackedBlockRDDSuite</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/bug.png">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.png">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="joshrosen">Josh Rosen</assignee>
                                    <reporter username="dongjoon">Dongjoon Hyun</reporter>
                        <labels>
                    </labels>
                <created>Thu, 3 Mar 2016 21:16:32 +0000</created>
                <updated>Mon, 7 Mar 2016 21:46:25 +0000</updated>
                            <resolved>Mon, 7 Mar 2016 21:46:18 +0000</resolved>
                                    <version>2.0.0</version>
                                    <fixVersion>2.0.0</fixVersion>
                                    <component>Streaming</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                <comments>
                            <comment id="15182812" author="apachespark" created="Mon, 7 Mar 2016 09:48:04 +0000"  >&lt;p&gt;User &apos;srowen&apos; has created a pull request for this issue:&lt;br/&gt;
&lt;a href=&quot;https://github.com/apache/spark/pull/11558&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://github.com/apache/spark/pull/11558&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="15183695" author="apachespark" created="Mon, 7 Mar 2016 21:01:05 +0000"  >&lt;p&gt;User &apos;JoshRosen&apos; has created a pull request for this issue:&lt;br/&gt;
&lt;a href=&quot;https://github.com/apache/spark/pull/11564&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://github.com/apache/spark/pull/11564&lt;/a&gt;&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Mon, 7 Mar 2016 09:48:04 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i2u4ef:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        </customfields>
    </item>

<item>
            <title>[SPARK-13654] get_json_object fails with java.io.CharConversionException</title>
                <link>https://issues.apache.org/jira/browse/SPARK-13654</link>
                <project id="12315420" key="SPARK">Spark</project>
                    <description>&lt;p&gt;I execute next query on my data:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
select count(distinct get_json_object(regexp_extract(line, &lt;span class=&quot;code-quote&quot;&gt;&quot;^\\p{ASCII}*$&quot;&lt;/span&gt;, 0), &apos;$.event&apos;)) from 
(select line from logs.raw_client_log where year=2016 and month=2 and day&amp;gt;28 and line rlike &lt;span class=&quot;code-quote&quot;&gt;&quot;^\\p{ASCII}*$&quot;&lt;/span&gt; and line is not &lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt;) a 
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;And it fails with &lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
Error: org.apache.spark.SparkException: Job aborted due to stage failure: Task 420 in stage 168.0 failed 4 times, most recent failure: Lost task 420.3 in stage 168.0 (TID 13064, nod5-2-hadoop.anchorfree.net): java.io.CharConversionException: Invalid UTF-32 character 0x6576656e(above 10ffff)  at &lt;span class=&quot;code-object&quot;&gt;char&lt;/span&gt; #47, &lt;span class=&quot;code-object&quot;&gt;byte&lt;/span&gt; #191)
	at com.fasterxml.jackson.core.io.UTF32Reader.reportInvalid(UTF32Reader.java:189)
	at com.fasterxml.jackson.core.io.UTF32Reader.read(UTF32Reader.java:150)
	at com.fasterxml.jackson.core.json.ReaderBasedJsonParser.loadMore(ReaderBasedJsonParser.java:153)
	at com.fasterxml.jackson.core.json.ReaderBasedJsonParser._skipWSOrEnd(ReaderBasedJsonParser.java:1855)
	at com.fasterxml.jackson.core.json.ReaderBasedJsonParser.nextToken(ReaderBasedJsonParser.java:571)
	at org.apache.spark.sql.catalyst.expressions.GetJsonObject$$anonfun$eval$2$$anonfun$4.apply(jsonExpressions.scala:142)
	at org.apache.spark.sql.catalyst.expressions.GetJsonObject$$anonfun$eval$2$$anonfun$4.apply(jsonExpressions.scala:141)
	at org.apache.spark.util.Utils$.tryWithResource(Utils.scala:2202)
	at org.apache.spark.sql.catalyst.expressions.GetJsonObject$$anonfun$eval$2.apply(jsonExpressions.scala:141)
	at org.apache.spark.sql.catalyst.expressions.GetJsonObject$$anonfun$eval$2.apply(jsonExpressions.scala:138)
	at org.apache.spark.util.Utils$.tryWithResource(Utils.scala:2202)
	at org.apache.spark.sql.catalyst.expressions.GetJsonObject.eval(jsonExpressions.scala:138)
	at org.apache.spark.sql.catalyst.expressions.GeneratedClass$SpecificMutableProjection.apply(Unknown Source)
	at org.apache.spark.sql.execution.Expand$$anonfun$doExecute$1$$anonfun$3$$anon$1.next(Expand.scala:76)
	at org.apache.spark.sql.execution.Expand$$anonfun$doExecute$1$$anonfun$3$$anon$1.next(Expand.scala:62)
	at org.apache.spark.sql.execution.aggregate.TungstenAggregationIterator.processInputs(TungstenAggregationIterator.scala:512)
	at org.apache.spark.sql.execution.aggregate.TungstenAggregationIterator.&amp;lt;init&amp;gt;(TungstenAggregationIterator.scala:686)
	at org.apache.spark.sql.execution.aggregate.TungstenAggregate$$anonfun$doExecute$1$$anonfun$2.apply(TungstenAggregate.scala:95)
	at org.apache.spark.sql.execution.aggregate.TungstenAggregate$$anonfun$doExecute$1$$anonfun$2.apply(TungstenAggregate.scala:86)
	at org.apache.spark.rdd.RDD$$anonfun$mapPartitions$1$$anonfun$apply$20.apply(RDD.scala:710)
	at org.apache.spark.rdd.RDD$$anonfun$mapPartitions$1$$anonfun$apply$20.apply(RDD.scala:710)
	at org.apache.spark.rdd.MapPartitionsRDD.compute(MapPartitionsRDD.scala:38)
	at org.apache.spark.rdd.RDD.computeOrReadCheckpoint(RDD.scala:306)
	at org.apache.spark.rdd.RDD.iterator(RDD.scala:270)
	at org.apache.spark.rdd.MapPartitionsRDD.compute(MapPartitionsRDD.scala:38)
	at org.apache.spark.rdd.RDD.computeOrReadCheckpoint(RDD.scala:306)
	at org.apache.spark.rdd.RDD.iterator(RDD.scala:270)
	at org.apache.spark.scheduler.ShuffleMapTask.runTask(ShuffleMapTask.scala:73)
	at org.apache.spark.scheduler.ShuffleMapTask.runTask(ShuffleMapTask.scala:41)
	at org.apache.spark.scheduler.Task.run(Task.scala:89)
	at org.apache.spark.executor.Executor$TaskRunner.run(Executor.scala:214)
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Basically Spark sells me the idea, that I have character &#25966; in my data. But query &lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
select line from logs.raw_client_log where year=2016 and month=2 and day&amp;gt;27 and line rlike &lt;span class=&quot;code-quote&quot;&gt;&quot;&#25966;&quot;&lt;/span&gt;
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt; 
&lt;p&gt;returns nothing.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12946656">SPARK-13654</key>
            <summary>get_json_object fails with java.io.CharConversionException</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/bug.png">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.png">Major</priority>
                        <status id="1" iconUrl="https://issues.apache.org/jira/images/icons/statuses/open.png" description="The issue is open and ready for the assignee to start work on it.">Open</status>
                    <statusCategory id="2" key="new" colorName="blue-gray"/>
                                    <resolution id="-1">Unresolved</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="epahomov">Egor Pahomov</reporter>
                        <labels>
                    </labels>
                <created>Thu, 3 Mar 2016 19:32:35 +0000</created>
                <updated>Thu, 3 Mar 2016 19:32:35 +0000</updated>
                                            <version>1.6.1</version>
                                                    <component>SQL</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                        <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i2u48f:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                    </customfields>
    </item>

<item>
            <title>[SPARK-13653] Split DiskBlockObjectWriter to separate object- and byte-based write interfaces</title>
                <link>https://issues.apache.org/jira/browse/SPARK-13653</link>
                <project id="12315420" key="SPARK">Spark</project>
                    <description>&lt;p&gt;DiskBlockObjectWriter exposes methods for writing both byte streams and objects. Mixing both of these interfaces into a single class is somewhat messy and requires hacks in certain code to support it (see DummySerializerInstance). I think that we should cleanly separate these interfaces into separate classes.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12946653">SPARK-13653</key>
            <summary>Split DiskBlockObjectWriter to separate object- and byte-based write interfaces</summary>
                <type id="4" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/improvement.png">Improvement</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.png">Major</priority>
                        <status id="3" iconUrl="https://issues.apache.org/jira/images/icons/statuses/inprogress.png" description="This issue is being actively worked on at the moment by the assignee.">In Progress</status>
                    <statusCategory id="4" key="indeterminate" colorName="yellow"/>
                                    <resolution id="-1">Unresolved</resolution>
                                        <assignee username="joshrosen">Josh Rosen</assignee>
                                    <reporter username="joshrosen">Josh Rosen</reporter>
                        <labels>
                    </labels>
                <created>Thu, 3 Mar 2016 19:24:10 +0000</created>
                <updated>Thu, 3 Mar 2016 19:26:06 +0000</updated>
                                                                            <component>Block Manager</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                <comments>
                            <comment id="15178431" author="apachespark" created="Thu, 3 Mar 2016 19:26:03 +0000"  >&lt;p&gt;User &apos;JoshRosen&apos; has created a pull request for this issue:&lt;br/&gt;
&lt;a href=&quot;https://github.com/apache/spark/pull/11498&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://github.com/apache/spark/pull/11498&lt;/a&gt;&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Thu, 3 Mar 2016 19:26:03 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i2u47r:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12310320" key="com.atlassian.jira.plugin.system.customfieldtypes:multiversion">
                        <customfieldname>Target Version/s</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue>12329449</customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                </customfields>
    </item>

<item>
            <title>[SPARK-13652] TransportClient.sendRpcSync returns wrong results</title>
                <link>https://issues.apache.org/jira/browse/SPARK-13652</link>
                <project id="12315420" key="SPARK">Spark</project>
                    <description>&lt;p&gt;TransportClient is not thread safe and if it is called from multiple threads, the messages can&apos;t be encoded and decoded correctly. Below is my code,and it will print wrong message.&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
&lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;static&lt;/span&gt; void main(&lt;span class=&quot;code-object&quot;&gt;String&lt;/span&gt;[] args) &lt;span class=&quot;code-keyword&quot;&gt;throws&lt;/span&gt; IOException, InterruptedException {

        TransportServer server = &lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; TransportContext(&lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; TransportConf(&lt;span class=&quot;code-quote&quot;&gt;&quot;test&quot;&lt;/span&gt;,
                &lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; MapConfigProvider(&lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; HashMap&amp;lt;&lt;span class=&quot;code-object&quot;&gt;String&lt;/span&gt;, &lt;span class=&quot;code-object&quot;&gt;String&lt;/span&gt;&amp;gt;())), &lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; RankHandler()).
                createServer(8081, &lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; LinkedList&amp;lt;TransportServerBootstrap&amp;gt;());

        TransportContext context = &lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; TransportContext(&lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; TransportConf(&lt;span class=&quot;code-quote&quot;&gt;&quot;test&quot;&lt;/span&gt;,
                &lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; MapConfigProvider(&lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; HashMap&amp;lt;&lt;span class=&quot;code-object&quot;&gt;String&lt;/span&gt;, &lt;span class=&quot;code-object&quot;&gt;String&lt;/span&gt;&amp;gt;())), &lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; NoOpRpcHandler(), &lt;span class=&quot;code-keyword&quot;&gt;true&lt;/span&gt;);
        &lt;span class=&quot;code-keyword&quot;&gt;final&lt;/span&gt; TransportClientFactory clientFactory = context.createClientFactory();
        List&amp;lt;&lt;span class=&quot;code-object&quot;&gt;Thread&lt;/span&gt;&amp;gt; ts = &lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; ArrayList&amp;lt;&amp;gt;();
        &lt;span class=&quot;code-keyword&quot;&gt;for&lt;/span&gt; (&lt;span class=&quot;code-object&quot;&gt;int&lt;/span&gt; i = 0; i &amp;lt; 10; i++) {
            ts.add(&lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;code-object&quot;&gt;Thread&lt;/span&gt;(&lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;code-object&quot;&gt;Runnable&lt;/span&gt;() {
                @Override
                &lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt; void run() {
                    &lt;span class=&quot;code-keyword&quot;&gt;for&lt;/span&gt; (&lt;span class=&quot;code-object&quot;&gt;int&lt;/span&gt; j = 0; j &amp;lt; 1000; j++) {
                        &lt;span class=&quot;code-keyword&quot;&gt;try&lt;/span&gt; {
                            ByteBuf buf = Unpooled.buffer(8);
                            buf.writeLong((&lt;span class=&quot;code-object&quot;&gt;long&lt;/span&gt;) j);
                            ByteBuffer byteBuffer = clientFactory.createClient(&lt;span class=&quot;code-quote&quot;&gt;&quot;localhost&quot;&lt;/span&gt;, 8081).
                                    sendRpcSync(buf.nioBuffer(), &lt;span class=&quot;code-object&quot;&gt;Long&lt;/span&gt;.MAX_VALUE);

                            &lt;span class=&quot;code-object&quot;&gt;long&lt;/span&gt; response = byteBuffer.getLong();
                            &lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt; (response != j) {
                                &lt;span class=&quot;code-object&quot;&gt;System&lt;/span&gt;.err.println(&lt;span class=&quot;code-quote&quot;&gt;&quot;send:&quot;&lt;/span&gt; + j + &lt;span class=&quot;code-quote&quot;&gt;&quot;,response:&quot;&lt;/span&gt; + response);
                            }
                        } &lt;span class=&quot;code-keyword&quot;&gt;catch&lt;/span&gt; (IOException e) {
                            e.printStackTrace();
                        }
                    }
                }
            }));
            ts.get(i).start();
        }
        &lt;span class=&quot;code-keyword&quot;&gt;for&lt;/span&gt; (&lt;span class=&quot;code-object&quot;&gt;Thread&lt;/span&gt; t : ts) {
            t.join();
        }
        server.close();

    }


&lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt; class RankHandler &lt;span class=&quot;code-keyword&quot;&gt;extends&lt;/span&gt; RpcHandler {

    &lt;span class=&quot;code-keyword&quot;&gt;private&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;final&lt;/span&gt; Logger logger = LoggerFactory.getLogger(RankHandler.class);
    &lt;span class=&quot;code-keyword&quot;&gt;private&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;final&lt;/span&gt; StreamManager streamManager;

    &lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt; RankHandler() {
        &lt;span class=&quot;code-keyword&quot;&gt;this&lt;/span&gt;.streamManager = &lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; OneForOneStreamManager();
    }

    @Override
    &lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt; void receive(TransportClient client, ByteBuffer msg, RpcResponseCallback callback) {
        callback.onSuccess(msg);
    }

    @Override
    &lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt; StreamManager getStreamManager() {
        &lt;span class=&quot;code-keyword&quot;&gt;return&lt;/span&gt; streamManager;
    }
}
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;


&lt;p&gt;it will print as below&lt;br/&gt;
send:221,response:222&lt;br/&gt;
send:233,response:234&lt;br/&gt;
send:312,response:313&lt;br/&gt;
send:358,response:359&lt;br/&gt;
...&lt;/p&gt;</description>
                <environment></environment>
        <key id="12946589">SPARK-13652</key>
            <summary>TransportClient.sendRpcSync returns wrong results</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/bug.png">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.png">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="zsxwing">Shixiong Zhu</assignee>
                                    <reporter username="huang_yuu">huangyu</reporter>
                        <labels>
                    </labels>
                <created>Thu, 3 Mar 2016 16:16:05 +0000</created>
                <updated>Fri, 4 Mar 2016 09:11:01 +0000</updated>
                            <resolved>Fri, 4 Mar 2016 06:55:18 +0000</resolved>
                                    <version>1.6.0</version>
                                    <fixVersion>1.6.2</fixVersion>
                    <fixVersion>2.0.0</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>4</watches>
                                                                <comments>
                            <comment id="15178038" author="srowen" created="Thu, 3 Mar 2016 16:21:53 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=huang_yuu&quot; class=&quot;user-hover&quot; rel=&quot;huang_yuu&quot;&gt;huangyu&lt;/a&gt; please fix the title&lt;/p&gt;</comment>
                            <comment id="15178061" author="srowen" created="Thu, 3 Mar 2016 16:31:40 +0000"  >&lt;p&gt;I don&apos;t think it&apos;s supposed to work this way:&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
 * Construct an instance of TransportClient using {@link TransportClientFactory}. A single
 * TransportClient may be used &lt;span class=&quot;code-keyword&quot;&gt;for&lt;/span&gt; multiple streams, but any given stream must be restricted to a
 * single client, in order to avoid out-of-order responses.
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</comment>
                            <comment id="15178100" author="huang_yuu" created="Thu, 3 Mar 2016 16:50:13 +0000"  >&lt;p&gt;Does it mean that for a TransportClient I can&apos;t send rpc messages in parallel. Then how can I use it in multiple threads,because i see the comment &quot;Concurrency: thread safe and can be called from multiple threads.&quot;? Can you give me a example? Thank you very much&lt;/p&gt;</comment>
                            <comment id="15178121" author="srowen" created="Thu, 3 Mar 2016 16:58:23 +0000"  >&lt;p&gt;I think you can send from multiple threads to multiple streams, but not to one stream from multiple threads.&lt;/p&gt;</comment>
                            <comment id="15178698" author="zsxwing" created="Thu, 3 Mar 2016 22:07:14 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=huang_yuu&quot; class=&quot;user-hover&quot; rel=&quot;huang_yuu&quot;&gt;huangyu&lt;/a&gt; Confirmed that there is a bug in sendRpcSync. Patch is on the way.&lt;/p&gt;</comment>
                            <comment id="15178712" author="apachespark" created="Thu, 3 Mar 2016 22:14:05 +0000"  >&lt;p&gt;User &apos;zsxwing&apos; has created a pull request for this issue:&lt;br/&gt;
&lt;a href=&quot;https://github.com/apache/spark/pull/11499&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://github.com/apache/spark/pull/11499&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="15178715" author="zsxwing" created="Thu, 3 Mar 2016 22:18:28 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=huang_yuu&quot; class=&quot;user-hover&quot; rel=&quot;huang_yuu&quot;&gt;huangyu&lt;/a&gt; I tested my patch using your codes and it worked. Thanks for reporting it and nice reproducer.&lt;/p&gt;</comment>
                            <comment id="15178723" author="zsxwing" created="Thu, 3 Mar 2016 22:24:29 +0000"  >&lt;p&gt;Updated &quot;Affects Version/s&quot;. This bug only exists in 1.6.0 and master&lt;/p&gt;</comment>
                            <comment id="15179157" author="huang_yuu" created="Fri, 4 Mar 2016 02:03:49 +0000"  >&lt;p&gt;I think the doc is about fetching stream rather than sendRpc&lt;/p&gt;</comment>
                            <comment id="15179186" author="huang_yuu" created="Fri, 4 Mar 2016 02:38:52 +0000"  >&lt;p&gt;I used your patch and it worked, great!!&lt;/p&gt;</comment>
                            <comment id="15179588" author="huang_yuu" created="Fri, 4 Mar 2016 09:11:01 +0000"  >&lt;p&gt;This issue has been fixed by Shixiong Zhu&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12791198" name="RankHandler.java" size="929" author="huang_yuu" created="Thu, 3 Mar 2016 16:22:52 +0000"/>
                            <attachment id="12791199" name="Test.java" size="2339" author="huang_yuu" created="Thu, 3 Mar 2016 16:22:52 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Thu, 3 Mar 2016 16:21:53 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i2u3tj:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        </customfields>
    </item>

<item>
            <title>[SPARK-13651] Generator outputs are not resolved correctly resulting in runtime error</title>
                <link>https://issues.apache.org/jira/browse/SPARK-13651</link>
                <project id="12315420" key="SPARK">Spark</project>
                    <description>&lt;p&gt;Seq((&quot;id1&quot;, &quot;value1&quot;)).toDF(&quot;key&quot;, &quot;value&quot;).registerTempTable(&quot;src&quot;)&lt;br/&gt;
sqlContext.sql(&quot;SELECT t1.* FROM src LATERAL VIEW explode(map(&apos;key1&apos;, 100, &apos;key2&apos;, 200)) t1 AS key, value&quot;)&lt;/p&gt;

&lt;p&gt;Running above repro results in :&lt;/p&gt;

&lt;p&gt;java.lang.ClassCastException: java.lang.Integer cannot be cast to org.apache.spark.unsafe.types.UTF8String&lt;br/&gt;
	at org.apache.spark.sql.catalyst.expressions.BaseGenericInternalRow$class.getUTF8String(rows.scala:46)&lt;br/&gt;
	at org.apache.spark.sql.catalyst.expressions.GenericInternalRow.getUTF8String(rows.scala:221)&lt;br/&gt;
	at org.apache.spark.sql.catalyst.expressions.GeneratedClass$SpecificUnsafeProjection.apply(generated.java:42)&lt;br/&gt;
	at org.apache.spark.sql.execution.Generate$$anonfun$doExecute$1$$anonfun$apply$9.apply(Generate.scala:98)&lt;br/&gt;
	at org.apache.spark.sql.execution.Generate$$anonfun$doExecute$1$$anonfun$apply$9.apply(Generate.scala:96)&lt;br/&gt;
	at scala.collection.Iterator$$anon$11.next(Iterator.scala:370)&lt;br/&gt;
	at scala.collection.Iterator$$anon$11.next(Iterator.scala:370)&lt;br/&gt;
	at scala.collection.Iterator$class.foreach(Iterator.scala:742)&lt;br/&gt;
	at scala.collection.AbstractIterator.foreach(Iterator.scala:1194)&lt;br/&gt;
	at scala.collection.generic.Growable$class.$plus$plus$eq(Growable.scala:59)&lt;br/&gt;
	at scala.collection.mutable.ArrayBuffer.$plus$plus$eq(ArrayBuffer.scala:104)&lt;br/&gt;
	at scala.collection.mutable.ArrayBuffer.$plus$plus$eq(ArrayBuffer.scala:48)&lt;br/&gt;
	at scala.collection.TraversableOnce$class.to(TraversableOnce.scala:308)&lt;br/&gt;
	at scala.collection.AbstractIterator.to(Iterator.scala:1194)&lt;br/&gt;
	at scala.collection.TraversableOnce$class.toBuffer(TraversableOnce.scala:300)&lt;br/&gt;
	at scala.collection.AbstractIterator.toBuffer(Iterator.scala:1194)&lt;br/&gt;
	at scala.collection.TraversableOnce$class.toArray(TraversableOnce.scala:287)&lt;br/&gt;
	at scala.collection.AbstractIterator.toArray(Iterator.scala:1194)&lt;br/&gt;
	at org.apache.spark.rdd.RDD$$anonfun$collect$1$$anonfun$13.apply(RDD.scala:876)&lt;br/&gt;
	at org.apache.spark.rdd.RDD$$anonfun$collect$1$$anonfun$13.apply(RDD.scala:876)&lt;br/&gt;
	at org.apache.spark.SparkContext$$anonfun$runJob$5.apply(SparkContext.scala:1794)&lt;br/&gt;
	at org.apache.spark.SparkContext$$anonfun$runJob$5.apply(SparkContext.scala:1794)&lt;br/&gt;
	at org.apache.spark.scheduler.ResultTask.runTask(ResultTask.scala:69)&lt;br/&gt;
	at org.apache.spark.scheduler.Task.run(Task.scala:82)&lt;br/&gt;
	at org.apache.spark.executor.Executor$TaskRunner.run(Executor.scala:227)&lt;br/&gt;
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1145)&lt;br/&gt;
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:615)&lt;br/&gt;
	at java.lang.Thread.run(Thread.java:745)&lt;/p&gt;</description>
                <environment></environment>
        <key id="12946586">SPARK-13651</key>
            <summary>Generator outputs are not resolved correctly resulting in runtime error</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/bug.png">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.png">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="dkbiswal">Dilip Biswal</reporter>
                        <labels>
                    </labels>
                <created>Thu, 3 Mar 2016 16:00:56 +0000</created>
                <updated>Mon, 7 Mar 2016 17:47:58 +0000</updated>
                            <resolved>Mon, 7 Mar 2016 17:47:58 +0000</resolved>
                                                    <fixVersion>2.0.0</fixVersion>
                                    <component>SQL</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>3</watches>
                                                                <comments>
                            <comment id="15178057" author="apachespark" created="Thu, 3 Mar 2016 16:29:05 +0000"  >&lt;p&gt;User &apos;dilipbiswal&apos; has created a pull request for this issue:&lt;br/&gt;
&lt;a href=&quot;https://github.com/apache/spark/pull/11497&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://github.com/apache/spark/pull/11497&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="15183345" author="davies" created="Mon, 7 Mar 2016 17:47:58 +0000"  >&lt;p&gt;Issue resolved by pull request 11497&lt;br/&gt;
&lt;a href=&quot;https://github.com/apache/spark/pull/11497&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://github.com/apache/spark/pull/11497&lt;/a&gt;&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10032">
                    <name>Blocker</name>
                                            <outwardlinks description="blocks">
                                        <issuelink>
            <issuekey id="12928760">SPARK-12719</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                    </issuelinks>
                <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Thu, 3 Mar 2016 16:29:05 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i2u3sv:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        </customfields>
    </item>

<item>
            <title>[SPARK-13650] Usage of the window() function on DStream</title>
                <link>https://issues.apache.org/jira/browse/SPARK-13650</link>
                <project id="12315420" key="SPARK">Spark</project>
                    <description>&lt;p&gt;Is there some guidance of the usage of the Window() function on DStream. Here is my academic use-case for which it fails.&lt;/p&gt;

&lt;p&gt;Standard word count&lt;/p&gt;

&lt;p&gt; val ssc = new StreamingContext(sparkConf, Seconds(6))&lt;br/&gt;
 val messages = KafkaUtils.createDirectStream(...)&lt;br/&gt;
 val words = messages.map(_.&lt;em&gt;2).flatMap(&lt;/em&gt;.split(&quot; &quot;))&lt;br/&gt;
 val window = words.window(Seconds(12), Seconds(6)) &lt;br/&gt;
 window.count().print()&lt;/p&gt;

&lt;p&gt;For the first batch interval it gives the count and then it hangs (inside the unionRDD)&lt;/p&gt;

&lt;p&gt;I say the above use-case is academic since one can achieve similar fuctionality by using instead the more compact API&lt;br/&gt;
       words.countByWindow(Seconds(12), Seconds(6))&lt;br/&gt;
which works fine. &lt;/p&gt;

&lt;p&gt;Is the first approach above not the intended way of using the .window() API&lt;/p&gt;</description>
                <environment></environment>
        <key id="12946539">SPARK-13650</key>
            <summary>Usage of the window() function on DStream</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/bug.png">Bug</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.png">Minor</priority>
                        <status id="1" iconUrl="https://issues.apache.org/jira/images/icons/statuses/open.png" description="The issue is open and ready for the assignee to start work on it.">Open</status>
                    <statusCategory id="2" key="new" colorName="blue-gray"/>
                                    <resolution id="-1">Unresolved</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="mariobriggs">Mario Briggs</reporter>
                        <labels>
                    </labels>
                <created>Thu, 3 Mar 2016 13:09:24 +0000</created>
                <updated>Fri, 4 Mar 2016 05:20:18 +0000</updated>
                                            <version>1.5.2</version>
                    <version>1.6.0</version>
                    <version>2.0.0</version>
                                                    <component>Streaming</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                <comments>
                            <comment id="15177857" author="srowen" created="Thu, 3 Mar 2016 14:18:47 +0000"  >&lt;p&gt;What do you mean by hangs?&lt;/p&gt;</comment>
                            <comment id="15179347" author="mariobriggs" created="Fri, 4 Mar 2016 05:20:18 +0000"  >&lt;p&gt;Running locally on my MAC, here is the output&lt;/p&gt;

&lt;blockquote&gt;
&lt;p&gt;&lt;span class=&quot;error&quot;&gt;&amp;#91;Stage 0:&amp;gt;                                                          (0 + 0) / 2&amp;#93;&lt;/span&gt;16/03/04 10:38:18 INFO VerifiableProperties: Verifying properties&lt;br/&gt;
16/03/04 10:38:18 INFO VerifiableProperties: Property auto.offset.reset is overridden to smallest&lt;br/&gt;
16/03/04 10:38:18 INFO VerifiableProperties: Property group.id is overridden to &lt;br/&gt;
16/03/04 10:38:18 INFO VerifiableProperties: Property zookeeper.connect is overridden to &lt;/p&gt;

&lt;p&gt;-------------------------------------------&lt;br/&gt;
Time: 1457068098000 ms&lt;br/&gt;
-------------------------------------------&lt;br/&gt;
10&lt;/p&gt;


&lt;p&gt;&lt;span class=&quot;error&quot;&gt;&amp;#91;Stage 6:=======================================&amp;gt;                   (2 + 0) / 3&amp;#93;&lt;/span&gt;&lt;/p&gt;

&lt;p&gt;&lt;span class=&quot;error&quot;&gt;&amp;#91;Stage 6:=======================================&amp;gt;                   (2 + 0) / 3&amp;#93;&lt;/span&gt;&lt;/p&gt;
&lt;/blockquote&gt;

&lt;p&gt;The &apos;10&apos; is the output from the first batch interval at time &apos;1457068098000 ms&apos; . Thereafter, the only output for the next ~2 minutes is the &apos;stage 6&apos;. A ^C fails to stop the app and need to do a &apos;kill -9 pid&apos;&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Thu, 3 Mar 2016 14:18:47 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i2u3if:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                    </customfields>
    </item>

<item>
            <title>[SPARK-13649] Move CalendarInterval out of unsafe package</title>
                <link>https://issues.apache.org/jira/browse/SPARK-13649</link>
                <project id="12315420" key="SPARK">Spark</project>
                    <description>&lt;p&gt;&lt;tt&gt;CalendarInterval&lt;/tt&gt; is part of user facing interface as it can be returned DataFrame contents, but historically it was put in &lt;tt&gt;unsafe.types&lt;/tt&gt; package for no good reason. We should probably move it out.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12946534">SPARK-13649</key>
            <summary>Move CalendarInterval out of unsafe package</summary>
                <type id="4" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/improvement.png">Improvement</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.png">Major</priority>
                        <status id="1" iconUrl="https://issues.apache.org/jira/images/icons/statuses/open.png" description="The issue is open and ready for the assignee to start work on it.">Open</status>
                    <statusCategory id="2" key="new" colorName="blue-gray"/>
                                    <resolution id="-1">Unresolved</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="lian cheng">Cheng Lian</reporter>
                        <labels>
                    </labels>
                <created>Thu, 3 Mar 2016 12:51:24 +0000</created>
                <updated>Thu, 3 Mar 2016 12:53:47 +0000</updated>
                                            <version>2.0.0</version>
                                                    <component>SQL</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                <comments>
                            <comment id="15177770" author="lian cheng" created="Thu, 3 Mar 2016 12:51:55 +0000"  >&lt;p&gt;cc &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=cloud_fan&quot; class=&quot;user-hover&quot; rel=&quot;cloud_fan&quot;&gt;Wenchen Fan&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="15177773" author="cloud_fan" created="Thu, 3 Mar 2016 12:53:47 +0000"  >&lt;p&gt;We should either move it to a proper package or create an external representation of it(but seems unnecessary?). cc &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=rxin&quot; class=&quot;user-hover&quot; rel=&quot;rxin&quot;&gt;Reynold Xin&lt;/a&gt;&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Thu, 3 Mar 2016 12:53:47 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i2u3hb:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12310320" key="com.atlassian.jira.plugin.system.customfieldtypes:multiversion">
                        <customfieldname>Target Version/s</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue>12329449</customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                </customfields>
    </item>

<item>
            <title>[SPARK-13648] org.apache.spark.sql.hive.client.VersionsSuite fails NoClassDefFoundError on IBM JDK</title>
                <link>https://issues.apache.org/jira/browse/SPARK-13648</link>
                <project id="12315420" key="SPARK">Spark</project>
                    <description>&lt;p&gt;When running the standard Spark unit tests on the IBM Java SDK the hive VersionsSuite fail with the following error.&lt;/p&gt;

&lt;p&gt;java.lang.NoClassDefFoundError:  org.apache.hadoop.hive.cli.CliSessionState when creating Hive client using classpath: ..............&lt;/p&gt;</description>
                <environment>&lt;p&gt;Fails on vendor specific JVMs ( e.g IBM JVM )&lt;/p&gt;</environment>
        <key id="12946507">SPARK-13648</key>
            <summary>org.apache.spark.sql.hive.client.VersionsSuite fails NoClassDefFoundError on IBM JDK</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/bug.png">Bug</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.png">Minor</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="preece">Tim Preece</reporter>
                        <labels>
                    </labels>
                <created>Thu, 3 Mar 2016 10:37:58 +0000</created>
                <updated>Mon, 7 Mar 2016 23:56:27 +0000</updated>
                            <resolved>Mon, 7 Mar 2016 23:56:11 +0000</resolved>
                                                    <fixVersion>1.6.2</fixVersion>
                    <fixVersion>2.0.0</fixVersion>
                                    <component>SQL</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>5</watches>
                                                                <comments>
                            <comment id="15177767" author="apachespark" created="Thu, 3 Mar 2016 12:46:04 +0000"  >&lt;p&gt;User &apos;preecet&apos; has created a pull request for this issue:&lt;br/&gt;
&lt;a href=&quot;https://github.com/apache/spark/pull/11495&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://github.com/apache/spark/pull/11495&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="15184053" author="marmbrus" created="Mon, 7 Mar 2016 23:56:11 +0000"  >&lt;p&gt;Issue resolved by pull request 11495&lt;br/&gt;
&lt;a href=&quot;https://github.com/apache/spark/pull/11495&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://github.com/apache/spark/pull/11495&lt;/a&gt;&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Thu, 3 Mar 2016 12:46:04 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i2u3bb:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        </customfields>
    </item>

<item>
            <title>[SPARK-13647] also check if numeric value is within allowed range in _verify_type</title>
                <link>https://issues.apache.org/jira/browse/SPARK-13647</link>
                <project id="12315420" key="SPARK">Spark</project>
                    <description></description>
                <environment></environment>
        <key id="12946493">SPARK-13647</key>
            <summary>also check if numeric value is within allowed range in _verify_type</summary>
                <type id="4" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/improvement.png">Improvement</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.png">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="cloud_fan">Wenchen Fan</assignee>
                                    <reporter username="cloud_fan">Wenchen Fan</reporter>
                        <labels>
                    </labels>
                <created>Thu, 3 Mar 2016 09:56:44 +0000</created>
                <updated>Sun, 6 Mar 2016 21:06:21 +0000</updated>
                            <resolved>Fri, 4 Mar 2016 04:16:47 +0000</resolved>
                                                    <fixVersion>2.0.0</fixVersion>
                                    <component>PySpark</component>
                    <component>SQL</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>3</watches>
                                                                <comments>
                            <comment id="15177604" author="apachespark" created="Thu, 3 Mar 2016 10:11:03 +0000"  >&lt;p&gt;User &apos;cloud-fan&apos; has created a pull request for this issue:&lt;br/&gt;
&lt;a href=&quot;https://github.com/apache/spark/pull/11492&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://github.com/apache/spark/pull/11492&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="15179288" author="davies" created="Fri, 4 Mar 2016 04:16:47 +0000"  >&lt;p&gt;Issue resolved by pull request 11492&lt;br/&gt;
&lt;a href=&quot;https://github.com/apache/spark/pull/11492&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://github.com/apache/spark/pull/11492&lt;/a&gt;&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Thu, 3 Mar 2016 10:11:03 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i2u387:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        </customfields>
    </item>

<item>
            <title>[SPARK-13646] QuantileDiscretizer counts dataset twice in getSampledInput</title>
                <link>https://issues.apache.org/jira/browse/SPARK-13646</link>
                <project id="12315420" key="SPARK">Spark</project>
                    <description>&lt;p&gt;getSampledInput counts the dataset twice as you see here : &lt;a href=&quot;https://github.com/apache/spark/blob/master/mllib/src/main/scala/org/apache/spark/ml/feature/QuantileDiscretizer.scala#L116&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://github.com/apache/spark/blob/master/mllib/src/main/scala/org/apache/spark/ml/feature/QuantileDiscretizer.scala#L116&lt;/a&gt;&lt;/p&gt;</description>
                <environment></environment>
        <key id="12946484">SPARK-13646</key>
            <summary>QuantileDiscretizer counts dataset twice in getSampledInput</summary>
                <type id="4" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/improvement.png">Improvement</type>
                                            <priority id="5" iconUrl="https://issues.apache.org/jira/images/icons/priorities/trivial.png">Trivial</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="Elie A.">Abou Haydar Elias</assignee>
                                    <reporter username="Elie A.">Abou Haydar Elias</reporter>
                        <labels>
                            <label>patch</label>
                            <label>performance</label>
                    </labels>
                <created>Thu, 3 Mar 2016 09:31:45 +0000</created>
                <updated>Fri, 4 Mar 2016 10:03:17 +0000</updated>
                            <resolved>Fri, 4 Mar 2016 10:02:09 +0000</resolved>
                                    <version>1.6.0</version>
                                    <fixVersion>2.0.0</fixVersion>
                                    <component>ML</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>3</watches>
                                                                <comments>
                            <comment id="15177561" author="srowen" created="Thu, 3 Mar 2016 09:39:47 +0000"  >&lt;p&gt;Yeah you can open a PR to improve that.&lt;/p&gt;</comment>
                            <comment id="15177573" author="elie a." created="Thu, 3 Mar 2016 09:47:34 +0000"  >&lt;p&gt;I&apos;m trying to run the ./dev/run-test but it is blocking me with the following :&lt;/p&gt;

&lt;p&gt;Traceback (most recent call last): &lt;br/&gt;
File &quot;./dev/run-tests.py&quot;, line 587, in &amp;lt;module&amp;gt; &lt;br/&gt;
main() &lt;br/&gt;
File &quot;./dev/run-tests.py&quot;, line 489, in main &lt;br/&gt;
run_cmd(&lt;span class=&quot;error&quot;&gt;&amp;#91;os.path.join(SPARK_HOME, &amp;quot;R&amp;quot;, &amp;quot;install-dev.sh&amp;quot;)&amp;#93;&lt;/span&gt;) &lt;br/&gt;
File &quot;/media/eliasah/Transcend/github/eliasah/spark/dev/sparktestsupport/shellutils.py&quot;, line 84, in run_cmd &lt;br/&gt;
return subprocess_check_call(cmd) &lt;br/&gt;
File &quot;/usr/lib/python2.7/subprocess.py&quot;, line 535, in check_call &lt;br/&gt;
retcode = call(*popenargs, **kwargs) &lt;br/&gt;
File &quot;/usr/lib/python2.7/subprocess.py&quot;, line 522, in call &lt;br/&gt;
return Popen(*popenargs, **kwargs).wait() &lt;br/&gt;
File &quot;/usr/lib/python2.7/subprocess.py&quot;, line 710, in _&lt;em&gt;init&lt;/em&gt;_ &lt;br/&gt;
errread, errwrite) &lt;br/&gt;
File &quot;/usr/lib/python2.7/subprocess.py&quot;, line 1327, in _execute_child &lt;br/&gt;
raise child_exception &lt;br/&gt;
OSError: &lt;span class=&quot;error&quot;&gt;&amp;#91;Errno 13&amp;#93;&lt;/span&gt; Permission denied&lt;/p&gt;</comment>
                            <comment id="15177594" author="apachespark" created="Thu, 3 Mar 2016 10:06:04 +0000"  >&lt;p&gt;User &apos;eliasah&apos; has created a pull request for this issue:&lt;br/&gt;
&lt;a href=&quot;https://github.com/apache/spark/pull/11491&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://github.com/apache/spark/pull/11491&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="15179658" author="srowen" created="Fri, 4 Mar 2016 10:02:09 +0000"  >&lt;p&gt;Issue resolved by pull request 11491&lt;br/&gt;
&lt;a href=&quot;https://github.com/apache/spark/pull/11491&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://github.com/apache/spark/pull/11491&lt;/a&gt;&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Thu, 3 Mar 2016 09:39:47 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                            <customfield id="customfield_12310250" key="com.atlassian.jira.plugin.system.customfieldtypes:multicheckboxes">
                        <customfieldname>Flags</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10430"><![CDATA[Patch]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i2u367:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        </customfields>
    </item>

<item>
            <title>[SPARK-13645] DAG Diagram not shown properly in Chrome</title>
                <link>https://issues.apache.org/jira/browse/SPARK-13645</link>
                <project id="12315420" key="SPARK">Spark</project>
                    <description>&lt;p&gt;In my Chrome 49, the execution DAG diagram can&apos;t be shown properly. Only a few grey dots lays there. Thought this is what I&apos;m supposed to see at first. &lt;/p&gt;

&lt;p&gt;It works fine in Firefox, though.&lt;/p&gt;

&lt;p&gt;See the attachment below.&lt;/p&gt;</description>
                <environment>&lt;p&gt;Chrome 49, 64-bit&lt;/p&gt;</environment>
        <key id="12946477">SPARK-13645</key>
            <summary>DAG Diagram not shown properly in Chrome</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/bug.png">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.png">Major</priority>
                        <status id="1" iconUrl="https://issues.apache.org/jira/images/icons/statuses/open.png" description="The issue is open and ready for the assignee to start work on it.">Open</status>
                    <statusCategory id="2" key="new" colorName="blue-gray"/>
                                    <resolution id="-1">Unresolved</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="todd_leo">Todd Leo</reporter>
                        <labels>
                    </labels>
                <created>Thu, 3 Mar 2016 09:05:01 +0000</created>
                <updated>Thu, 3 Mar 2016 09:13:23 +0000</updated>
                                            <version>1.6.0</version>
                                                    <component>Web UI</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                        <attachments>
                            <attachment id="12791133" name="Slack for iOS Upload.jpg" size="5447341" author="todd_leo" created="Thu, 3 Mar 2016 09:11:22 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i2u34n:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                    </customfields>
    </item>

<item>
            <title>[SPARK-13644] Add the source file name and line into Logger when an exception occurs in the generated code</title>
                <link>https://issues.apache.org/jira/browse/SPARK-13644</link>
                <project id="12315420" key="SPARK">Spark</project>
                    <description>&lt;p&gt;This is to show a message points out the origin of a generated method when an exception occurs in the generated method at runtime.&lt;/p&gt;

&lt;p&gt;An example of a message (the first line is newly added)&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
07:49:29.525 ERROR org.apache.spark.sql.catalyst.expressions.GeneratedClass$GeneratedIterator: The method GeneratedIterator.processNext() is generated &lt;span class=&quot;code-keyword&quot;&gt;for&lt;/span&gt; filter at Test.scala:23
07:49:29.526 ERROR org.apache.spark.executor.Executor: Exception in task 1.0 in stage 2.0 (TID 4)
java.lang.NullPointerException:
        at ...
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</description>
                <environment></environment>
        <key id="12946474">SPARK-13644</key>
            <summary>Add the source file name and line into Logger when an exception occurs in the generated code</summary>
                <type id="4" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/improvement.png">Improvement</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.png">Minor</priority>
                        <status id="1" iconUrl="https://issues.apache.org/jira/images/icons/statuses/open.png" description="The issue is open and ready for the assignee to start work on it.">Open</status>
                    <statusCategory id="2" key="new" colorName="blue-gray"/>
                                    <resolution id="-1">Unresolved</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="kiszk">Kazuaki Ishizaki</reporter>
                        <labels>
                    </labels>
                <created>Thu, 3 Mar 2016 08:50:25 +0000</created>
                <updated>Thu, 3 Mar 2016 11:49:18 +0000</updated>
                                                                            <component>SQL</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                        <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12311024" key="com.atlassian.jira.plugin.system.customfieldtypes:textfield">
                        <customfieldname>External issue ID</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>&lt;a href=&quot;https://issues.apache.org/jira/browse/SPARK-13432&quot; title=&quot;Add the origin of the source code into a generated Java code&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SPARK-13432&quot;&gt;SPARK-13432&lt;/a&gt;</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i2u33z:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                    </customfields>
    </item>

<item>
            <title>[SPARK-13643] Create SparkSession interface</title>
                <link>https://issues.apache.org/jira/browse/SPARK-13643</link>
                <project id="12315420" key="SPARK">Spark</project>
                    <description></description>
                <environment></environment>
        <key id="12946432">SPARK-13643</key>
            <summary>Create SparkSession interface</summary>
                <type id="7" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/subtask_alternate.png">Sub-task</type>
                            <parent id="12944383">SPARK-13485</parent>
                                    <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.png">Major</priority>
                        <status id="1" iconUrl="https://issues.apache.org/jira/images/icons/statuses/open.png" description="The issue is open and ready for the assignee to start work on it.">Open</status>
                    <statusCategory id="2" key="new" colorName="blue-gray"/>
                                    <resolution id="-1">Unresolved</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="rxin">Reynold Xin</reporter>
                        <labels>
                    </labels>
                <created>Thu, 3 Mar 2016 07:32:16 +0000</created>
                <updated>Thu, 3 Mar 2016 07:32:16 +0000</updated>
                                                                            <component>SQL</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                        <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i2u2un:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12310320" key="com.atlassian.jira.plugin.system.customfieldtypes:multiversion">
                        <customfieldname>Target Version/s</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue>12329449</customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                </customfields>
    </item>

<item>
            <title>[SPARK-13642] Properly handle signal kill of ApplicationMaster</title>
                <link>https://issues.apache.org/jira/browse/SPARK-13642</link>
                <project id="12315420" key="SPARK">Spark</project>
                    <description>&lt;p&gt;Currently when running Spark on Yarn with yarn cluster mode, the default application final state is &quot;SUCCEED&quot;, if any exception is occurred, this final state will be changed to &quot;FAILED&quot; and trigger the reattempt if possible. &lt;/p&gt;

&lt;p&gt;This is OK in normal case, but if there&apos;s a race condition when AM received a signal (SIGTERM) and no any exception is occurred. In this situation, shutdown hook will be invoked and marked this application as finished with success, and there&apos;s no another attempt.&lt;/p&gt;

&lt;p&gt;In such situation, actually from Spark&apos;s aspect this application is failed and need another attempt, but from Yarn&apos;s aspect the application is finished with success.&lt;/p&gt;

&lt;p&gt;This could happened in NM failure situation, the failure of NM will send SIGTERM to AM, AM should mark this attempt as failure and rerun again, not invoke unregister.&lt;/p&gt;

&lt;p&gt;So to increase the chance of this race condition, here is the reproduced code:&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
val sc = ...
&lt;span class=&quot;code-object&quot;&gt;Thread&lt;/span&gt;.sleep(30000L)
sc.parallelize(1 to 100).collect()
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;If the AM is failed in sleeping, there&apos;s no exception been thrown, so from Yarn&apos;s point this application is finished successfully, but from Spark&apos;s point, this application should be reattempted.&lt;/p&gt;

&lt;p&gt;The log normally like this:&lt;/p&gt;

&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;16/03/03 12:44:19 INFO ContainerManagementProtocolProxy: Opening proxy : 192.168.0.105:45454
16/03/03 12:44:21 INFO YarnClusterSchedulerBackend: Registered executor NettyRpcEndpointRef(null) (192.168.0.105:57461) with ID 2
16/03/03 12:44:21 INFO BlockManagerMasterEndpoint: Registering block manager 192.168.0.105:57462 with 511.1 MB RAM, BlockManagerId(2, 192.168.0.105, 57462)
16/03/03 12:44:23 INFO YarnClusterSchedulerBackend: Registered executor NettyRpcEndpointRef(null) (192.168.0.105:57467) with ID 1
16/03/03 12:44:23 INFO BlockManagerMasterEndpoint: Registering block manager 192.168.0.105:57468 with 511.1 MB RAM, BlockManagerId(1, 192.168.0.105, 57468)
16/03/03 12:44:23 INFO YarnClusterSchedulerBackend: SchedulerBackend is ready for scheduling beginning after reached minRegisteredResourcesRatio: 0.8
16/03/03 12:44:23 INFO YarnClusterScheduler: YarnClusterScheduler.postStartHook done
16/03/03 12:44:39 ERROR ApplicationMaster: RECEIVED SIGNAL 15: SIGTERM
16/03/03 12:44:39 INFO SparkContext: Invoking stop() from shutdown hook
16/03/03 12:44:39 INFO ContextHandler: stopped o.e.j.s.ServletContextHandler{/metrics/json,null}
16/03/03 12:44:39 INFO ContextHandler: stopped o.e.j.s.ServletContextHandler{/stages/stage/kill,null}
16/03/03 12:44:39 INFO ContextHandler: stopped o.e.j.s.ServletContextHandler{/api,null}
16/03/03 12:44:39 INFO ContextHandler: stopped o.e.j.s.ServletContextHandler{/,null}
16/03/03 12:44:39 INFO ContextHandler: stopped o.e.j.s.ServletContextHandler{/static,null}
16/03/03 12:44:39 INFO ContextHandler: stopped o.e.j.s.ServletContextHandler{/executors/threadDump/json,null}
16/03/03 12:44:39 INFO ContextHandler: stopped o.e.j.s.ServletContextHandler{/executors/threadDump,null}
16/03/03 12:44:39 INFO ContextHandler: stopped o.e.j.s.ServletContextHandler{/executors/json,null}
16/03/03 12:44:39 INFO ContextHandler: stopped o.e.j.s.ServletContextHandler{/executors,null}
16/03/03 12:44:39 INFO ContextHandler: stopped o.e.j.s.ServletContextHandler{/environment/json,null}
16/03/03 12:44:39 INFO ContextHandler: stopped o.e.j.s.ServletContextHandler{/environment,null}
16/03/03 12:44:39 INFO ContextHandler: stopped o.e.j.s.ServletContextHandler{/storage/rdd/json,null}
16/03/03 12:44:39 INFO ContextHandler: stopped o.e.j.s.ServletContextHandler{/storage/rdd,null}
16/03/03 12:44:39 INFO ContextHandler: stopped o.e.j.s.ServletContextHandler{/storage/json,null}
16/03/03 12:44:39 INFO ContextHandler: stopped o.e.j.s.ServletContextHandler{/storage,null}
16/03/03 12:44:39 INFO ContextHandler: stopped o.e.j.s.ServletContextHandler{/stages/pool/json,null}
16/03/03 12:44:39 INFO ContextHandler: stopped o.e.j.s.ServletContextHandler{/stages/pool,null}
16/03/03 12:44:39 INFO ContextHandler: stopped o.e.j.s.ServletContextHandler{/stages/stage/json,null}
16/03/03 12:44:39 INFO ContextHandler: stopped o.e.j.s.ServletContextHandler{/stages/stage,null}
16/03/03 12:44:39 INFO ContextHandler: stopped o.e.j.s.ServletContextHandler{/stages/json,null}
16/03/03 12:44:39 INFO ContextHandler: stopped o.e.j.s.ServletContextHandler{/stages,null}
16/03/03 12:44:39 INFO ContextHandler: stopped o.e.j.s.ServletContextHandler{/jobs/job/json,null}
16/03/03 12:44:39 INFO ContextHandler: stopped o.e.j.s.ServletContextHandler{/jobs/job,null}
16/03/03 12:44:39 INFO ContextHandler: stopped o.e.j.s.ServletContextHandler{/jobs/json,null}
16/03/03 12:44:39 INFO ContextHandler: stopped o.e.j.s.ServletContextHandler{/jobs,null}
16/03/03 12:44:39 INFO SparkUI: Stopped Spark web UI at http://192.168.0.105:57452
16/03/03 12:44:39 INFO YarnAllocator: Driver requested a total number of 0 executor(s).
16/03/03 12:44:39 INFO YarnAllocator: Canceling requests for 0 executor containers
16/03/03 12:44:39 INFO YarnClusterSchedulerBackend: Shutting down all executors
16/03/03 12:44:39 WARN YarnAllocator: Expected to find pending requests, but found none.
16/03/03 12:44:39 INFO YarnClusterSchedulerBackend: Asking each executor to shut down
16/03/03 12:44:39 INFO SchedulerExtensionServices: Stopping SchedulerExtensionServices
(serviceOption=None,
 services=List(),
 started=false)
16/03/03 12:44:39 INFO MapOutputTrackerMasterEndpoint: MapOutputTrackerMasterEndpoint stopped!
16/03/03 12:44:39 INFO MemoryStore: MemoryStore cleared
16/03/03 12:44:39 INFO BlockManager: BlockManager stopped
16/03/03 12:44:39 INFO BlockManagerMaster: BlockManagerMaster stopped
16/03/03 12:44:39 INFO OutputCommitCoordinator$OutputCommitCoordinatorEndpoint: OutputCommitCoordinator stopped!
16/03/03 12:44:39 INFO SparkContext: Successfully stopped SparkContext
16/03/03 12:44:39 INFO ApplicationMaster: Final app status: SUCCEEDED, exitCode: 0, (reason: Shutdown hook called before final status was reported.)
16/03/03 12:44:39 INFO ApplicationMaster: Unregistering ApplicationMaster with SUCCEEDED (diag message: Shutdown hook called before final status was reported.)
16/03/03 12:44:39 INFO AMRMClientImpl: Waiting for application to be successfully unregistered.
16/03/03 12:44:39 INFO ApplicationMaster: Deleting staging directory .sparkStaging/application_1456975940304_0004
16/03/03 12:44:40 INFO ShutdownHookManager: Shutdown hook called
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;So basically, I think only after the finish of user class, we could mark this application as &quot;SUCCESS&quot;, otherwise, especially in the signal stopped scenario, it would be better to mark as failed and try again (except explicitly KILL command by yarn).&lt;/p&gt;</description>
                <environment></environment>
        <key id="12946415">SPARK-13642</key>
            <summary>Properly handle signal kill of ApplicationMaster</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/bug.png">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.png">Major</priority>
                        <status id="3" iconUrl="https://issues.apache.org/jira/images/icons/statuses/inprogress.png" description="This issue is being actively worked on at the moment by the assignee.">In Progress</status>
                    <statusCategory id="4" key="indeterminate" colorName="yellow"/>
                                    <resolution id="-1">Unresolved</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="jerryshao">Saisai Shao</reporter>
                        <labels>
                    </labels>
                <created>Thu, 3 Mar 2016 06:38:36 +0000</created>
                <updated>Fri, 4 Mar 2016 06:09:07 +0000</updated>
                                            <version>1.6.0</version>
                                                    <component>YARN</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>3</watches>
                                                                <comments>
                            <comment id="15177347" author="jerryshao" created="Thu, 3 Mar 2016 06:44:45 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=tgraves&quot; class=&quot;user-hover&quot; rel=&quot;tgraves&quot;&gt;Thomas Graves&lt;/a&gt; &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=vanzin&quot; class=&quot;user-hover&quot; rel=&quot;vanzin&quot;&gt;Marcelo Vanzin&lt;/a&gt;, would you please comment on this, why the default application final state is &quot;SUCCESS&quot;? Is it better to mark this application as &quot;SUCCESS&quot; only after user class is exited? Thanks a lot.&lt;/p&gt;</comment>
                            <comment id="15177905" author="tgraves" created="Thu, 3 Mar 2016 14:53:07 +0000"  >&lt;p&gt;The problem is that you really don&apos;t want the opposite to happen... ie a success attempt to be marked as failed because then it will be retried and you could mess up good data.&lt;/p&gt;

&lt;p&gt;          // We report success to avoid&lt;br/&gt;
          // retrying applications that have succeeded (System.exit(0)), which means that&lt;br/&gt;
          // applications that explicitly exit with a non-zero status will also show up as&lt;br/&gt;
          // succeeded in the RM UI.&lt;/p&gt;

&lt;p&gt;In your above case stop() was called on the SparkContext and we assume stop means the application ran til finish thus was successful from YARNs point of view.&lt;/p&gt;

&lt;p&gt;I think we would need a better way for the YARN side to really know what happened on the driver side.&lt;/p&gt;</comment>
                            <comment id="15179102" author="jerryshao" created="Fri, 4 Mar 2016 01:23:13 +0000"  >&lt;p&gt;Hi &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=tgraves&quot; class=&quot;user-hover&quot; rel=&quot;tgraves&quot;&gt;Thomas Graves&lt;/a&gt;, thanks a lot for your comments. I think here &lt;tt&gt;stop()&lt;/tt&gt; is not called explicitly by the user&apos;s code when app is finished, this is triggered in shutdown hook when receiving a signal.&lt;/p&gt;

&lt;p&gt;If the AM is terminated by signal, except deliberately killing, the application is actually in the middle of runtime, so does it make sense to mark it as successful? In this specific case, we expect another attempt but yarn fails to do it. Personally I think we should handle this situation properly.&lt;/p&gt;
</comment>
                            <comment id="15179400" author="apachespark" created="Fri, 4 Mar 2016 06:09:05 +0000"  >&lt;p&gt;User &apos;jerryshao&apos; has created a pull request for this issue:&lt;br/&gt;
&lt;a href=&quot;https://github.com/apache/spark/pull/11512&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://github.com/apache/spark/pull/11512&lt;/a&gt;&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Thu, 3 Mar 2016 14:53:07 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i2u2qv:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                    </customfields>
    </item>

<item>
            <title>[SPARK-13641] getModelFeatures of ml.api.r.SparkRWrapper cannot (always) reveal the original column names</title>
                <link>https://issues.apache.org/jira/browse/SPARK-13641</link>
                <project id="12315420" key="SPARK">Spark</project>
                    <description>&lt;p&gt;getModelFeatures of ml.api.r.SparkRWrapper cannot (always) reveal the original column names. Let&apos;s take the HouseVotes84 data set as an example:&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
&lt;span class=&quot;code-keyword&quot;&gt;case&lt;/span&gt; m: XXXModel =&amp;gt;
  val attrs = AttributeGroup.fromStructField(
    m.summary.predictions.schema(m.summary.featuresCol))
  attrs.attributes.get.map(_.name.get)
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;The code above gets features&apos; names from the features column. Usually, the features column is generated by RFormula. The latter has a VectorAssembler in it, which leads the output attributes not equal with the original ones.&lt;/p&gt;

&lt;p&gt;E.g., we want to learn the HouseVotes84&apos;s features&apos; name &quot;V1, V2, ..., V16&quot;. But with RFormula, we can only get &quot;V1_n, V2_y, ..., V16_y&quot; because &lt;a href=&quot;https://github.com/apache/spark/blob/master/mllib/src/main/scala/org/apache/spark/ml/feature/VectorAssembler.scala#L75&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;the transform function of VectorAssembler&lt;/a&gt; adds salts of the column names.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12946413">SPARK-13641</key>
            <summary>getModelFeatures of ml.api.r.SparkRWrapper cannot (always) reveal the original column names</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/bug.png">Bug</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.png">Minor</priority>
                        <status id="1" iconUrl="https://issues.apache.org/jira/images/icons/statuses/open.png" description="The issue is open and ready for the assignee to start work on it.">Open</status>
                    <statusCategory id="2" key="new" colorName="blue-gray"/>
                                    <resolution id="-1">Unresolved</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="yinxusen">Xusen Yin</reporter>
                        <labels>
                    </labels>
                <created>Thu, 3 Mar 2016 06:20:59 +0000</created>
                <updated>Sat, 5 Mar 2016 22:35:57 +0000</updated>
                                                                            <component>ML</component>
                    <component>SparkR</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>3</watches>
                                                                <comments>
                            <comment id="15178517" author="gayathrimurali" created="Thu, 3 Mar 2016 20:04:27 +0000"  >&lt;p&gt;I can work on this. Can you please assign it to me&lt;/p&gt;</comment>
                            <comment id="15178674" author="xusen" created="Thu, 3 Mar 2016 21:48:40 +0000"  >&lt;p&gt;Gayathri, you can just go ahead and work on it.&lt;/p&gt;




&lt;p&gt;&amp;#8211; &lt;br/&gt;
Cheers,&lt;br/&gt;
Xusen Yin&lt;/p&gt;</comment>
                            <comment id="15179241" author="gayathrimurali" created="Fri, 4 Mar 2016 03:21:29 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=xusen&quot; class=&quot;user-hover&quot; rel=&quot;xusen&quot;&gt;Xusen Yin&lt;/a&gt; I can remove c_feature from Vector Assembler code, but is the naming convention intentional?  &lt;/p&gt;</comment>
                            <comment id="15181130" author="yinxusen" created="Fri, 4 Mar 2016 23:48:22 +0000"  >&lt;p&gt;I am not quite familiar with it but I think it&apos;s intentional. Refer to the JIRA &lt;a href=&quot;https://issues.apache.org/jira/browse/SPARK-7198&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;SPARK 7198&lt;/a&gt; and bring &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=mengxr&quot; class=&quot;user-hover&quot; rel=&quot;mengxr&quot;&gt;Xiangrui Meng&lt;/a&gt; here.&lt;/p&gt;</comment>
                            <comment id="15181294" author="yinxusen" created="Fri, 4 Mar 2016 23:48:56 +0000"  >&lt;p&gt;Or maybe we try to find another way to extract the feature names.&lt;/p&gt;</comment>
                            <comment id="15181369" author="gayathrimurali" created="Sat, 5 Mar 2016 00:47:55 +0000"  >&lt;p&gt;Yes, it looks intentional to carry metadata. There are multiple ways in which it can stripped out. I will let &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=mengxr&quot; class=&quot;user-hover&quot; rel=&quot;mengxr&quot;&gt;Xiangrui Meng&lt;/a&gt; to answer if its ok to strip out the &quot;c_&quot; from feature names in the SparkRWrapper&lt;/p&gt;</comment>
                            <comment id="15181819" author="gayathrimurali" created="Sat, 5 Mar 2016 19:00:40 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=xusen&quot; class=&quot;user-hover&quot; rel=&quot;xusen&quot;&gt;Xusen Yin&lt;/a&gt; Can you list the steps to reproduce the bug? &lt;/p&gt;</comment>
                            <comment id="15181872" author="yinxusen" created="Sat, 5 Mar 2016 22:35:57 +0000"  >&lt;p&gt;You can checkout code from &lt;a href=&quot;https://github.com/apache/spark/pull/11486&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://github.com/apache/spark/pull/11486&lt;/a&gt;.&lt;/p&gt;

&lt;p&gt;Run ./bin/sparkR with this &lt;a href=&quot;https://github.com/yinxusen/spark/blob/SPARK-13449/R/pkg/inst/tests/testthat/test_mllib.R#L145&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;test example&lt;/a&gt;. With summary(model) you can see the column names are not the original.&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                                                <inwardlinks description="is related to">
                                        <issuelink>
            <issuekey id="12941321">SPARK-13449</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Thu, 3 Mar 2016 20:04:27 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i2u2qf:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                    </customfields>
    </item>
</channel>
</rss>